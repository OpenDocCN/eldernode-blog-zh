<html>
<head>
<title>Tutorial Limit SSH with UFW Firewall on CentOS - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>CentOS - Eldernode博客上用UFW防火墙限制SSH的教程</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/limit-ssh-with-ufw-firewall-on-centos/#0001-01-01">https://blog.eldernode.com/limit-ssh-with-ufw-firewall-on-centos/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/516d96b91eff672b74fef755136ec1ce.png" data-src="https://blog.eldernode.com/wp-content/uploads/2021/08/Tutorial-Limit-SSH-with-UFW-Firewall-on-CentOS.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Tutorial Limit SSH with UFW Firewall on CentOS" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/08/Tutorial-Limit-SSH-with-UFW-Firewall-on-CentOS.png 2069w, https://blog.eldernode.com/wp-content/uploads/2021/08/Tutorial-Limit-SSH-with-UFW-Firewall-on-CentOS-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/08/Tutorial-Limit-SSH-with-UFW-Firewall-on-CentOS-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2021/08/Tutorial-Limit-SSH-with-UFW-Firewall-on-CentOS-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2021/08/Tutorial-Limit-SSH-with-UFW-Firewall-on-CentOS-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2021/08/Tutorial-Limit-SSH-with-UFW-Firewall-on-CentOS-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/08/Tutorial-Limit-SSH-with-UFW-Firewall-on-CentOS.png"/><p>防火墙是一种监控和过滤进出网络流量的工具。它定义了一组允许或阻止特定流量的安全规则。UFW是管理iptables防火墙规则的用户友好视图。顾名思义，它的主要目的是使防火墙管理更容易。在这篇文章中，我们将教你如何在CentOS 上用UFW防火墙限制SSH。如果你想购买一台<a href="https://eldernode.com/centos-vps/" target="_blank" rel="noopener"> <strong> CentOS VPS </strong> </a>服务器，你可以访问<a href="https://eldernode.com/" target="_blank" rel="noopener"> Eldernode </a>中的软件包。</p><h2><span class="ez-toc-section" id="How_to_Limit_SSH_with_UFW_Firewall_on_CentOS_7_8"/> <strong>如何在CentOS上用UFW防火墙限制SSH，8】</strong><span class="ez-toc-section-end"/></h2><h3><span class="ez-toc-section" id="How_to_Setup_UFW_Firewall_on_CentOS"/> <strong>如何在CentOS</strong>T3上设置UFW防火墙</h3><p>为了全面学习本教程，我们需要在本节中首先教您在<a href="https://blog.eldernode.com/tag/centos/"> CentOS </a>上设置UFW防火墙。为此，只需遵循以下步骤。</p><p>第一步，需要确保您已经激活了<strong>回购EPEL </strong>。所以需要用下面的命令<strong>安装UFW </strong>:</p><pre><code class="language-bash">sudo yum -y install ufw</code></pre><p>现在您可以使用以下命令查看<strong> UFW安装状态</strong>:</p><pre><code class="language-bash">sudo ufw status</code></pre><h2><span class="ez-toc-section" id="Limit_SSH_with_UFW_Firewall_on_CentOS_7_8"/><strong>CentOS上用UFW防火墙限制SSH，8】</strong><span class="ez-toc-section-end"/></h2><p>在本节中，我们将向您展示如何在CentOS上使用UFW防火墙来限制SSH。要做到这一点，请注意本教程的继续。现在要注意的是，基本防火墙拒绝所有输入流量，允许输出流量，这是一个很好的起点。您可以使用以下命令轻松调整默认规则:</p><pre><code class="language-bash">sudo ufw default deny incoming</code></pre><pre><code class="language-bash">sudo ufw default allow outgoing</code></pre><p>如果你愿意，你可以在网上开通任何你想要的服务。例如，您可以像以下命令一样打开防火墙:</p><pre><code class="language-bash">sudo ufw allow ssh</code></pre><p>或者</p><pre><code class="language-bash">sudo ufw allow https</code></pre><p>正如您在以下命令中看到的，对于非标准或不常见的端口，您可以指定端口号而不是服务:</p><pre><code class="language-bash">sudo ufw allow 2222</code></pre><p>您还可以通过使用以下命令将它添加到末尾来进一步缩小到协议:</p><pre><code class="language-bash">sudo ufw allow 2222/tcp</code></pre><p>您可以使用以下命令为FTP添加一系列端口:</p><pre><code class="language-bash">sudo ufw allow 3000:4000/tcp</code></pre><p>您可能有一个固定的IP地址，并希望允许所有网络流量。在这种情况下，您应该使用以下命令:</p><pre><code class="language-bash">sudo ufw allow from 123.123.123.123</code></pre><p>您也可以通过运行以下命令来阻止通过IP的流量:</p><pre><code class="language-bash">sudo ufw deny from 123.123.123.123</code></pre><p>您可以借助以下命令来调整防火墙:</p><pre><code class="language-bash">sudo systemctl enable ufw</code></pre><p>最后，您可以发出以下命令来禁用防火墙:</p><pre><code class="language-bash">sudo ufw disable</code></pre><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>默认情况下，UFW防火墙会阻止所有传入和传出连接，并允许所有传出连接。这意味着任何想要访问您的服务器的人都将无法连接，除非您特别打开该端口。在本文中，我们试图教你如何在CentOS上用UFW防火墙限制SSH。如果愿意可以参考Ubuntu 20.04 上的文章<a href="https://blog.eldernode.com/limit-ssh-with-ufw-on-ubuntu/">教程用UFW限制SSH。</a></p></div></div>    
</body>
</html>