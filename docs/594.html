<html>
<head>
<title>How to test security of VPS Server - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何测试VPS服务器- Eldernode博客的安全性</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/how-to-test-security-of-vps/#0001-01-01">https://blog.eldernode.com/how-to-test-security-of-vps/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/2686b11b060b834f9be8a577dccc33ad.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/10/How-to-test-security-of-VPS.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="How to test security of VPS" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/10/How-to-test-security-of-VPS.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/10/How-to-test-security-of-VPS-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/10/How-to-test-security-of-VPS-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/10/How-to-test-security-of-VPS-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/10/How-to-test-security-of-VPS-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/10/How-to-test-security-of-VPS-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/10/How-to-test-security-of-VPS.png"/><p>【更新】服务器安全是信息技术领域最基本的问题之一，需要大量的专业知识来实现安全。服务器安全包括一系列主题:网络安全、操作系统安全、web服务安全及其安全配置。在本文中，所有的服务器安全需求都将被检查和总结，它们是网站和信息的基础。我们也在尝试教你如何测试VPS服务器的安全性。你可以访问<a href="https://eldernode.com/" target="_blank" rel="noopener"> Eldernode </a>的套装来购买<a href="https://eldernode.com/vps/" target="_blank" rel="noopener"> VPS服务器</a>。</p><h2><span class="ez-toc-section" id="Tutorial_test_security_of_VPS_Server"/>教程测试VPS服务器的安全性<span class="ez-toc-section-end"/></h2><p>目前讨论和使用较多的是<a href="https://eldernode.com/linux-vps/"> Linux vps </a>服务器安全和Windows服务器安全。这两种操作系统具有完全不同的结构和操作模式，仅在某些情况下有共同点。在Linux服务器中，通常会提供一个具有最小操作系统的服务器，这当然非常适合用户对web服务的需求。centos操作系统在Linux托管服务器上最常用，流行且强大的<a href="https://blog.eldernode.com/tag/cpanel/"> Cpanel </a>和<a href="https://blog.eldernode.com/tag/direct-admin/"> DirectAdmin </a>控制面板也支持这个Linux发行版。</p><h2><span class="ez-toc-section" id="How_to_test_security_of_VPS_Server"/> <strong>如何测试VPS服务器的安全性</strong> <span class="ez-toc-section-end"/></h2><p>由于在共享主机服务中，大量的站点共享在一个服务器上，并使用共享的空间和资源，因此安全性应该得到更多的关注。在这篇文章的后续部分，加入我们来学习如何测试VPS的安全性。</p><h3><span class="ez-toc-section" id="Start_working_with_the_server"/>开始使用服务器<span class="ez-toc-section-end"/></h3><p>鉴于我们使用的操作系统是<a href="https://blog.eldernode.com/tag/windows/"> Windows </a>，与Linux服务器的通信由putty软件和Windows服务器通过远程桌面连接来完成。根据本文关于安全的主题，在安装了服务器上使用的操作系统和服务后，您应该遵循一些原则，如限制服务、禁用不可用的服务。</p><h3><span class="ez-toc-section" id="Server_security_configuration"/>服务器安全配置<span class="ez-toc-section-end"/></h3><p>由于在新时代，安全威胁和攻击方式呈现出新的形式，并且每天都在变化，因此组织和机构中的安全服务也必须根据这些变化进行更新。信息安全服务是一组安全服务，涵盖公司和组织的服务器的广泛信息和安全需求。</p><p>内部和外部代理发布间谍软件和恶意软件，或者这些代理泄露重要信息，都是这些威胁的例子。</p><h3><span class="ez-toc-section" id="Penetration_test"/>渗透测试<span class="ez-toc-section-end"/></h3><p>渗透测试是一种系统的、有计划的方法，检查服务器、网络以及与之相连的资源和程序的漏洞和安全漏洞。这种服务属于第一类，模拟黑客对预定目标的攻击，并在识别安全漏洞后，提供适当的解决方案来保护它们。</p><h3><span class="ez-toc-section" id="Types_of_penetration_testing"/>渗透检测的类型<span class="ez-toc-section-end"/></h3><p><strong> 1。</strong> <strong>透明测试</strong></p><p><strong> 2。黑盒测试</strong></p><p><strong> 3。灰盒测试</strong></p><p>在<strong>黑盒</strong> <strong>测试</strong>中，测试人员没有关于系统的先验信息而进行测试。然而，在<strong>透明测试</strong>中，测试人员拥有完整的规格说明和关于系统的全面信息，并基于此执行模拟攻击，而在<strong>灰箱测试</strong>中，测试人员只能访问部分信息，并不具备全面的信息。</p><p>根据系统的敏感性及其安全级别，应该进行测试。如果需要高安全性，应该执行透明测试，如果系统及其安全性不太重要，一个<strong>灰盒</strong>和一个<strong>黑盒</strong>测试就足够了。事实上，渗透测试应该有计划地进行，并事先与系统所有者协调，不能因为某些设备或网络系统在测试过程中可能出现问题而采取不协调的行动。</p><h3><span class="ez-toc-section" id="Set_up_SIM"/>设置SIM卡<span class="ez-toc-section-end"/></h3><p>维护组织安全的关键之一是使用称为SIM或安全信息管理的产品。在这个软件的帮助下，我们可以获得关于一个系统事件的完整信息，以便对它们进行分析。</p><p>安全信息管理系统是一种软件，它收集不同系统的所有日志，并在检测到意外行为或所谓的不良行为时对系统日志做出反应。</p><h3><span class="ez-toc-section" id="Set_up_IDS_IPS"/>设置IDS / IPS <span class="ez-toc-section-end"/></h3><p>系统比防火墙更详细地检测和防止网络上的流量入侵。与防病毒系统类似，IDS和IPS工具监控流量，并将每个数据包与已知攻击规范的数据库进行比较。</p><p>一旦检测到攻击模式，这些工具就会生效。IDS和IPS有许多共同的特征。事实上，大多数IPS的核心都有一个IDS。这些技术之间的主要区别是IDS工具检测网络流量，以提醒恶意用户注意攻击；但是IPS工具更进一步，自动阻止有害流量。</p><p> </p><p><img data-lazyloaded="1" src="../Images/f60cd53c1b790488dc4b4495e8203796.png" decoding="async" loading="lazy" class="size-full wp-image-15465 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2020/10/how-to-setup-ids-ips.jpg" alt="how to setup ids - ips" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/10/how-to-setup-ids-ips.jpg 625w, https://blog.eldernode.com/wp-content/uploads/2020/10/how-to-setup-ids-ips-300x198.jpg 300w" data-sizes="(max-width: 625px) 100vw, 625px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/10/how-to-setup-ids-ips.jpg"/></p><p> </p><p><em> <strong>注:</strong> </em>日志监控系统是能够收集和上报各种系统日志的软件。</p><h3><span class="ez-toc-section" id="Firewall_Installation"/>防火墙安装<span class="ez-toc-section-end"/></h3><p>以最佳和最安全的方式在组织和公司中设置防火墙和UTM硬件和软件UTM是任何组织的安全需求之一。</p><p>软件防火墙安装在操作系统上，控制进出网络或操作系统的流量。这种防火墙主要用于家庭以及中小型组织和公司。针对未授权访问、特洛伊木马和恶意代码、计算机蠕虫等的软件防火墙可以保护系统。</p><p>硬件防火墙通常由制造商作为基础设施安装在硬件板上，并且通常在网络上作为路由器运行。路由器也可以作为硬件防火墙在网络上运行。默认情况下，硬件<a href="https://blog.eldernode.com/add-a-rule-in-windows-firewall/">防火墙</a>可以防止不需要的数据和流量进入网络和信息，而无需进行任何初始调整。</p><h3><span class="ez-toc-section" id="Manage_security_holes"/>管理安全漏洞<span class="ez-toc-section-end"/></h3><p>更新管理软件和安全漏洞，为小型和大型网络节省时间、金钱和带宽，为网络内的系统提供安全报告，并在尽可能短的时间内进行更新。</p><h3><span class="ez-toc-section" id="Web_application_security_%E2%80%8C"/>网络应用安全‌ <span class="ez-toc-section-end"/></h3><p>使用不同技术测试、扫描和修复web应用程序安全漏洞的解决方案和服务。</p><h3><span class="ez-toc-section" id="Security_and_risk_advice"/>安全和风险建议<span class="ez-toc-section-end"/></h3><p>恶意软件攻击后受损系统的风险管理和安全领域的咨询，以及信息安全管理系统(ISMS)的实施和部署，这是一个管理解决方案，用于创建、实施和部署、监测和审查以及维护和改善组织内的信息安全。</p><h3><span class="ez-toc-section" id="Prevent_Simlink_attacks"/>防止Simlink攻击<span class="ez-toc-section-end"/></h3><p>防止Simlink攻击是服务器管理和安全的最基本方面之一。通过防止Simlink攻击，服务器上每个用户的安全性将得到考虑，并且它的弱点不会对其他帐户产生负面影响。</p><h3><span class="ez-toc-section" id="What_is_Simlink"/>什么是Simlink？<span class="ez-toc-section-end"/></h3><p>Simlink是一种允许您创建从一个文件或目录到另一个文件或目录的引用的功能。例如，<strong>test.php</strong>文件位于<em> <strong>首页/测试</strong> </em>路径。如果我们想让<strong>test.php</strong>文件在另一个路径中可见、可执行甚至可编辑，例如<strong> <em> home/sample </em> </strong>，我们可以使用symlink。许多操作系统都支持这一特性，但是它们的名称和功能是不同的。</p><p> </p><p><img data-lazyloaded="1" src="../Images/ca7bc7685a7bb51cb4bf228d85325d5b.png" decoding="async" loading="lazy" class="aligncenter wp-image-22053 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/10/What-is-Simlink.jpg" alt="What-is-Simlink" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/10/What-is-Simlink.jpg 384w, https://blog.eldernode.com/wp-content/uploads/2020/10/What-is-Simlink-275x300.jpg 275w" data-sizes="(max-width: 384px) 100vw, 384px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/10/What-is-Simlink.jpg"/></p><p> </p><h3><span class="ez-toc-section" id="How_to_prevent_Simlink_in_Cpanel"/>如何防止Cpanel中的sim link<span class="ez-toc-section-end"/></h3><p>预防Cpanel中的Simlink可以分几个步骤和工作方法来做。符号链接是服务器上最危险的事情之一。Simlink是Linux操作系统的核心工具之一。如果Linux服务器中的symlink的问题和限制没有得到解决，如果一个帐户受到危害，symlink也可以渗透到其他帐户。cloudlinux操作系统在很大程度上能够解决这个问题。这个操作系统使用一个名为cagefs的工具将每个帐户锁定在其域中的一个笼子中。</p><p>要防止Cpanel中出现符号链接，请执行以下操作:</p><p>1.<em>前往<strong>首页</strong>T3】服务配置T5】阿帕奇配置T7】WHM全局配置。</em></p><p>在页面上执行以下操作:</p><p>2.将下拉菜单中的服务器令牌值设置为<strong> ProductOnly </strong>。</p><p>3.取消选中“/”选项目录中的<strong> FollowSymLinks </strong>和<strong> ExecCGI </strong>。确保<strong> SymLinksIfOwnerMatch </strong>复选框已启用。</p><p>4.<strong>保存</strong>项。</p><p>5.进入<strong> <em>首页</em> </strong> <em> </em> <strong> <em>服务配置</em> </strong> <em> </em> <strong> <em> PHP配置编辑器</em> </strong>选择<strong>高级模式</strong>。</p><p>6.找到<strong> disable_functions </strong>项，并在其值中输入<strong>符号链接</strong>和<strong> ln </strong>以及可用值。</p><p>7.<strong>保存</strong>项。</p><p>8.进入<em> <strong>首页</strong> <strong>安全中心</strong><strong>Apache mod_userdir Tweak</strong></em>激活启用mod _ userdir保护复选框，点击<strong>保存</strong>。</p><p>9.进入<em> <strong>首页</strong> <strong>安全中心</strong><strong>PHP open_basedir Tweak</strong></em>勾选启用PHP open _ basedir保护复选框，点击保存。</p><p>10.进入<em> <strong>首页</strong> <strong>安全中心</strong> <strong>弹叉炸弹防护</strong> </em>点击<strong>启用防护</strong>。</p><p>11.在php的apache web服务器上使用<strong> suphp处理程序</strong>。</p><p>上述内容极大地限制了符号链接操作，但并没有完全禁用它。</p><p>还有其他因素会限制symlink，其中一些因素会导致服务出现故障，这里不做介绍。</p><h3><span class="ez-toc-section" id="How_to_prevent_Simlink_in_DirectAdmin"/>如何在DirectAdmin中阻止sim link<span class="ez-toc-section-end"/></h3><p>有几种方法可以在直接管理中阻止Simlink。</p><p>符号链接是服务器上最危险的事情之一。Simlink是Linux操作系统的核心工具之一。如果Linux服务器中的symlink的问题和限制没有得到解决，如果一个帐户受到危害，symlink也可以渗透到其他帐户。cloudlinux操作系统在很大程度上能够解决这个问题。这个操作系统使用一个名为cagefs的工具将每个帐户锁定在其域中的一个笼子中。</p><p>要在DirectAdmin中阻止符号链接，请执行下列操作:</p><p>在ssh中输入以下命令。该命令包括Simlink的安全设置。</p><pre><code class="language-bash">cd /usr/local/directadmin/custombuild</code></pre><pre><code class="language-bash">./build update</code></pre><pre><code class="language-bash">./build set harden-symlinks-patch yes</code></pre><pre><code class="language-bash">./build set secure_htaccess no</code></pre><pre><code class="language-bash">./build apache</code></pre><pre><code class="language-bash">./build rewrite_confs</code></pre><p>然后输入以下命令在ssh中找到<strong> php.ini </strong>路径:</p><pre><code class="language-bash">/usr/local/bin/php -i | grep ‘Loaded Configuration File’</code></pre><p>使用nano命令编辑文件并找到disable_functions。除了符号链接中的值，输入并<strong>保存</strong> ln。</p><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>渗透测试是一个系统的、有计划的过程，通过模拟黑客攻击来检查服务器、网络以及与之相连的资源和程序的漏洞和安全漏洞。以这种方式，渗透测试可以使用诸如主机安全系统等内部资源或外部资源来控制和组织。因此，这种模拟攻击的测试用于发现问题，并测量服务器和与之相连的网络的安全性。本文完整地解释了如何测试VPS的安全性。如果你愿意，可以参考文章<a href="https://blog.eldernode.com/20-ways-to-secure-a-linux-virtual-server-to-prevent-hacking/"> 20种保护Linux虚拟服务器防止黑客攻击的方法</a>。</p></div></div>    
</body>
</html>