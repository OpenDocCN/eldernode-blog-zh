<html>
<head>
<title>How to install Java with Apt on Debian 10 - java in debian 10</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在Debian 10上用Apt安装Java-Debian 10中的Java</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/install-java-apt-debian-10/#0001-01-01">https://blog.eldernode.com/install-java-apt-debian-10/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/a61e8b9b2a167d997d890bbae05e0ff7.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2178.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="How to install Java with Apt on Debian 10" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2178.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2178-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2178-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2178-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2178-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2178-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2178.png"/><p>许多软件都需要Java和Java虚拟机。在本文中，你将学习如何在Debian 10 上用Apt安装Java。请遵循本指南，查看不同版本的Java安装。</p><p>您将安装OpenJDK 11以及Oracle的官方Java 11软件，并选择您喜欢的版本用于您的项目。然后，您可以使用JDK来开发软件，或者使用Java运行时来运行软件。</p><p> </p><p><strong>先决条件</strong></p><p>如果您知道以下内容，本教程可能会更有用:</p><h2><span class="ez-toc-section" id="How_to_install_Java_with_Apt_on_Debian_10"/> <span>如何在Debian 10上用Apt安装Java</span><span class="ez-toc-section-end"/></h2><p>让我们通过以下步骤来完成这个有趣而简单的指南。</p><h3/><h3 id="installing-the-default-jre-jdk"><span class="ez-toc-section" id="Installing_the_Default_JREJDK"/> <span>安装默认的JRE/JDK</span>T3】</h3><p>你会看到安装Java最简单的选择，就是使用Debian打包的版本。因为Debian 10默认包含OpenJDK version 11，是JRE和JDK的开源变种，与Java 11兼容。</p><p>首先，更新你的<span> <strong> apt </strong> </span>包索引:</p><pre><code class="language-bash">sudo apt update</code></pre><p>检查Java <strong>是否已经安装</strong>或者<strong>没有安装</strong>:</p><pre><code class="language-bash">java -version  </code></pre><p class="code-pre command prefixed">如果<strong>不是</strong>，你会看到下面的输出</p><p title="Output"><span>输出</span></p><pre><code class="language-bash">-bash: java: command not found</code></pre><p class="code-pre command prefixed">使用以下命令安装OpenJDK:</p><pre><code class="language-bash">sudo apt install default-jre  </code></pre><p class="code-pre command prefixed">这样，您将安装Java运行时环境(JRE)，允许您运行几乎所有的Java软件。</p><p>要验证安装，请执行以下操作:</p><p title="Output"><span>输出</span></p><pre><code class="language-bash">openjdk version "11.0.4" 2019-07-16  OpenJDK Runtime Environment (build 11.0.4+11-post-Debian-1deb10u1)  OpenJDK 64-Bit Server VM (build 11.0.4+11-post-Debian-1deb10u1, mixed mode, sharing)</code></pre><p>为了编译和运行一些特定的基于Java的软件，你可能还需要Java开发工具包(JDK)。</p><pre><code class="language-bash">sudo apt install default-jdk  </code></pre><p>检查<span> <strong> javac </strong> </span>的版本，看是否安装了JDK。</p><pre><code class="language-bash">javac -version  </code></pre><p title="Output"><span>输出</span></p><pre><code class="language-bash">javac 11.0.4</code></pre><p><span> <a href="https://eldernode.com/linux-vps/" target="_blank" rel="noopener noreferrer">购买Linux虚拟私有服务器</a> </span></p><p> </p><p><span class="ez-toc-section" id="Installing_the_Oracle_JDK"/> <span>安装Oracle JDK</span>T3】</p><h3 id="installing-the-oracle-jdk">您必须直接从Oracle下载一些文件来安装正式的Oracle JDK。</h3><p>首先，从甲骨文的网站下载<a href="https://www.java.com/en/" target="_blank" rel="noopener noreferrer"> Java </a>。</p><p> </p><p><span class="ez-toc-section" id="Downloading_Oracles_Java_SE_Software_Package"/> <span>下载甲骨文的Java SE软件包</span> <span class="ez-toc-section-end"/></p><h4 id="downloading-oracle-39-s-java-se-software-package">由于Oracle处理Java许可的方式发生了一些变化，请创建一个Oracle帐户，并在继续安装之前直接从其网站下载软件。</h4><p><strong>注意</strong>:使用Oracle的帐户创建页面创建一个帐户，然后导航到Oracle的Java SE下载页面。</p><p><img data-lazyloaded="1" src="../Images/0e3360615228b1acf2207753b8f1573f.png" decoding="async" loading="lazy" class="aligncenter wp-image-9644 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/07/downloads-page.jpg" alt="Oracle’s Java SE Downloads page" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/07/downloads-page.jpg 1012w, https://blog.eldernode.com/wp-content/uploads/2020/07/downloads-page-300x191.jpg 300w, https://blog.eldernode.com/wp-content/uploads/2020/07/downloads-page-768x489.jpg 768w" data-sizes="(max-width: 1012px) 100vw, 1012px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/07/downloads-page.jpg"/></p><p> </p><p><strong>重要提示</strong>:确保下载正确版本的Java。因为它必须符合安装者的期望。请访问安装程序软件仓库的软件包列表进行检查。</p><p>找到<span><strong>Oracle-Java 11-installer-local…</strong></span>文件:</p><p><img data-lazyloaded="1" src="../Images/0ff10f61ca5124627f48ba20ed0708e8.png" decoding="async" loading="lazy" class="aligncenter wp-image-9645 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/07/package-list.jpg" alt="list of java packages" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/07/package-list.jpg 846w, https://blog.eldernode.com/wp-content/uploads/2020/07/package-list-300x106.jpg 300w, https://blog.eldernode.com/wp-content/uploads/2020/07/package-list-768x272.jpg 768w" data-sizes="(max-width: 846px) 100vw, 846px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/07/package-list.jpg"/></p><p>如您所见，安装程序预期的版本是11.0.4。忽略软件包版本号中<span><strong>–</strong></span>连字符后面的任何数字。因为您知道正确的版本号，所以向下滚动Java下载页面，直到找到正确的版本。</p><p><img data-lazyloaded="1" src="../Images/54d20c376b9ba2a4192803acbc5fd6fe.png" decoding="async" loading="lazy" class="aligncenter wp-image-9646 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/07/downloads-page-1.jpg" alt="java page of downloads" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/07/downloads-page-1.jpg 1012w, https://blog.eldernode.com/wp-content/uploads/2020/07/downloads-page-1-300x191.jpg 300w, https://blog.eldernode.com/wp-content/uploads/2020/07/downloads-page-1-768x489.jpg 768w" data-sizes="(max-width: 1012px) 100vw, 1012px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/07/downloads-page-1.jpg"/></p><p> </p><p>要查看下面的屏幕，请按下载按钮。</p><p><img data-lazyloaded="1" src="../Images/03114e5bc135d8fa3f0d2bc8ece61c06.png" decoding="async" loading="lazy" class="aligncenter wp-image-9649 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/07/download-selection.png" alt="selection java download for linux" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/07/download-selection.png 684w, https://blog.eldernode.com/wp-content/uploads/2020/07/download-selection-300x133.png 300w" data-sizes="(max-width: 684px) 100vw, 684px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/07/download-selection.png"/></p><p>然后选择<strong>接受许可协议</strong>单选按钮，再点击Linux的<span> <strong> .tar.gz </strong> </span>包，你的下载就开始了。如果系统询问您，请再次登录您的Oracle帐户。</p><p>接下来，通过你熟悉的文件传输软件将下载的文件上传到我们的服务器上。</p><p>使用<span> <strong> scp </strong> </span>将文件上传到您的服务器。根据系统需要调整文件路径:</p><p>在您的服务器上安装了正确的Java软件包之后，添加包含我们将用来安装Java的安装程序的repo。</p><pre><code class="language-bash">scp ~/Downloads/jdk-<span class="highlight">11.0.4</span>_linux-x64_bin.tar.gz  <span class="highlight">noodi</span>@<span class="highlight">your_server_ip</span>:~  </code></pre><p> </p><p><span class="ez-toc-section" id="Adding_the_Installers_Apt_Repository"/> <span>添加安装程序的Apt库</span> <span class="ez-toc-section-end"/></p><h3 id="adding-the-installer-39-s-apt-repository">在这一步中，您必须安装<span>软件-属性-公共</span>包，它将<span><strong>add-apt-repository</strong></span>命令添加到您的系统中:</h3><p>并导入用于验证您将要安装的软件的签名密钥:</p><pre><code class="language-bash">sudo apt install software-properties-common  </code></pre><p>要将回购添加到我们的包来源列表中:</p><pre><code class="language-bash">sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys EA8CACC073C3DB2A  </code></pre><p><span>输出</span></p><pre><code class="language-bash">sudo add-apt-repository ppa:linuxuprising/java  </code></pre><p title="Output">要继续安装，请按<span>回车。<span/>的可能消息<strong>没有找到有效的OpenPGP数据</strong> <span>可以忽略。</span> </span></p><pre><code class="language-bash"> Oracle Java 11 (LTS) and 12 installer for Ubuntu, Linux Mint and Debian.    Java binaries are not hosted in this PPA due to licensing. The packages in this PPA download and install Oracle Java 11, so a working Internet connection is required.    The packages in this PPA are based on the WebUpd8 Oracle Java PPA packages: https://launchpad.net/~webupd8team/+archive/ubuntu/java    Created for users of https://www.linuxuprising.com/    Installation instructions (with some tips), feedback, suggestions, bug reports etc.:    . . .    Press [ENTER] to continue or ctrl-c to cancel adding it</code></pre><p><strong>最后</strong>，更新您的软件包列表，使新软件可供安装:</p><p><span class="ez-toc-section" id="Installing_the_Downloaded_Java_Software"/> <span>安装下载的Java软件</span> <span class="ez-toc-section-end"/></p><pre><code class="language-bash">sudo apt update    </code></pre><h3>此时，创建一个安装程序用来查找Java软件包的特定目录，然后将<span> <strong> .tar.gz </strong> </span>文件复制到:</h3><p>然后安装<span><strong>Oracle-Java 11-installer-local包</strong> <span>即可安装Oracle的Java 11，文件复制完成。</span> </span></p><pre><code class="language-bash">sudo mkdir -p /var/cache/oracle-jdk11-installer-local/  sudo cp ~/jdk-<span class="highlight">11.0.4</span>_linux-x64_bin.tar.gz /var/cache/oracle-jdk11-installer-local/</code></pre><p>当安装程序询问您时，接受Oracle许可协议，让它提取Java包并安装它。</p><pre><code class="language-bash">sudo apt install oracle-java11-installer-local</code></pre><p>无论如何，你已经安装了多个版本的Java，所以让我们来看看如何选择你想要使用哪个版本的Java。</p><p> </p><p><span class="ez-toc-section" id="Managing_Java"/> <span>管理Java</span>T3】</p><h3 id="managing-java">您可以在一台服务器上安装多个Java。要配置默认使用的版本:</h3><p><span>输出</span></p><pre><code class="language-bash">sudo update-alternatives --config java</code></pre><p title="Output">如果您想将它用作缺省值，请选择与Java版本相关联的数字。或者保持当前设置不变，按<span> <strong>回车。</strong> <span>(其他Java命令也可以这样做，比如编译器</span> </span> <span> <strong> javac </strong> </span></p><pre><code class="language-bash">There are 2 choices for the alternative java (providing /usr/bin/java).      Selection    Path                                         Priority   Status  ------------------------------------------------------------    0            /usr/lib/jvm/java-11-openjdk-amd64/bin/java   1111      auto mode    1            /usr/lib/jvm/java-11-openjdk-amd64/bin/java   1111      manual mode  * 2            /usr/lib/jvm/java-11-oracle/bin/java          1091      manual mode    Press &lt;enter&gt; to keep the current choice[*], or type selection number:</code></pre><p> </p><pre><code class="language-bash">sudo update-alternatives --config <span>javac  </span></code></pre><pre><code class="language-bash"/></pre><p><span class="ez-toc-section" id="Setting_the_JAVA_HOME_Environment_Variable"/> <span>设置</span> <span> JAVA_HOME </span> <span>环境变量</span> <span class="ez-toc-section-end"/></p><h3 id="setting-the-java_home-environment-variable">为了确定使用哪个Java安装位置，许多用Java编写的程序使用了<span> <strong> JAVA_HOME </strong> </span>环境变量。</h3><p>确定Java的安装位置，设置这个环境变量。</p><p><span>输出</span></p><pre><code class="language-bash">sudo update-alternatives --config java</code></pre><p title="Output">然后，您可以看到下面的安装路径(<span> java </span>可执行文件的路径。)</p><pre class="code-pre"><code class="language-bash">  Selection    Path                                         Priority   Status  ------------------------------------------------------------    0            /usr/lib/jvm/java-11-openjdk-amd64/bin/java   1111      auto mode    1            /usr/lib/jvm/java-11-openjdk-amd64/bin/java   1111      manual mode  * 2            /usr/lib/jvm/java-11-oracle/bin/java          1091      manual mode</code></pre><p>Oracle Java 11位于<span><strong>/usr/lib/JVM/Java-11-Oracle/bin/Java</strong></span>。</p><p>OpenJDK 11位于<span><strong>/usr/lib/JVM/Java-11-open JDK-amd64/bin/Java</strong></span>。</p><p> </p><p>选择自己喜欢的安装路径并复制(不包括后面的<span> bin/java </span>组件)。使用您喜欢的文本编辑器打开<span> <strong> /etc/environment </strong> </span>。</p><p>在文件末尾添加下面一行(文件最初可能是空白的)。</p><p>/etc/环境</p><pre><code class="language-bash">sudo nano /etc/environment  </code></pre><p><strong>注意</strong>:确保用自己复制的路径替换高亮显示的路径。</p><p class="code-label" title="/etc/environment">当您修改这个文件时，您将为系统上的所有用户设置<span> JAVA_HOME </span>路径。</p><pre><code class="language-bash">JAVA_HOME="<span>/usr/lib/jvm/java-11-oracle/</span>"  </code></pre><p>您现在可以保存文件并退出编辑器，然后重新加载该文件，以将更改应用到当前会话:</p><p>接下来，验证是否设置了环境变量:</p><p><span>输出</span></p><pre><code class="language-bash">source /etc/environment</code></pre><p>其他用户将需要执行命令<span> source /etc/environment </span>或注销并重新登录以应用此设置。</p><pre><code class="language-bash">echo $JAVA_HOME  </code></pre><p title="Output">亲爱的用户，我们希望这篇关于如何在Debian 10上用Apt安装Java的教程能对你有所帮助，如果你有任何问题或者想查看我们用户关于这篇文章的对话，请访问<span> <a href="https://eldernode.com/ask">提问页面</a> </span>。也是为了提高自己的见识，准备了这么多有用的教程给<span> <a href="https://eldernode.com/blog/"> Eldernode培训</a> </span>。<span>T9】</span></p><pre><code class="language-bash"><span>/usr/lib/jvm/java-11-oracle/</span></code></pre><p>Other users will need to execute the command <span>source /etc/environment</span> or log out and log back in to apply this setting.</p><p>Dear user, we wish this tutorial how to install Java with Apt on Debian 10 would be helpful for you, to ask any question or review the conversation of our users about this article, please visit <span><a href="https://eldernode.com/ask">Ask page</a></span>. Also to improve your knowledge, there are so many useful tutorials ready for <span><a href="https://eldernode.com/blog/">Eldernode training</a></span>.<span>     </span></p></div></div>    
</body>
</html>