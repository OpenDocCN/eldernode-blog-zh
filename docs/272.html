<html>
<head>
<title>Tutorial PostgreSQL installation Ubuntu 20.04 - postgres on ubuntu</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>教程PostgreSQL安装Ubuntu 20.04-Ubuntu上的postgres</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/tutorial-postgresql-installation-ubuntu-20/#0001-01-01">https://blog.eldernode.com/tutorial-postgresql-installation-ubuntu-20/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/dccbc65d94487f1599d6fea433f1fb65.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/06/Tutorial-PostgreSQL-installation-Ubuntu-20.04.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Tutorial PostgreSQL installation Ubuntu 20.04" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/06/Tutorial-PostgreSQL-installation-Ubuntu-20.04.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/06/Tutorial-PostgreSQL-installation-Ubuntu-20.04-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/06/Tutorial-PostgreSQL-installation-Ubuntu-20.04-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/06/Tutorial-PostgreSQL-installation-Ubuntu-20.04-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/06/Tutorial-PostgreSQL-installation-Ubuntu-20.04-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/06/Tutorial-PostgreSQL-installation-Ubuntu-20.04-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/06/Tutorial-PostgreSQL-installation-Ubuntu-20.04.png"/><p>在本教程中，我们想学习“教程PostgreSQL安装Ubuntu 20.04”及其工作原理。因此，让我们从什么是postgres开始，当你知道了这些，安装并使用postgres。</p><h4><span class="ez-toc-section" id="What_is_PostgreSQL"/>什么是PostgreSQL？<span class="ez-toc-section-end"/></h4><p>PostgreSQL也称为Postgres，它是一个开源的、功能强大的关系数据库管理系统。<a href="https://en.wikipedia.org/wiki/PostgreSQL" target="_blank" rel="noopener noreferrer"> PostgreSQL </a>使用具有高级特性的SQL语言，如无读锁的并发和可靠事务。加入我们来学习在Ubuntu 20.04 上安装PostgreSQL <a href="https://eldernode.com/install-ubuntu-20-04-lts-server-on-vmware/" target="_blank" rel="noopener noreferrer"/></p><p> </p><h2><span class="ez-toc-section" id="The_prerequisites_before_installation"/> <span> <strong>安装前的先决条件</strong> </span> <span class="ez-toc-section-end"/></h2><p>要安装PostgreSQL，首先你应该有一个配置好的Ubuntu 20.04服务器，一个基本的防火墙，还有一个拥有Sudo权限的<strong> non_root </strong>用户。</p><h2><span class="ez-toc-section" id="Tutorial_PostgreSQL_installation_Ubuntu_2004"/> <span>教程PostgreSQL安装Ubuntu 20.04</span>T3】</h2><h3><span class="ez-toc-section" id="Step_by_step_to_install_Postgres_on_Ubuntu"/> <span> <strong>一步步在Ubuntu上安装Postgres</strong></span><span class="ez-toc-section-end"/></h3><p><span> <strong>第一步。</strong>T3】</span></p><p>您需要刷新服务器的本地包索引:</p><pre><code class="language-bash">$ sudo apt update</code></pre><p>要添加实用程序和功能，请安装带有<span> -contrib </span>的Postgres包:</p><pre><code class="language-bash">$ sudo apt install postgresql postgresql-contrib</code></pre><p><span> <strong>第二步。</strong>T3】</span></p><p>使用PostgreSQL角色和数据库</p><p>安装后，Postgres将设置使用ident身份验证来匹配Unix/Linux帐户的角色。创建角色时，<a href="https://blog.eldernode.com/tag/linux/" target="_blank" rel="noopener noreferrer"> Unix/Linux </a>用户名将能够使用相同的名称作为该角色登录。现在，我们将验证您可以使用该帐户访问Postgres的方式。</p><p><span>首先:</span>通过键入以下命令，您将切换到您服务器上的Postgres帐户，一种方法是切换到您服务器上的Postgres帐户:</p><pre><code class="language-bash">$ sudo -i -u postgres</code></pre><p>然后，您将通过键入以下内容来访问Postgres:</p><p>$ psql</p><p>登录PostgreSQL与数据库管理系统进行交互会有所帮助。</p><p>如果需要退出，可以使用下面的命令:</p><pre><code class="language-bash">postgres=#  \q</code></pre><p>您也可以运行exit命令返回到系统普通用户:</p><pre><code class="language-bash"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="83f3ecf0f7e4f1e6f0c3f0e6f1f5e6f1">[email protected]</a>:~$  exit</code></pre><p>或者直接使用sudo以postgres帐户的身份运行psql命令，以连接Postgres提示符，而不需要中间的bash shell:</p><pre><code class="language-bash">$ sudo -u postgres psql</code></pre><p>同样，您可以通过键入以下命令退出交互式Postgres会话:</p><pre><code class="language-bash">postgres=#  \q</code></pre><p> </p><p><span> <strong>第三步。</strong>T3】</span></p><p>创建一个新角色。</p><p>您可以通过键入以下内容来创建新角色:</p><pre><code class="language-bash"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="47372834332035223407342235312235">[email protected]</a>:~$  createuser --interactive</code></pre><p>如果您不想从普通服务器帐户切换，请对每个命令使用sudo:</p><pre><code class="language-bash">$ sudo -u postgres createuser --interactive</code></pre><p>根据您的回答，运行正确的Postgres your specifications命令，根据您的规范创建用户。</p><pre><code class="language-bash"><span><em>Output</em></span>  Enter name of role to add: <span><em>sammy</em></span>  Shall the new role be a superuser? (y/n) <span><em>y</em></span></code></pre><p> </p><p><span> <strong>第四步。</strong>T3】</span></p><p>创建新的数据库。</p><p>默认情况下，身份验证系统使所有角色用于登录，因此这些角色将拥有一个同名的数据库以供访问。</p><p>当您创建一个名为“<span> sammy </span>的用户时，其角色将尝试连接到一个与您可以用createdb命令创建的数据库同名的数据库。</p><p>然后，如果您使用postgres帐户登录，您可以键入:</p><pre><code class="language-bash"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="ea9a85999e8d988f99aa998f989c8f98">[email protected]</a>:~$ creatdb sammy</code></pre><p>如果您不想从普通服务器帐户切换，请对每个命令使用sudo:</p><pre><code class="language-bash">$ sudo -u postgres created sammy</code></pre><p> </p><p><span> <strong>第五步。</strong>T3】</span></p><p>用新角色打开Postgres。</p><p>当您想要使用身份登录时，您需要一个与您的Postgres数据库和角色同名的Linux用户，如果没有匹配的Linux用户，您可以使用adduser命令创建一个新用户。使用拥有sudo权限的非<strong> root </strong>帐户:</p><pre><code class="language-bash">$ sudo adduser sammy</code></pre><p>只要新帐户可用，您就可以通过键入以下命令切换并连接数据库:</p><pre><code class="language-bash">$ sudo -i -u sammy  $ psql</code></pre><p>此外，您也可以内联完成此操作:</p><pre><code class="language-bash">$ sudo -u sammy psql</code></pre><p>通过运行此命令，如果所有组件都已正确配置，您将自动登录。通过指定数据库，您可以将您的用户连接到不同的数据库，如下所示:</p><pre><code class="language-bash">$ psql -d postgres</code></pre><p>您可以通过键入以下命令来检查连接信息:</p><pre><code class="language-bash">Sammy=#  \conninfo</code></pre><p><em> <span>输出</span> </em></p><pre><code class="language-bash">You are connected to database "sammy" as user "sammy" via socket in "/var/run/postgresql" at port "5432"</code></pre><p>您可以在评论区提出关于本次培训的问题，并得到您的回答，或者要解决<a href="https://eldernode.com/">Eldernode.com</a>培训领域的其他问题，请参考<a href="https://eldernode.com/ask" target="_blank" rel="noopener noreferrer">提问页面</a>部分，并尽快提出您的问题。腾出时间给其他用户和专家来回答你的问题。</p><p><strong>同样，参见</strong></p><p><a href="https://eldernode.com/install-postgresq-ubuntu-18-04/" target="_blank" rel="noopener noreferrer">教程在Ubuntu 18.04上安装和使用PostgreSQL</a></p><p class="fjpost-title px-0"><a href="https://eldernode.com/postgresql-installation-tutorial/" target="_blank" rel="noopener noreferrer">Windows Server 2016上的PostgreSQL安装教程</a></p><p class="fjpost-title px-0"><a href="https://eldernode.com/postgresql-installation-tutorial/" target="_blank" rel="noopener noreferrer">PostgreSQL installation tutorial on Windows Server 2016</a></p></div></div>    
</body>
</html>