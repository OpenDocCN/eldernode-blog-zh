<html>
<head>
<title>How to Install Xrdp on Ubuntu 21.04 | 20.04 - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在Ubuntu 21.04 | 20.04 - Eldernode博客上安装Xrdp</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/install-xrdp-on-ubuntu/#0001-01-01">https://blog.eldernode.com/install-xrdp-on-ubuntu/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/6e20e4885435a80a06ca9a46c518b9bd.png" data-src="https://blog.eldernode.com/wp-content/uploads/2021/07/How-to-Install-Xrdp-on-Ubuntu-21.04.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="How to Install Xrdp on Ubuntu 21.04" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/07/How-to-Install-Xrdp-on-Ubuntu-21.04.png 2069w, https://blog.eldernode.com/wp-content/uploads/2021/07/How-to-Install-Xrdp-on-Ubuntu-21.04-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/07/How-to-Install-Xrdp-on-Ubuntu-21.04-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2021/07/How-to-Install-Xrdp-on-Ubuntu-21.04-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2021/07/How-to-Install-Xrdp-on-Ubuntu-21.04-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2021/07/How-to-Install-Xrdp-on-Ubuntu-21.04-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/07/How-to-Install-Xrdp-on-Ubuntu-21.04.png"/><p>如您所知，大多数Windows服务器使用RDP服务进行图形连接。但是在Linux中，各种服务都可以用于图形连接，其中一个就是XRDP服务。您可以使用远程桌面通过Windows连接到您想要的Linux发行版，但是在此之前，您需要在您的Linux上安装一个图形环境。这也是为什么我们要在本文中教大家<strong>如何在Ubuntu 21.04，Ubuntu 20.04 </strong>上安装Xrdp。如果你想购买一台<strong> <a href="https://eldernode.com/ubuntu-vps/" target="_blank" rel="noopener"> Ubuntu VPS </a> </strong>服务器，你可以访问<a href="https://eldernode.com/" target="_blank" rel="noopener"> Eldernode </a>中提供的软件包。</p><h2><span class="ez-toc-section" id="Video_tutorial_Install_Xrdp_on_Ubuntu_2104_Ubuntu_2004"/> <strong>视频教程在Ubuntu 21.04上安装Xrdp | Ubuntu 20.04</strong>T3】</h2><p>使用Xrdp，您将能够与您的设备建立远程桌面连接。在本文的下一部分，我们将向您介绍Xrdp及其一些特性。那么下一节，在熟悉了Xrdp之后，我们会教你如何在<a href="https://blog.eldernode.com/tag/ubuntu/"> Ubuntu </a> 21.04上安装。下一步，我们将配置Xrdp，最后解释如何使用Xrdp连接到Ubuntu服务器。请继续关注本文的其余部分。</p><h3><span class="ez-toc-section" id="Introduction_to_Xrdp_and_its_Features"/><strong>Xrdp及其特点介绍</strong> <span class="ez-toc-section-end"/></h3><p>您一定想在网络环境中从Windows系统远程访问您的Linux桌面屏幕。如你所知，不像<a href="https://blog.eldernode.com/tag/windows/"> Windows </a>，Linux在默认情况下不支持RDP，但是幸运的是，一个叫做Xrdp的工具使得这在Linux上也成为可能。</p><p>Xrdp项目是一个开源工具，允许用户从Windows操作系统中访问他们的Linux桌面。除了支持Windows <a href="https://eldernode.com/buy-rdp/" target="_blank" rel="noopener"> RDP </a>客户端，该工具还支持其他类似的客户端，如FreeRDP、Rdesktop、NeutrinoRDP。</p><p>该程序的新版本还支持TLS以增加安全性。就像Windows到Windows远程桌面一样，Xrdp不仅支持图形远程处理，还支持:</p><p>_双向剪贴板传输(文本、位图、文件)</p><p>_音频重定向</p><p>_驱动器重定向(在远程计算机上装载本地客户端驱动器)</p><p>_ RDP传输默认使用TLS加密。</p><h2><span class="ez-toc-section" id="Install_Xrdp_on_Ubuntu_2104_Ubuntu_2010"/> <strong>在Ubuntu 21.04上安装Xrdp | Ubuntu 20.10</strong><span class="ez-toc-section-end"/></h2><p>在这一节，我们将教你一步一步地在Ubuntu 21.04上安装Xrdp。为此，只需遵循以下步骤。第一步是使用以下命令更新Ubuntu:</p><pre><code class="language-bash">sudo apt update</code></pre><pre><code class="language-bash">sudo apt upgrade</code></pre><p>由于Xrdp在Ubuntu包存储库中可用，所以只需运行下面的命令<strong>来安装Xrdp </strong>:</p><pre><code class="language-bash">sudo apt install xrdp gnome-tweak-tool</code></pre><p>注意，Xrdp服务经常使用存储在<strong> /etc/ssl/ </strong>目录中的名为<strong> ssl-cert-snakeoil.key </strong>的证书。<strong> Xrdp用户</strong>可能有权访问这些文件。因此，您必须使用以下命令将该用户添加到<strong> ssl-cert </strong>组:</p><pre><code class="language-bash">sudo usermod -a -G ssl-cert xrdp</code></pre><h3><span class="ez-toc-section" id="How_to_Configure_Xrdp_on_Ubuntu_2104"/> <strong>如何在Ubuntu 21.04上配置Xrdp</strong><span class="ez-toc-section-end"/></h3><p>现在我们想向您展示如何在Ubuntu 21.04上配置Xrdp。在开始配置之前，我们必须告诉您，在使用Xrdp时，您可能会遇到黑屏，这将阻止您在系统上做任何事情。所以这里我们需要修改Xrdp用来运行窗口管理器的脚本。为此，您需要使用所需的文本编辑器打开配置文件。正如您在以下命令中看到的，我们使用了nano编辑器:</p><pre><code class="language-bash">sudo nano /etc/xrdp/startwm.sh</code></pre><p>打开文件后，您应该查找以下命令:</p><pre><code class="language-bash">test -x /etc/X11/Xsession &amp;&amp; exec /etc/X11/Xsession</code></pre><p>现在，您需要将以下命令添加到上述命令的底部:</p><pre><code class="language-bash">unset DBUS_SESSION_BUS_ADDRESS</code></pre><pre><code class="language-bash">unset XDG_RUNTIME_DIR</code></pre><p>最后，您可以通过按下<strong> CTRL+X </strong>，然后按下<strong> Y </strong>，再按下<strong> ENTER </strong>键来<strong>保存</strong>文件。</p><h3><span class="ez-toc-section" id="How_to_Connect_to_Ubuntu_Xrdp"/> <strong>如何连接Ubuntu Xrdp </strong> <span class="ez-toc-section-end"/></h3><p>在这一节中，我们将向您展示如何使用Windows远程桌面连接到ubuntu Xrdp。所以首先在你的Windows上打开<strong>远程桌面连接</strong>。然后你需要输入Ubuntu服务器的IP地址，点击<strong>连接</strong>:</p><p> </p><p><img data-lazyloaded="1" src="../Images/1aefb2362a68452cc7d3b6286b18af11.png" decoding="async" loading="lazy" class="aligncenter wp-image-30402 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2021/05/Remote-Desktop-1.jpg" alt="Remote Desktop" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/05/Remote-Desktop-1.jpg 401w, https://blog.eldernode.com/wp-content/uploads/2021/05/Remote-Desktop-1-300x186.jpg 300w" data-sizes="(max-width: 401px) 100vw, 401px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/05/Remote-Desktop-1.jpg"/></p><p> </p><p>如果您通过查看下图认为显示的信息是正确的，请点击“<strong>是</strong>按钮确认连接:</p><p> </p><p><img data-lazyloaded="1" src="../Images/7fd971e2d4ea68cd304e4584abe3abcb.png" decoding="async" loading="lazy" class="aligncenter wp-image-16770 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/10/remote-desktop-certificate.png" alt="remote desktop certificate" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/10/remote-desktop-certificate.png 526w, https://blog.eldernode.com/wp-content/uploads/2020/10/remote-desktop-certificate-300x279.png 300w" data-sizes="(max-width: 526px) 100vw, 526px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/10/remote-desktop-certificate.png"/></p><p> </p><p>成功完成上述步骤后，您现在可以看到Xrdp界面。输入<strong>用户名</strong>和<strong>密码</strong>后，可以点击<strong> OK </strong>按钮登录:</p><p> </p><p><img data-lazyloaded="1" src="../Images/da7bafa624e9dd07e9c13b988de0fcc0.png" decoding="async" loading="lazy" class="aligncenter wp-image-33713 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2021/07/xrdp-login-to-ubuntu-21.04.png" alt="xrdp login to ubuntu 21.04" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/07/xrdp-login-to-ubuntu-21.04.png 343w, https://blog.eldernode.com/wp-content/uploads/2021/07/xrdp-login-to-ubuntu-21.04-244x300.png 244w" data-sizes="(max-width: 343px) 100vw, 343px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/07/xrdp-login-to-ubuntu-21.04.png"/></p><p> </p><p>注意，如果你不能登录到XRDP环境，你应该检查你的Gnome状态。如果您的Ubuntu系统上没有安装Gnome，您可以使用以下命令安装它:</p><pre><code class="language-bash">sudo apt install gnome-session gdm3</code></pre><p>您将会看到您已经成功登录到Ubuntu系统:</p><p> </p><p><img data-lazyloaded="1" src="../Images/2398cc558f73d4ce4ce5021f0ac8f562.png" decoding="async" loading="lazy" class="aligncenter wp-image-33714 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2021/07/Connect-to-Ubuntu-System-using-xrdp.jpg" alt="Connect to Ubuntu System using xrdp" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/07/Connect-to-Ubuntu-System-using-xrdp.jpg 728w, https://blog.eldernode.com/wp-content/uploads/2021/07/Connect-to-Ubuntu-System-using-xrdp-300x169.jpg 300w" data-sizes="(max-width: 728px) 100vw, 728px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/07/Connect-to-Ubuntu-System-using-xrdp.jpg"/></p><p> </p><p>您可以使用以下命令检查Ubuntu上的Xrdp状态:</p><pre><code class="language-bash">sudo systemctl status xrdp</code></pre><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>正如您在本教程中学到的，通过在Ubuntu上安装Xrdp，用户可以使用Microsoft远程桌面客户端访问操作系统。在本文中，我们试图教你如何在Ubuntu 21.04上安装Xrdp。如果你愿意，可以参考<a href="https://blog.eldernode.com/install-xrdp-on-centos-7/">如何在centos 7 </a>和<a href="https://blog.eldernode.com/install-xrdp-on-debian-10-buster/"> Debian </a>上安装Xrdp。</p></div></div>    
</body>
</html>