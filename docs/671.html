<html>
<head>
<title>How To Install vnStat On Debian 10 [Complete] - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在Debian 10[完整版] - Eldernode博客上安装vnStat</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/install-vnstat-on-debian-10/#0001-01-01">https://blog.eldernode.com/install-vnstat-on-debian-10/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/ab59c5070865149872f9a26dfc820de8.png" data-src="https://blog.eldernode.com/wp-content/uploads/2021/03/How-To-Install-vnStat-On-Debian-10.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="How To Install vnStat On Debian 10" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/03/How-To-Install-vnStat-On-Debian-10.png 2069w, https://blog.eldernode.com/wp-content/uploads/2021/03/How-To-Install-vnStat-On-Debian-10-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/03/How-To-Install-vnStat-On-Debian-10-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2021/03/How-To-Install-vnStat-On-Debian-10-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2021/03/How-To-Install-vnStat-On-Debian-10-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2021/03/How-To-Install-vnStat-On-Debian-10-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/03/How-To-Install-vnStat-On-Debian-10.png"/><p>作为管理员，您可能需要一个工具来监控网络带宽，统计网络设备上的传输和接收，然后检查保存在数据库中的数据。VnStat是一个命令行网络监控实用程序。这样，您可以在监视服务器的同时检查其性能。在本文中，您将学习如何在Debian 10 上安装vnStat。要开始这个教程，你需要有一个运行Debian 10的云服务器。因此，在<a href="https://eldernode.com/" target="_blank" rel="noopener"> Eldernode </a>上订购您喜欢的软件包，购买您自己的<strong> <a href="https://eldernode.com/linux-vps/" target="_blank" rel="noopener"> Linux VPS </a> </strong>。</p><h2><span class="ez-toc-section" id="Tutorial_Install_vnStat_On_Debian_10_step_by_step"/> <strong>教程在Debian 10上一步步安装vnStat</strong><span class="ez-toc-section-end"/></h2><p>vnStat是一个用于Linux的网络流量监视器。它是一个开源的轻量级实用程序，为选定的接口保存网络流量日志，并使用内核提供的网络接口统计信息作为信息源。您可以使用vnStat来收集系统重新启动过程中的持续统计数据，并提供5分钟、每小时、每天、每月、每周、每年的使用情况摘要，以及显示其历史记录中使用最多的天数。您也可以在没有root权限的情况下使用vnStat <strong>并检查存储在数据库中的流量统计数据。它还按网络接口呈现，并且所有网络接口都有自己的数据库。</strong></p><h3><span class="ez-toc-section" id="Install_vnStat_On_Debian_10_and_Check_vnStat_Features"/>在Debian 10上安装vnStat并检查vnStat特性<span class="ez-toc-section-end"/></h3><p>我们来看看vnStat有什么特点。以下是它们的列表:</p><p>–同时监控多个网络接口</p><p>–一旦系统重新启动，统计数据仍然可用</p><p>–多种输出选项</p><p>–使用JSON进行输出</p><p>–按小时、天、月、周对数据进行排序，或获取前10天的数据</p><p>–接口带宽将自动检测</p><p>–生成输出的png图形</p><p>–针对vnStat.cgi的内容定位和图像背景颜色的可定制选项</p><p>–配置“月”,以跟进您可能拥有的不同计费周期</p><p>–非常轻–消耗很少一部分系统资源</p><p>–无论产生多少流量，CPU使用率都很低</p><p>–安装和运行快速简单</p><p>–数据保留期限完全由用户动态配置</p><p>–无论流量如何，CPU使用率都一样低</p><p>–无需root权限即可使用</p><p>–在线颜色配置编辑器</p><h2><span class="ez-toc-section" id="Install_vnStat_On_Debian_10"/> <strong>在Debian 10上安装vnStat</strong>T3】</h2><p>您现在可能有兴趣使用vnStat并使用它的特性。所以，让我们来看一下本指南的步骤，并回顾一下在<a href="https://blog.eldernode.com/tag/debian/" target="_blank" rel="noopener"> Debian </a> 10上安装vnStat的过程。</p><p><em>第一步:</em></p><p>正如您在上一篇关于在Ubuntu上安装vnStat的文章中所了解到的，vnStat可以从Debian/Ubuntu官方仓库获得。要安装它的软件包，您只需运行以下命令:</p><pre><code class="language-bash">sudo apt-get install vnstat</code></pre><p><em>第二步:</em></p><p>vnStatd守护程序将在安装后自动启动。当Debian启动时，它会自动启动。要使用systemctl检查并启动服务，请键入:</p><pre><code class="language-bash">sudo systemctl start vnstat.service</code></pre><p><em>第三步:</em></p><p>现在，使用下面的命令确保vnStat在引导时自动启动:</p><pre><code class="language-bash">sudo systemctl enable vnstat.service</code></pre><h3><span class="ez-toc-section" id="How_to_use_vnStat_on_Debian_Linux"/> <strong>如何在Debian Linux上使用vnStat</strong><span class="ez-toc-section-end"/></h3><p>从现在开始，vnStat将开始捕获服务器接口上的流量数据和统计信息。还有，你在等收到数据报告。但是vnStat在显示数据之前需要建立一些数据。不要担心！只需运行以下命令来查看vnStat的标准报告:</p><pre><code class="language-bash">vnstat</code></pre><p>该报告可能如下所示:</p><p> </p><p><img data-lazyloaded="1" src="../Images/6e31f9e3c5ba6f818a1d28211cccd93f.png" decoding="async" loading="lazy" class="aligncenter wp-image-26883 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_69061.jpg" alt="vnstat report" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_69061.jpg 456w, https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_69061-300x284.jpg 300w" data-sizes="(max-width: 456px) 100vw, 456px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_69061.jpg"/></p><p> </p><p>接下来，如果希望获得更具体的数据输出，可以使用标志。如果将这些标志附加到vnStat命令，就可以得到如下所述的特定输出:</p><p> </p><p><img data-lazyloaded="1" src="../Images/222e8c1116ddc5c6a63feb9da07de0dc.png" decoding="async" loading="lazy" class="aligncenter wp-image-26884 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_69081.jpg" alt="vnstat flags" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_69081.jpg 463w, https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_69081-253x300.jpg 253w" data-sizes="(max-width: 463px) 100vw, 463px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_69081.jpg"/></p><h3><span class="ez-toc-section" id="How_to_create_Database_for_Network_Interface"/> <strong>如何为网络接口创建数据库</strong> <span class="ez-toc-section-end"/></h3><p>正如我们在本文开始时提到的，在Debian 10上安装vnStat之后，将会为每个网络接口自动初始化一个数据库。<strong> /var/lib/vnstat </strong>是vnstat的数据库目录:</p><pre><code class="language-bash">ls /var/lib/vnstat/ eth0 eth1</code></pre><p>使用以下命令创建一个新数据库。记得用应该监控的接口替换<strong> eth0 </strong>:</p><pre><code class="language-bash">vnstat --create -i eth0</code></pre><h3><span class="ez-toc-section" id="How_to_remove_the_Database_for_an_interface"/> <strong>如何为一个接口删除数据库</strong> <span class="ez-toc-section-end"/></h3><p>您也可以删除您创建的数据库。同样，不要忘记用不想监控的接口替换eth0。因此，运行以下命令删除数据库:</p><pre><code class="language-bash">vnstat --delete -i eth0</code></pre><p>守护程序vnStatd负责数据检索和存储，而vnStat命令提供了一个接口，用于查询存储在特定于网络接口的数据库中的流量信息。</p><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>在本文中，您了解了如何在Debian 10上安装vnStat。如果您已经仔细地完成了这些步骤，那么您现在已经有了一个vnStat的工作安装。开始使用vnStat并监控服务器在多个接口上的流量。如果您有兴趣了解更多信息，请查找我们关于在Centos 7 上使用vnStat监控网络流量的相关文章<a href="https://blog.eldernode.com/monitor-network-traffic-with-vnstat-on-centos/">。</a></p></div></div>    
</body>
</html>