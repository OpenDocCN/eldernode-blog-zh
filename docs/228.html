<html>
<head>
<title>Initial server set up on Ubuntu 20.04 LTS - secure ssh on ubuntu 20</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>在Ubuntu 20.04 LTS上设置初始服务器-在Ubuntu 20上使用安全ssh</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/initial-server-set-up-on-ubuntu-20-04-lts/#0001-01-01">https://blog.eldernode.com/initial-server-set-up-on-ubuntu-20-04-lts/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/3668fcbf87b30e7735ea01891de72ae0.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/05/Initial-server-set-up-on-Ubuntu-20.04-LTS.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Initial server set up on Ubuntu 20.04 LTS" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/05/Initial-server-set-up-on-Ubuntu-20.04-LTS.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/05/Initial-server-set-up-on-Ubuntu-20.04-LTS-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/05/Initial-server-set-up-on-Ubuntu-20.04-LTS-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/05/Initial-server-set-up-on-Ubuntu-20.04-LTS-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/05/Initial-server-set-up-on-Ubuntu-20.04-LTS-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/05/Initial-server-set-up-on-Ubuntu-20.04-LTS-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/05/Initial-server-set-up-on-Ubuntu-20.04-LTS.png"/><p>在本教程中，我们想谈谈在Ubuntu 20.04 LTS 上设置的<strong>初始服务器。所以我认为，当所有用户使用Ubuntu作为服务器时，尤其是在互联网上，这是很重要的</strong></p><p>在你<strong> <a href="https://eldernode.com/ubuntu-vps/" target="_blank" rel="noopener noreferrer">买了一个Ubuntu VPS </a> </strong>之后，你要知道，提供商除了给你设置一个IP和密码之外，并没有给你设置任何东西。除非您订购安全配置。</p><p>所以我们会考虑，你买一个新鲜的<a href="https://eldernode.com/linux-vps/" target="_blank" rel="noopener noreferrer"> Linux VPS </a>或者安装它。</p><p>安装完成后，需要<strong> <a href="https://eldernode.com/set-ip-static-on-ubuntu-20-04-lts-server-with-netplan/" target="_blank" rel="noopener noreferrer">为Ubuntu 20.04 </a> </strong>设置静态IP，并在Ubuntu 20.04 LTS上设置初始服务器。</p><p>让我们看看如何设置主机名、更新和升级、添加sudo用户、保护SSH以及为Ubuntu 20.04 LTS安装防火墙。</p><p> </p><h2><span class="ez-toc-section" id="Initial_server_set_up_on_Ubuntu_2004_LTS"/> <span>在Ubuntu 20.04上设置的初始服务器</span> <span class="ez-toc-section-end"/></h2><p> </p><h3><span class="ez-toc-section" id="Check_and_set_the_hostname_on_ubuntu_2004"/> <span>在ubuntu 20.04上检查并设置主机名</span>T3】</h3><p>要检查主机名，您可以发出如下命令:</p><pre><code class="language-bash">hostname  hostnamectl</code></pre><p>两个命令都显示您的主机名，但是hostnamectl显示更多的信息。</p><p>用于在Ubuntu 20.04上设置新主机名。您可以使用以下命令。</p><pre><code class="language-bash">sudo hostnamectl set-hostname Ubuntu20</code></pre><p>在这个命令中，我们将Ubuntu主机名改为Ubuntu20。你设置你最喜欢的名字。</p><p>更改主机名后，您可以更改<span> /etc/hosts </span>文件上的主机名以进行解析。</p><pre><code class="language-bash">sudo nano /etc/hosts</code></pre><p>您只需要找到一个旧的主机名并替换新的主机名。</p><p><strong>像这样</strong></p><pre><code class="language-bash">127.0.0.1  Ubuntu20</code></pre><h3><span class="ez-toc-section" id="Update_and_Upgrade_Ubuntu"/> <span>更新升级Ubuntu </span> <span class="ez-toc-section-end"/></h3><p>要进行更新并检查ubuntu上的所有包和缓存库，请运行以下命令\</p><pre><code class="language-bash">sudo apt update</code></pre><p>检查完所有软件包后，Ubuntu会显示需要更新的软件包数量。现在，您可以运行以下命令来升级软件包和操作系统。</p><pre><code class="language-bash">sudo apt upgrade</code></pre><p> </p><h3><span class="ez-toc-section" id="Add_New_sudo_user_to_Ubuntu_2004_LTS"/> <span>添加新的sudo用户到Ubuntu 20.04 LTS</span>T3】</h3><p>首先，您需要运行以下命令来添加用户名和密码。</p><pre><code class="language-bash">sudo adduser eldernodeadmin</code></pre><p>除了eldernodeadmin，你得换掉你最喜欢的名字</p><p>运行命令后，<a href="https://blog.eldernode.com/tag/ubuntu/" target="_blank" rel="noopener noreferrer"> Ubuntu </a>询问密码和用户的一些信息，你可以输入。</p><p><img data-lazyloaded="1" src="../Images/5c7f8f421993fde85b3e28ff128e0913.png" decoding="async" loading="lazy" class="aligncenter wp-image-7069 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/05/add-new-sudo-user-ubuntu-20.04.jpg" alt="Add new User on ubuntu 20.04 LTS" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/05/add-new-sudo-user-ubuntu-20.04.jpg 1920w, https://blog.eldernode.com/wp-content/uploads/2020/05/add-new-sudo-user-ubuntu-20.04-300x162.jpg 300w, https://blog.eldernode.com/wp-content/uploads/2020/05/add-new-sudo-user-ubuntu-20.04-1024x552.jpg 1024w, https://blog.eldernode.com/wp-content/uploads/2020/05/add-new-sudo-user-ubuntu-20.04-768x414.jpg 768w, https://blog.eldernode.com/wp-content/uploads/2020/05/add-new-sudo-user-ubuntu-20.04-1536x828.jpg 1536w" data-sizes="(max-width: 1920px) 100vw, 1920px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/05/add-new-sudo-user-ubuntu-20.04.jpg"/></p><p>现在，我们使用以下命令将用户添加到sudo组。</p><pre><code class="language-bash">sudo usermod -aG sudo eldernodeadmin</code></pre><p>同样，您需要替换您的用户名，而不是eldernodeadmin</p><p> </p><h3><span class="ez-toc-section" id="Secure_SSH_on_Ubuntu_2004"/><span>Ubuntu 20.04上的安全SSH</span><span class="ez-toc-section-end"/></h3><p>保护SSH有很多说明，但是在本教程中，我们只讨论root登录的端口和权限。这两种配置对于某些安全性来说已经足够了，但是您可以搜索其他安全性并找到我们的博客。</p><p>首先需要编辑<span> /etc/ssh/sshd_config </span>文件。</p><pre><code class="language-bash">sudo nano /etc/ssh/sshd_config</code></pre><p>取消端口注释，将<strong> 22 </strong>更改为您喜欢的端口。在那之后，取消对PermitRootLogin部分和change prohibits的注释，如下图所示。</p><p><img data-lazyloaded="1" src="../Images/450d457341498021f9e12b9f5d71f2ff.png" decoding="async" loading="lazy" class="aligncenter wp-image-7071 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/05/secure-ssh-on-ubuntu-20.04.jpg" alt="Secure Ubuntu 20.04 SSH" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/05/secure-ssh-on-ubuntu-20.04.jpg 1920w, https://blog.eldernode.com/wp-content/uploads/2020/05/secure-ssh-on-ubuntu-20.04-300x169.jpg 300w, https://blog.eldernode.com/wp-content/uploads/2020/05/secure-ssh-on-ubuntu-20.04-1024x576.jpg 1024w, https://blog.eldernode.com/wp-content/uploads/2020/05/secure-ssh-on-ubuntu-20.04-768x432.jpg 768w, https://blog.eldernode.com/wp-content/uploads/2020/05/secure-ssh-on-ubuntu-20.04-1536x864.jpg 1536w" data-sizes="(max-width: 1920px) 100vw, 1920px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/05/secure-ssh-on-ubuntu-20.04.jpg"/></p><p>编辑完成后，用<strong> ctrl + x </strong>保存并退出文件，按两次<strong>回车键</strong>。</p><p> </p><h3><span class="ez-toc-section" id="Install_firewalld_on_Ubuntu_2004_LTS"/> <span>在Ubuntu 20.04上安装firewalld LTS</span><span class="ez-toc-section-end"/></h3><p>Ubuntu安装时没有任何防火墙来保护你的端口和服务，你需要安装一个防火墙服务。在本教程中，我们决定安装firewalld。</p><p>用于在ubuntu 20.04上安装<a href="https://firewalld.org/" target="_blank" rel="noopener noreferrer"> firewalld </a>，遵循命令。</p><pre><code class="language-bash">sudo apt install firewalld</code></pre><p>安装firewalld后，需要在启动时启动并启用firewalld。</p><pre><code class="language-bash">sudo systemctl start firewalld  sudo systemctl enable firewalld</code></pre><p>好的，现在我们添加一些关于防火墙的规则，但是如果你想了解更多关于防火墙的内容，你可以去Eldernode博客上的<a href="https://eldernode.com/configure-firewalld-on-centos-8/" target="_blank" rel="noopener noreferrer">什么是防火墙</a>文章</p><pre><code class="language-bash">firewall-cmd --permanent  --add-service=http  firewall-cmd --permanent  --add-port=2287/tcp</code></pre><p>添加一些规则后，您需要使用以下命令重新加载防火墙配置。</p><pre><code class="language-bash">firewall-cmd --reload</code></pre><p>最后，如果您需要检查所有firewalld的规则和配置，只需运行以下命令。</p><pre><code class="language-bash">firewall-cmd --list-all</code></pre><h6><span class="ez-toc-section" id="Conclusion"/> <span>结论</span> <span class="ez-toc-section-end"/></h6><p>在本教程《Ubuntu 20.04 LTS上的服务器初始设置》中，了解一下如何在<a href="https://eldernode.com/tag/ubuntu-20-04/" target="_blank" rel="noopener noreferrer"> ubuntu 20.04 </a>上进行一些初始设置，当然也可以设置更多的安全配置等东西，不过这一步对于在互联网上工作已经足够了。</p><p>如果您对本教程有任何疑问，您可以对其进行评论，或者前往长老节点上的<a href="https://eldernode.com/ask" target="_blank" rel="noopener noreferrer"> <strong>提问页面</strong> </a>。</p><p>在文章的最后，你可以看到视频，我们只是在这个视频上运行所有的命令和所有的解释。</p><p/></div></div>    
</body>
</html>