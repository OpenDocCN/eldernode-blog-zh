<html>
<head>
<title>How To Install ZFS File On Centos 8 - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在Centos 8 - Eldernode博客上安装ZFS文件</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/install-zfs-file-on-centos-8/#0001-01-01">https://blog.eldernode.com/install-zfs-file-on-centos-8/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/f732a551d2881017806e35bba168315b.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/12/How-To-Install-ZFS-File-On-Centos-8.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="How To Install ZFS File On Centos 8" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/12/How-To-Install-ZFS-File-On-Centos-8.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/12/How-To-Install-ZFS-File-On-Centos-8-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/12/How-To-Install-ZFS-File-On-Centos-8-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/12/How-To-Install-ZFS-File-On-Centos-8-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/12/How-To-Install-ZFS-File-On-Centos-8-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/12/How-To-Install-ZFS-File-On-Centos-8-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/12/How-To-Install-ZFS-File-On-Centos-8.png"/><p>它是关于管理文件系统的。Z  <strong> F </strong> ile <strong> S </strong>系统因其独有的特性而被管理员广泛使用，这些特性可以保证数据的持久性，从而将正确的数据返回给应用程序。使用ZFS时，您不再需要创建虚拟化卷，因为它可以将设备聚合到一个存储工具中，并消除卷管理。在本文中，您将学习<strong>如何在Centos 8 </strong>上 <strong>安装ZFS文件。由于ZFS仅限于在单个服务器上运行，所以请准备好您自己的<a href="https://eldernode.com/linux-vps/" target="_blank" rel="noopener"> Linux VPS </a>以便能够在您的<a href="https://eldernode.com/centos-vps/" target="_blank" rel="noopener"> Centos VPS服务器</a>上安装ZFS，并利用其优势。</strong></p><p>为了让本教程更好地发挥作用，请考虑以下<strong>先决条件</strong>:</p><p>拥有sudo权限的非root用户</p><p>要进行设置，请遵循我们的<a href="https://blog.eldernode.com/initial-set-up-centos-8/" target="_blank" rel="noopener">初始设置CentOs 8 </a>。</p><h2><strong>教程在Centos上安装ZFS文件</strong></h2><p>使用开源的ZFS及其数据服务是免费的。通常内置于Oracle操作系统中，在技术人员和企业中非常流行。对美国人来说，把它读成ZedFS比ZeeFS更好听。然而，这取决于你。</p><h2><strong>在Centos 8上逐步安装ZFS文件</strong></h2><p>让我们开始复习这个指南的步骤来学习并完成它。</p><p><b>第一步:</b>首先，建议您检查已经安装在Oracle Linux 8上的<strong>库</strong>，使用下面的命令显示已经安装的库。</p><pre><code class="language-bash">yum repolist</code></pre><p><b>第二步:</b></p><p>然后，安装<strong> Yum utilities </strong>以防止在安装过程中可能出现的问题。</p><pre><code class="language-bash">yum install yum-utils</code></pre><p><b>第三步:</b></p><p>在这一步中，您必须在Oracle Linux 8中安装<strong> EPEL存储库</strong>。这是ZFS文件系统安装的关键步骤。你建议直接从Fedora项目官方网站安装EPEL RPM文件。</p><pre><code class="language-bash">dnf install https://dl.fedoraproject.org/pub/epel/epel-release  -latest-8.noarch.rpm</code></pre><p><b> <em>注意</em> </b>:如果你被要求按“Y”或“Y”继续安装，从键盘上击“Y”让EPEL库被下载和安装。等待一段时间，在Oracle CentOs 8上安装EPEL存储库。</p><p>同样，通过与下面相同的命令确认安装:</p><pre><code class="language-bash">yum repolist</code></pre><p><b>第四步:</b></p><p>一旦你确认了你的安装，你应该<strong>启用</strong>你系统中的EPEL实用程序。在终端中运行以下命令，后跟epel名称。</p><pre><code class="language-bash">yum config-manager –enable epel</code></pre><p>您可能感觉有些EPEL模块没有被安装，所以您可以通过运行下面的命令安装Enterprise Linux Modular 8的一个额外的<strong>包</strong>:</p><pre><code class="language-bash">yum install –y dkms</code></pre><p><b>第五步:</b></p><p>在你的系统上安装<strong> ZFS文件系统</strong>的最新步骤是从ZFS官方网站下载。为此，您可以使用rpm命令后跟一个链接。</p><pre><code class="language-bash">rpm –Uvh &lt;a href="http://download.zfsonlinux.org/epel/zfs  -release.el8_2.noarch.rpm"&gt;http://download.zfsonlinux.org/epel  /zfs-release.el8_2.noarch.rpm&lt;/a&gt;</code></pre><p>这样，ZFs rpm文件就会被<strong>成功地</strong>下载到您的Oracle Linux 8中。</p><p><b>第六步:</b></p><p>刚才，您将能够通过运行yum命令后跟关键字ZFS来安装<strong> ZFS文件系统</strong>，如下所示:</p><pre><code class="language-bash">yum install –y zfs</code></pre><p>通过键入这个，ZFS的安装将<strong>开始</strong>。您可以等待一段时间，让它完成。</p><p><b>第七步:</b></p><p>要开始使用<strong> ZFS驱动程序</strong>，你需要加载它。运行以下命令加载驱动程序:</p><pre><code class="language-bash">/sbin/modprobe zfs</code></pre><p><b>第八步:</b></p><p>一旦加载了驱动程序，就可以使用以下命令检查ZFS文件系统的<strong>加载包状态</strong>:</p><pre><code class="language-bash">systemctl –a | grep zfs</code></pre><p>运行上面的命令有助于您观察<strong>活动的</strong>、<strong>非活动的</strong>和<strong>失败的</strong>实用程序和服务。</p><p>此外，要查看哪些实用程序<strong>被启用</strong>和<strong>被禁用</strong>，请键入以下命令:</p><pre><code class="language-bash">systemctl list-unit-files | grep zfs</code></pre><p><b>第九步:</b></p><p>使用以下命令<strong>同时相互连接</strong>公用服务。</p><pre><code class="language-bash">systemctl preset zfs-import-cache zfs-mount zfs-share zfs-zed  zfs-import-scan zfs-target</code></pre><p>这样，您可以启用服务。键入下面的命令以<strong>启用</strong>单个禁用的实用程序服务。</p><pre><code class="language-bash">systemctl enable zfs-import-scan.service</code></pre><p>如果您对公用服务进行验证，您会看到以前被禁用的服务现在被启用的<strong/>。</p><pre><code class="language-bash">systemctl list-unit-files | grep zfs</code></pre><p><b>第十步:</b></p><p>现在，您可以根据ZFS文件系统检查已经运行的设备。使用以下带有_l关键字的命令来<strong>列出</strong>设备。</p><pre><code class="language-bash">fdisk -l</code></pre><p>运行后，您可以看到系统中当前存在的设备和磁盘列表，以及它们的大小、ID、类型、开始和结束信息。</p><p>并检查已经由<strong>创建的</strong>和由<strong>装载的</strong>池:</p><pre><code class="language-bash">df –h</code></pre><p>最后，此时，您已经在Oracle Linux 8上成功安装了ZFS文件系统。您可以在系统上创建池、装载池、导入和导出池、删除池以及其他与文件相关的事情。</p><h3>ZFS命令</h3><p>让我们回顾一下在ZFS系统中尝试使用的一些命令。</p><p><b> 1- </b>执行下面的命令以<strong>在ZFS文件系统中创建一个池</strong>。</p><pre><code class="language-bash">zpool create pool_name /dev/sdc</code></pre><p><b> 2- </b>使用以下命令<strong>检查池</strong>:</p><pre><code class="language-bash">zpool list</code></pre><p><b> 3- </b>您可以通过以下方式查看数据库的<strong>列表:</strong></p><pre><code class="language-bash">zfs-list</code></pre><p><b> 4- </b> Aso，检查当前<strong>池的状态</strong>:</p><pre><code class="language-bash">zpool status</code></pre><p><b> 5- </b>运行以下命令以<strong>导入池</strong>:</p><pre><code class="language-bash">zpool import pool_name</code></pre><p><b> 6- </b>和<strong>出口池</strong>:</p><pre><code class="language-bash">zpool export pool_name</code></pre><p><b> 7- </b>随时使用下面的命令<strong>删除池</strong></p><pre><code class="language-bash">zpool destroy pool_name</code></pre><p><b> 8- </b>要使用池创建ZFS文件系统<strong>，请运行:</strong></p><pre><code class="language-bash">zfs create pool_name/myfs</code></pre><p><b> 9- </b>最后，您可以通过运行如下简单的挂载命令来<strong>挂载池</strong>:</p><pre><code class="language-bash">mount</code></pre><p>就是这样！从现在开始，改进你处理数据文件的方式。</p><p><strong>结论</strong></p><p>在本文中，您学习了如何在Centos 8上安装ZFS文件。安装ZFS，享受其功能和优势，并作为您的存储文件系统。它还可以处理RAID，而不需要额外的软件或硬件。</p></div></div>    
</body>
</html>