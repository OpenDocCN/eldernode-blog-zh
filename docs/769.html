<html>
<head>
<title>Tutorial Install and run Git Server on Linux VPS - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>教程在Linux VPS - Eldernode博客上安装和运行Git服务器</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/install-and-run-git-server/#0001-01-01">https://blog.eldernode.com/install-and-run-git-server/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/5dd1921170ca39b679446e19dde27fa6.png" data-src="https://blog.eldernode.com/wp-content/uploads/2021/05/Tutorial-Install-and-run-Git-Server-on-Linux-VPS.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Tutorial Install and run Git Server on Linux VPS" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/05/Tutorial-Install-and-run-Git-Server-on-Linux-VPS.png 2069w, https://blog.eldernode.com/wp-content/uploads/2021/05/Tutorial-Install-and-run-Git-Server-on-Linux-VPS-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/05/Tutorial-Install-and-run-Git-Server-on-Linux-VPS-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2021/05/Tutorial-Install-and-run-Git-Server-on-Linux-VPS-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2021/05/Tutorial-Install-and-run-Git-Server-on-Linux-VPS-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2021/05/Tutorial-Install-and-run-Git-Server-on-Linux-VPS-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/05/Tutorial-Install-and-run-Git-Server-on-Linux-VPS.png"/><p>只需提供一个虚拟VPS服务器，Git Server就可以用作编程和开发团队的开源且经济高效的解决方案。防止文件冲突、版本控制、集中管理和Git服务器是一些好处。在这篇文章中，我们将教你如何在Linux VPS上安装和运行Git服务器。需要注意的是，如果你想买一个<a href="https://eldernode.com/linux-vps/" target="_blank" rel="noopener"> Linux VPS </a>服务器，可以在<a href="https://eldernode.com/"> Eldernode </a>看到可用的包。</p><h2><span class="ez-toc-section" id="How_to_Install_and_run_Git_Server_on_Linux_VPS"/> <strong>如何在Linux VPS上安装运行Git服务器</strong> <span class="ez-toc-section-end"/></h2><h3><span class="ez-toc-section" id="Introduction_to_Git_Server"/><strong>Git服务器简介</strong> <span class="ez-toc-section-end"/></h3><p>Git服务器具有版本控制功能。此功能允许您始终查看每个文件的更改历史。Git服务器文档和日志允许您查看每个人在什么时间对每个文件做了什么更改。版本控制是Git服务器如此受项目经理欢迎的原因之一。</p><p>Git将所有主要项目文件存储在主服务器上。对于团队中打算编辑其中一个文件的每个成员来说，该文件的临时副本(工作副本)被下载到他的系统中，并且在工作完成之后，更改被应用到提交服务器。应该注意的是，Git还能够检测团队成员之间对文件的干扰。</p><p>2到20人的编程和开发团队可以使用虚拟服务器轻松设置他们的Git服务器。通过这样做，对虚拟服务器信息进行备份就足够了。这样，项目的信息安全将始终得到保证。</p><p>请注意，Git服务器能够在发布和最终实现之前批准和监督团队成员所做的任何更改。每个团队成员将变更提交给Git服务器进行审查。Git通过电子邮件或短信通知项目经理新的变更。如果获得批准，项目经理将批准变更，Git服务器将在项目中发布它们。</p><h2><span class="ez-toc-section" id="Install_and_Setup_Git_Server_on_Linux_VPS"/> <strong>在Linux VPS上安装设置Git服务器</strong> <span class="ez-toc-section-end"/></h2><p>设置Git服务器允许您创建私有存储库，而不受免费提供者应用程序的限制。在这一节中，我们将解释如何在Linux VPS服务器上安装和设置Git服务器。</p><p>第一步是使用<strong> PuTTY终端客户端</strong>连接到您的Linux VPS服务器。为此，在完成与<strong>主机名</strong>、<strong>端口</strong>和<strong>连接类型</strong>相关的字段后，点击<strong>连接</strong>。</p><p> </p><p><img data-lazyloaded="1" src="../Images/61da18ff9ade584f9119a6834263837b.png" decoding="async" loading="lazy" class="aligncenter wp-image-31304 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2021/05/connect-to-linux-vps.jpg" alt="connect to linux vps" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/05/connect-to-linux-vps.jpg 448w, https://blog.eldernode.com/wp-content/uploads/2021/05/connect-to-linux-vps-300x295.jpg 300w" data-sizes="(max-width: 448px) 100vw, 448px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/05/connect-to-linux-vps.jpg"/></p><p> </p><p>接下来，当SSH连接打开时，您应该看到一个终端请求，询问您的用户名。现在你需要输入你的<strong>根服务器用户名</strong>作为“root”。接下来，输入你的<strong>密码</strong>。您可以在客户门户网站上找到它。输入后，按<strong>键输入</strong>。</p><p>是时候<strong>在服务器上安装Git </strong>了。需要注意的是，如果你使用的是<a href="https://blog.eldernode.com/tag/debian/"> Debian </a>或者<a href="https://blog.eldernode.com/tag/ubuntu/"> Ubuntu </a>，通过以Sudo用户的身份运行以下命令，你可以刷新本地包概要文件并安装git:</p><pre><code class="language-bash">sudo apt update</code></pre><pre><code class="language-bash">sudo apt install git</code></pre><p>您还可以使用以下命令在<a href="https://blog.eldernode.com/tag/centos/"> CentOS </a>服务器上安装git包:</p><pre><code class="language-bash">sudo yum install git</code></pre><p>接下来，您可以<strong>创建一个新用户</strong>来管理Git存储库:</p><pre><code class="language-bash">sudo useradd -r -m -U -d /home/git -s /bin/bash git</code></pre><p>需要注意的是，用户主目录被设置为<strong> /home/git </strong>。知道所有的存储库都存储在这个列表中也很重要。注意，因为我们没有为“git”用户设置密码，所以只能使用<strong> ssh密钥</strong>登录。</p><p>在下一步中，您可以使用以下命令转到“git”用户:</p><pre><code class="language-bash">sudo su - git</code></pre><p>然后，您可以通过运行以下命令来创建SSH目录并正确设置权限:</p><pre><code class="language-bash">mkdir -p ~/.ssh &amp;&amp; chmod 0700 ~/.ssh</code></pre><p>那么您应该创建一个名为<strong> ~/的文件。ssh/authorized_keys </strong>将保存授权用户的ssh密钥:</p><pre><code class="language-bash">touch ~/.ssh/authorized_keys</code></pre><pre><code class="language-bash">chmod 0600 ~/.ssh/authorized_keys</code></pre><p>您现在已经准备好<strong>创建您的第一个Git存储库</strong>。您需要运行以下命令来启动一个新的空存储库:</p><pre><code class="language-bash">git init --bare ~/projectname.git</code></pre><p>最后，您可以根据自己的喜好命名列表。</p><h3><span class="ez-toc-section" id="How_to_configure_Git_Server_on_Linux_VPS"/> <strong>如何在Linux VPS上配置Git服务器</strong>T3】</h3><p>在前一节安装Git服务器之后，我们现在想在这一节讨论如何配置它。应该注意的是，为了能够将本地git更改推送到git服务器，您必须将您的<strong>本地用户的SSH密钥</strong>添加到远程“Git”用户的<strong> authorized_keys </strong>文件。请注意，如果您的本地系统中已经有一对SSH密钥，您可以使用以下命令显示公钥:</p><pre><code class="language-bash">cat ~/.ssh/id_rsa.pub</code></pre><p><em> <strong>注意:</strong> </em>如果您得到一条错误消息说“<strong>没有这样的文件或目录</strong>，这意味着您的本地机器上没有生成SSH密钥对。</p><p>基于此，您可以使用下面的命令来生成一个<strong>新的SSH密钥对</strong>:</p><pre><code class="language-bash">ssh-keygen -t rsa -b 4096 -C "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="621b0d17103d070f030b0e22060d0f030b0c4c010d0f">[email protected]</a>"</code></pre><p>在执行上述命令之后，您需要复制它的输出并将其返回到Git服务器控制台。在服务器上，打开您的<strong>文本编辑器</strong>，<strong>将您从本地机器上复制的公钥</strong>粘贴到<strong> ~/中。ssh/authorized_keys </strong>文件:</p><pre><code class="language-bash">sudo nano /home/git/.ssh/authorized_keys</code></pre><p>应该注意，如果您有一个现有的未版本化的项目，请导航到项目目录。现在您可以创建项目目录，如果您是从零开始，可以导航到该目录:</p><pre><code class="language-bash">cd /path/to/local/project</code></pre><p>在这一步中，您应该初始化一个git存储库:</p><pre><code class="language-bash">git init .</code></pre><p>最后，您应该使用以下命令将git remote添加到您的本地存储库中:</p><pre><code class="language-bash">git remote add origin <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="ed8a8499ad8a8499">[email protected]</a>_server_ip:projectname.git</code></pre><p><em> <strong>注意:</strong> </em>在上面的命令中，必须用git服务器的主机名或ip地址替换git_server_ip。</p><h3><span class="ez-toc-section" id="How_to_Verify_the_Correct_Git_Server_Setup"/> <strong>如何验证正确的Git服务器设置</strong> <span class="ez-toc-section-end"/></h3><p>在这一部分，您可以检查所有设置是否正确。为此，<strong>通过运行以下命令创建一个测试文件</strong>:</p><pre><code class="language-bash">touch test_file</code></pre><p>然后，您必须使用以下命令在临时区域中添加更改:</p><pre><code class="language-bash">git add .</code></pre><p>现在，您需要在以下命令的帮助下提交命令:</p><pre><code class="language-bash">git commit -m "descriptive message"</code></pre><p>在下一步中，您应该将本地存储库的更改推送到远程存储库:</p><pre><code class="language-bash">git push -u origin master</code></pre><p>要添加一个新的协作者，只需将其公共SSH密钥复制到“git”用户的~/中。ssh/authorized_keys文件。</p><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>Git服务器能够批准和监督团队成员在发布和最终实施以及项目经理的批准和监督之前所做的任何更改。在本文中，我们试图在第一步向您介绍Git服务器。然后我们教你在Linux VPS上安装和设置Git服务器。最后，我们解释了如何配置和测试它。</p></div></div>    
</body>
</html>