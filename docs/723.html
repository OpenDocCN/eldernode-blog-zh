<html>
<head>
<title>Tutorial Install and Configure Firewall CSF on Plesk - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Plesk - Eldernode博客上的教程安装和配置防火墙CSF</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/install-and-configure-firewall-csf-on-plesk/#0001-01-01">https://blog.eldernode.com/install-and-configure-firewall-csf-on-plesk/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/cebede816ea6379eb4299ca6128b23a6.png" data-src="https://blog.eldernode.com/wp-content/uploads/2021/04/Tutorial-Install-and-Configure-Firewall-CSF-on-Plesk.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Tutorial Install and Configure Firewall CSF on Plesk" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/04/Tutorial-Install-and-Configure-Firewall-CSF-on-Plesk.png 2069w, https://blog.eldernode.com/wp-content/uploads/2021/04/Tutorial-Install-and-Configure-Firewall-CSF-on-Plesk-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/04/Tutorial-Install-and-Configure-Firewall-CSF-on-Plesk-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2021/04/Tutorial-Install-and-Configure-Firewall-CSF-on-Plesk-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2021/04/Tutorial-Install-and-Configure-Firewall-CSF-on-Plesk-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2021/04/Tutorial-Install-and-Configure-Firewall-CSF-on-Plesk-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/04/Tutorial-Install-and-Configure-Firewall-CSF-on-Plesk.png"/><p>CSF代表ConfigServer安全和防火墙。这个非常强大的免费CSF软件防火墙已经发布，并通过Web团队的方式提供给公众。这个防火墙是针对基于Linux的发行版的。CSF接口被集成到流行的Linux控制面板中，如Cpanel、Directadmin和Plesk。在本文中，我们将首先向您全面介绍CSF防火墙。然后我们会教你关于<strong>教程在Plesk </strong>上安装和配置防火墙CSF。如果你想买一个<a href="https://eldernode.com/vps-hosting/" target="_blank" rel="noopener"> VPS托管</a>服务器，你可以在<a href="https://eldernode.com/" target="_blank" rel="noopener"> Eldernode </a>看到可用的包。</p><h2><span class="ez-toc-section" id="How_to_Install_and_Configure_Firewall_CSF_on_Plesk"/> <strong>如何在Plesk </strong> <span class="ez-toc-section-end"/>上安装配置防火墙CSF</h2><p>防火墙对于确保Plesk服务器的安全至关重要。CSF是一款免费的防火墙，可以安装在您的Plesk服务器上，作为Plesk防火墙的替代产品。CSF是服务器托管的综合安全解决方案，可以轻松集成到Plesk UI中。这就是为什么我们想教你如何在<a href="https://blog.eldernode.com/tag/plesk/"> Plesk </a>上安装和配置防火墙CSF。请继续关注本文的其余部分。</p><h3><span class="ez-toc-section" id="Introduction_to_Firewall_CSF"/> <strong>防火墙CSF介绍</strong> <span class="ez-toc-section-end"/></h3><p>CSF是<a href="https://blog.eldernode.com/tag/linux/"> Linux </a>操作系统中最流行和最强大的IPtables管理防火墙之一，由配置服务器免费开源提供。CSF负责保护服务器，顾名思义，是防止各种攻击的防火墙，其中最重要的是syn flood、DDoS和<a href="https://blog.eldernode.com/block-ip-of-brute-force-by-csf/">蛮力</a>。</p><p>这种防火墙为服务器安全提供了许多功能。它还会定期检查失败登录尝试的报告，并能够检测大多数未经授权访问您的服务器的尝试。因此您可以在CSF配置文件中设置您想要的安全措施。</p><p>此功能支持以下应用程序:</p><p>1.信差IMAP，多佛，你的IMAP</p><p>2.OpenSSH</p><p>3.纯ftpd、vsftpd、Proftpd</p><p>4.受密码保护的网页(Htpasswd)</p><p>5.Mod _安全故障(v1和v2)</p><p>6.苏霍辛失败</p><p>7.进出口SMTP授权</p><p>此外，您可以创建自己的日志文件。</p><h3><span class="ez-toc-section" id="Prerequisite_for_Installing_Firewall_CFS_on_Plesk"/> <strong>在Plesk </strong>上安装防火墙CFS的前提条件<span class="ez-toc-section-end"/></h3><p>在Plesk上开始安装和配置防火墙CSF之前，您应该准备好CSF依赖项。因为CSF是基于Perl的，所以您需要在服务器上安装它才能开始。您必须有Wget来下载CSF安装程序以及vim或您选择的编辑器，如<a href="https://blog.eldernode.com/how-to-install-and-use-nano-text-editor/"> Nano </a>来修改CSF配置文件。</p><p>因此，您必须使用以下命令安装软件包:</p><pre><code class="language-bash">yum install wget vim perl-libwww-perl.noarch perl-Time-HiRes</code></pre><h2><span class="ez-toc-section" id="Install_Firewall_CSF_on_Plesk"/> <strong>在Plesk上安装防火墙CSF</strong>T3】</h2><p>现在您已经有了CSF预安装的依赖项，是时候安装它了。第一步是转到<strong> /usr/src/ </strong>文件夹，使用以下命令加载CSF:</p><pre><code class="language-bash">cd /usr/src/</code></pre><pre><code class="language-bash">wget https://download.configserver.com/csf.tgz</code></pre><p>然后，您必须使用以下命令提取<strong>tar.gz</strong>文件，并转到CSF列表。然后在下一步中，安装tar.gz文件:</p><pre><code class="language-bash">tar -xzf csf.tgz</code></pre><pre><code class="language-bash">cd csf</code></pre><pre><code class="language-bash">sh install.sh</code></pre><p>成功安装CSF后，您现在应该检查CSF是否按需要在此服务器上工作。因此，您必须使用以下命令转到<strong> /usr/local/csf/bin/ </strong>目录:</p><pre><code class="language-bash">cd /usr/local/csf/bin/</code></pre><p>现在，您需要通过运行以下命令来运行"<strong> csftest.pl </strong>":</p><pre><code class="language-bash">perl csftest.pl</code></pre><p>最后，如果您看到以下答案，您可以确定CSF在您的服务器上正常工作:</p><pre><code class="language-bash">RESULT: csf should function on this server</code></pre><h3><span class="ez-toc-section" id="How_to_Configure_Firewall_CSF_on_Plesk"/> <strong>如何在Plesk </strong>上配置防火墙CSF<span class="ez-toc-section-end"/></h3><p>需要注意的重要一点是，在进入CSF配置流程之前，您应该知道<a href="https://blog.eldernode.com/tag/centos/"> CentOS </a> 7默认防火墙程序“Firewalld”应该被停止并从启动中删除。因此，您必须使用以下命令来停止它:</p><pre><code class="language-bash">systemctl stop firewalld</code></pre><p>您也可以使用以下命令禁用防火墙并将其从启动中删除:</p><pre><code class="language-bash">systemctl disable firewalld</code></pre><p>您现在可以开始配置CSF了。第一步是转到CSF配置目录<strong> /etc/csf/ </strong>，使用想要的编辑器修改“<strong> csf.conf </strong>文件。为此，请使用以下命令:</p><pre><code class="language-bash">cd /etc/csf/</code></pre><pre><code class="language-bash">vim csf.conf</code></pre><p>然后，您需要将第11行"<strong>测试</strong>更改为" 0 "，如以下命令所示，以配置CSF防火墙:</p><pre><code class="language-bash">TESTING = “0”</code></pre><p>注意，默认情况下，CSF为标准的<strong> SSH 22端口</strong>提供输入和输出流量，因此如果您想要使用一个替代的SSH端口，您需要将您想要的端口添加到第139行“<strong> TCP_IN </strong>”。然后，您需要像下面这样启动CSF和LFD:</p><pre><code class="language-bash">systemctl start csf</code></pre><pre><code class="language-bash">systemctl start lfd</code></pre><p>在下一步中，您可以设置<strong> CSF </strong>和<strong> LFD </strong>服务在引导时启动:</p><pre><code class="language-bash">systemctl enable csf</code></pre><pre><code class="language-bash">systemctl enable lfd</code></pre><p>最后，您可以使用以下命令默认查看CSF列表:</p><pre><code class="language-bash">csf -l</code></pre><p>如果您想进行更高级的配置，请遵循本节内容。返回csf配置列表，使用以下命令修改<strong> csf.conf </strong>配置文件:</p><pre><code class="language-bash">cd /etc/csf/</code></pre><pre><code class="language-bash">vim csf.conf</code></pre><p>如果你想确保<strong> CSF.allow </strong>中的某个特定IP永远不会被LFD屏蔽，找到命令“<strong> IGNORE_ALLOW </strong>，将其值改为“<strong> 1 </strong>”:</p><pre><code class="language-bash">IGNORE_ALLOW = "1"</code></pre><p>您可以使用以下命令<strong>启用ICMP </strong>输入和输出:</p><pre><code class="language-bash">ICMP_IN = "1"</code></pre><pre><code class="language-bash">ICMP_OUT = "1"</code></pre><p>CSF允许您拒绝或允许通过CIDR(国家代码)进入某些国家。借助以下命令，您可以阻止或允许访问国家/地区:</p><pre><code class="language-bash">CC_DENY = "CN,UK,US"</code></pre><pre><code class="language-bash">CC_ALLOW = "ID,MY,DE"</code></pre><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>使CSF防火墙流行的特性之一是对服务器内容的更好的管理，例如端口管理、连接管理、进程管理等等。通过安装这种防火墙，您可以完全关闭FirewallD或Iptables服务。在本文中，我们试图教您如何在Plesk上安装和配置防火墙CSF。</p></div></div>    
</body>
</html>