<html>
<head>
<title>Tutorial Install Apache CouchDB on CentOS 8 - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>教程在CentOS 8 - Eldernode博客上安装Apache CouchDB</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/install-apache-couchdb-centos-8/#0001-01-01">https://blog.eldernode.com/install-apache-couchdb-centos-8/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/0ab90a076ffdf0a095b6fde3be16ed77.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/08/IMG_1993.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Tutorial Install Apache CouchDB on CentOS 8" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/08/IMG_1993.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/08/IMG_1993-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/08/IMG_1993-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/08/IMG_1993-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/08/IMG_1993-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/08/IMG_1993-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/08/IMG_1993.png"/><p>Apache CouchDB用Erlang语言编写，是一个免费、可靠的NoSQL数据库引擎，它本身支持JSON格式的数据。与传统的SQL关系数据库(如MySQL)相比，这使得数据建模更具可伸缩性，也更容易。CouchDB的杀手锏是它的复制功能，这种功能可以跨越各种计算设备和各种计算环境，提供高可用性和按需数据访问。在本文中，我们试图向您介绍在CentOS 8 上安装Apache CouchDB的教程<strong>。你可以访问<a href="https://eldernode.com/" target="_blank" rel="noopener"> Eldernode </a>提供的套装来购买<a href="https://eldernode.com/centos-vps/" target="_blank" rel="noopener"> CentOS VPS </a>服务器。</strong></p><h2><span class="ez-toc-section" id="How_to_Install_Apache_CouchDB_on_CentOS_8"/> <strong>如何在CentOS 8上安装Apache couch db</strong>T3】</h2><p>让我们通过这篇文章的步骤来学习如何在<a href="https://blog.eldernode.com/tag/centos/"> CentOS </a> 8上安装<strong> Apache CouchDB </strong>。请加入我们。</p><h3><span class="ez-toc-section" id="Install_the_EPEL_Repository"/> <strong>安装EPEL资源库</strong> <span class="ez-toc-section-end"/></h3><p>首先，你需要在CentOS 8上安装<a href="https://blog.eldernode.com/how-fix-epel-repository-error-centos-7/"> EPEL库</a>。</p><pre><code class="language-bash">yum install epel-release  </code></pre><figure id="attachment_35444" class="wp-caption aligncenter" aria-describedby="caption-attachment-35444"/><h3><span class="ez-toc-section" id="Enable_the_CouchDB_Repository"/>启用CouchDB存储库<span class="ez-toc-section-end"/></h3><p>在这一步中，您将通过首先创建一个存储库文件来继续并启用<strong> CouchDB </strong>存储库，因为您已经成功地安装了EPEL包。</p><pre><code class="language-bash">vi /etc/yum.repos.d/apache-couchdb.repo  </code></pre><p>将下面的配置粘贴到存储库文件中，并<strong>保存</strong>。</p><pre><code class="language-bash">[bintray--apache-couchdb-rpm]  name=bintray--apache-couchdb-rpm  baseurl=http://apache.bintray.com/couchdb-rpm/el$releasever/$basearch/  gpgcheck=0  repo_gpgcheck=0  enabled=1  </code></pre><h3><span class="ez-toc-section" id="Install_CouchDB_on_CentOS_8"/> <strong>在CentOS 8 </strong> <span class="ez-toc-section-end"/>上安装CouchDB</h3><p>在其配置文件中定义了<strong> CouchDB </strong>存储库之后，使用下面的命令继续安装CouchDB。</p><pre><code class="language-bash">yum install couchdb  </code></pre><figure id="attachment_35448" class="wp-caption aligncenter" aria-describedby="caption-attachment-35448"/><p>一旦成功安装了<strong> CouchDB </strong>包及其依赖项，启动，使CouchDB在引导时启动，并通过运行命令来验证状态。</p><pre><code class="language-bash">systemctl start couchdb  </code></pre><pre><code class="language-bash">systemctl enable couchdb  </code></pre><pre><code class="language-bash">systemctl status couchdb</code></pre><p>要验证CouchDB监听端口5984:</p><pre><code class="language-bash">netstat -pnltu</code></pre><h3><span class="ez-toc-section" id="How_to_Configure_CouchDB_on_CentOS_8"/> <strong>如何在CentOS 8上配置couch db</strong>T3】</h3><p>CouchDB既可以配置为独立模式，也可以配置为集群模式。然而，在本指南中，您将在单模配置中配置CouchDB服务器。此外，您将配置CouchDB，以便我们可以通过web浏览器访问它。</p><p>CouchDB的配置文件位于<strong> /opt/couchdb/etc/ </strong>目录中。您将在<strong> local.ini </strong>文件中进行一些配置。所以用你最喜欢的编辑器打开文件。</p><pre><code class="language-bash">vi /opt/couchdb/etc/local.ini  </code></pre><p>在<strong>【admins】</strong>部分中，通过取消其下一行的注释来创建一个admin帐户，并按照以下格式定义admin的密码。</p><pre><code class="language-bash">[admins]  admin = mypassword</code></pre><p>接下来，滚动到<strong>【chttpd】</strong>部分。取消端口和绑定地址值的注释。此外，将绑定地址设置为<strong> 0.0.0.0 </strong>，以允许来自外部IP地址的访问。出于安全原因，您可以稍后更改该值。</p><pre><code class="language-bash">[chttpd]  port = 5984  bind_address = 0.0.0.0</code></pre><p><strong>保存</strong>更改并退出配置文件。为了使更改生效，<strong>重启</strong> CouchDB。</p><pre><code class="language-bash">systemctl restart couchdb  </code></pre><p>如果你在服务器上运行防火墙，你必须打开端口<strong> 5984 </strong>以允许流量流向<strong> CouchDB </strong>。</p><pre><code class="language-bash">firewall-cmd --zone=public --permanent --add-port=5984/tcp  </code></pre><pre><code class="language-bash">firewall-cmd --reload</code></pre><h3><span class="ez-toc-section" id="How_to_Access_CouchDB_Web_Interface"/> <strong>如何访问CouchDB Web界面</strong> <span class="ez-toc-section-end"/></h3><p>按照我们的配置，CouchDB应该运行在<strong> localhost:5984 </strong>上。为了确认CouchDB按预期工作，使用<strong> curl </strong>命令以JSON格式打印CouchDB的信息。</p><pre><code class="language-bash">curl http://127.0.0.1:5984/  </code></pre><p>通过启动浏览器并浏览所示的服务器IP地址，您可以进一步确认一切都按照计划进行。</p><pre><code class="language-bash">http://server-ip:5984/_utils/</code></pre><p>您应该会看到下面的网页，提示您使用在<strong> local.ini </strong>文件中定义的<strong>用户名</strong>和<strong>密码</strong>登录，并点击<strong>回车</strong>。</p><p> </p><p><img data-lazyloaded="1" src="../Images/4da86e33a04b353678e7fa84965b362e.png" decoding="async" loading="lazy" class="aligncenter wp-image-24322 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/10/CouchDB-Admin-Login.jpg" alt="CouchDB Admin Login page" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/10/CouchDB-Admin-Login.jpg 1024w, https://blog.eldernode.com/wp-content/uploads/2020/10/CouchDB-Admin-Login-300x183.jpg 300w, https://blog.eldernode.com/wp-content/uploads/2020/10/CouchDB-Admin-Login-768x470.jpg 768w" data-sizes="(max-width: 1024px) 100vw, 1024px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/10/CouchDB-Admin-Login.jpg"/></p><p> </p><p>仪表板将显示如下。</p><p> </p><figure id="attachment_35456" class="wp-caption aligncenter" aria-describedby="caption-attachment-35456"/><p><img data-lazyloaded="1" src="../Images/6b4148a4e1d04551c3d1ffd50b64e19a.png" decoding="async" loading="lazy" class="aligncenter wp-image-24323 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/10/CouchDB-Admin-Dashboard.jpg" alt="CouchDB Admin Dashboard page" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/10/CouchDB-Admin-Dashboard.jpg 1024w, https://blog.eldernode.com/wp-content/uploads/2020/10/CouchDB-Admin-Dashboard-300x183.jpg 300w, https://blog.eldernode.com/wp-content/uploads/2020/10/CouchDB-Admin-Dashboard-768x470.jpg 768w" data-sizes="(max-width: 1024px) 100vw, 1024px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/10/CouchDB-Admin-Dashboard.jpg"/></p><p> </p><p>没有显示任何内容，因为到目前为止您还没有创建任何数据库。在下一节中，您将创建几个数据库。</p><h3><span class="ez-toc-section" id="How_to_Create_Databases_in_CouchDB"/> <strong>如何在CouchDB </strong>中创建数据库<span class="ez-toc-section-end"/></h3><p>要在终端上用CouchDB创建一个数据库，使用所示语法中的<span> curl </span>命令。</p><pre><code class="language-bash">curl -u ADMINUSER:PASSWORD -X PUT http://127.0.0.1:5984  </code></pre><p>您将创建3个数据库:<strong> eldernode_db </strong>、<strong> users_db </strong>和<strong> production_db </strong>。</p><pre><code class="language-bash">curl -u admin:<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="96c6d6e5e5e1f9e4f2a7a4a5">[email protected]</a> -X PUT http://127.0.0.1:5984/production_db  </code></pre><pre><code class="language-bash">curl -u admin:<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="6030201313170f1204515253">[email protected]</a> -X PUT  http://127.0.0.1:5984/eldernode_db  </code></pre><pre><code class="language-bash">curl -u admin:<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="5505152626223a2731646766">[email protected]</a> -X PUT http://127.0.0.1:5984/users_db</code></pre><p>对于每个命令，您应该得到下面的输出。</p><pre><code class="language-bash">{“Ok”: true}</code></pre><p>要检查使用命令中的<strong> GET </strong>参数创建的数据库。</p><pre><code class="language-bash">curl -u admin:<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="6c3c2c1f1f1b031e085d5e5f">[email protected]</a> -X GET http://127.0.0.1:5984/production_db  </code></pre><pre><code class="language-bash">curl -u admin:<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="d98999aaaaaeb6abbde8ebea">[email protected]</a> -X GET  http://127.0.0.1:5984/eldernode_db  </code></pre><pre><code class="language-bash">curl -u admin:<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="dc8c9cafafabb3aeb8edeeef">[email protected]</a> -X GET http://127.0.0.1:5984/users_db  </code></pre><pre><code class="language-bash">curl -u admin:<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="3c6c7c4f4f4b534e580d0e0f">[email protected]</a> -X GET http://127.0.0.1:5984/_all_dbs</code></pre><p>要在浏览器上查看数据库，只需<strong>刷新</strong> / <strong>重新加载</strong>浏览器。</p><p> </p><p><img data-lazyloaded="1" src="../Images/e26e16714c8bb0c1ae1efd39069391f0.png" decoding="async" loading="lazy" class="aligncenter wp-image-24324 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/10/Check-CouchDB-Databases-Dashboard.jpg" alt="Check-CouchDB Databases Dashboard page" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/10/Check-CouchDB-Databases-Dashboard.jpg 1024w, https://blog.eldernode.com/wp-content/uploads/2020/10/Check-CouchDB-Databases-Dashboard-300x183.jpg 300w, https://blog.eldernode.com/wp-content/uploads/2020/10/Check-CouchDB-Databases-Dashboard-768x470.jpg 768w" data-sizes="(max-width: 1024px) 100vw, 1024px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/10/Check-CouchDB-Databases-Dashboard.jpg"/></p><p> </p><p>同样，要删除一个数据库，使用如下所示的<strong> delete </strong>参数。例如，该命令删除了<strong> users_db </strong>数据库。</p><pre><code class="language-bash">curl -u admin:<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="7c2c3c0f0f0b130e184d4e4f">[email protected]</a> -X DELETE http://127.0.0.1:5984/users_db  </code></pre><p>运行下面的命令再次检查数据库。</p><pre><code class="language-bash">curl -u admin:<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="9ecedeedede9f1ecfaafacad">[email protected]</a> -X GET http://127.0.0.1:5984/_all_dbs   </code></pre><p>正如您所看到的，只有两个数据库，因为我们已经删除了<strong> users_db </strong>数据库。</p><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p><span>在本文中，</span>你成功完成了在CentOS 8上安装Apache CouchDB的学习教程。从现在开始，您将能够轻松地在CentOS 8系统上安装和配置CouchDB。</p></div></div>    
</body>
</html>