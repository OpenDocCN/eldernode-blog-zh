<html>
<head>
<title>How to install PostgreSQL Database in Debian 10 - postgre on debian</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在Debian上安装Debian 10 - postgre中的PostgreSQL数据库</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/install-postgresql-debian10/#0001-01-01">https://blog.eldernode.com/install-postgresql-debian10/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/40fce8a70dadb80e4d75ee37ac939af7.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/08/IMG_2155.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="How to install PostgreSQL Database in Debian 10" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/08/IMG_2155.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/08/IMG_2155-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/08/IMG_2155-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/08/IMG_2155-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/08/IMG_2155-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/08/IMG_2155-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/08/IMG_2155.png"/><p>为了教授更多关于PostgreSQL的知识，在这篇文章中，你将学习如何在Debian 10 中安装PostgreSQL数据库。PostgreSQL是最先进的开源通用和对象关系数据库系统，具有可在所有主流操作系统上运行的成熟架构。</p><p>此外，它是一个高性能、稳定、可伸缩和可扩展的数据库系统，提供惊人的数据完整性并支持强大的附加组件。</p><p>最重要的特性之一是<strong> PostgreSQL </strong>允许你定义自己的数据类型，添加自定义函数，甚至从不同的<a href="https://en.wikipedia.org/wiki/Programming_language#:~:text=A%20programming%20language%20is%20a,consist%20of%20instructions%20for%20computers." target="_blank" rel="noopener noreferrer">编程语言</a>如C/C++、Java等编写代码，而无需重新编译你的数据库。</p><p> </p><h4><span class="ez-toc-section" id="Requirement"/> <span>要求:</span> <span class="ez-toc-section-end"/></h4><p class="fjpost-title px-0"><a href="https://eldernode.com/initial-setup-with-debian-10/" target="_blank" rel="noopener noreferrer">Debian 10的初始设置</a></p><p> </p><h2><span class="ez-toc-section" id="How_to_install_PostgreSQL_Database_in_Debian_10"/> <span>如何在Debian 10中安装PostgreSQL数据库</span> <span class="ez-toc-section-end"/></h2><p>遵循这个指南来学习如何在<strong> Debian 10 </strong>中安装、保护和配置<strong> PostgreSQL </strong>数据库服务器。</p><p>了解PostgreSQL正在被知名的科技公司使用，如苹果、富士通、红帽、思科、瞻博网络等，这是很有用的。</p><p> </p><p><span> <a href="https://eldernode.com/linux-vps/" target="_blank" rel="noopener noreferrer">购买Linux虚拟私有服务器</a> </span></p><p class="fjpost-info"/><h3><span class="ez-toc-section" id="Installing_PostgreSQL_Server_on_Debian_10"/> <span>在Debian 10上安装PostgreSQL服务器</span>T3】</h3><p>首先，通过键入以下命令安装<strong> PostgreSQL </strong>数据库服务器:</p><pre><code class="language-bash">apt install postgresql-11 postgresql-client-11  </code></pre><p><span> <strong>点</strong> </span>:在<strong> Debian </strong>上，和其他任何守护进程一样，<strong> Postgres </strong>数据库在软件包安装完成后立即初始化。</p><p>您可以使用检查PostgreSQL服务器连接状态的<strong> pg_isready </strong>实用程序来检查<strong> Postgres </strong>数据库是否真正初始化。</p><pre><code class="language-bash">pg_isready</code></pre><p>同样，在<strong> systemd </strong>下，<strong> Postgres </strong>服务也会自动启动，并在系统引导时启动。为了确保服务正常运行，运行下面的命令。</p><pre><code class="language-bash">systemctl status postgresql  </code></pre><p>使用以下有用的命令来管理systemd下的Postgres服务。</p><pre><code class="language-bash">systemctl start postgresql  systemctl restart postgresql  systemctl stop postgresql  systemctl reload postgresql 		this reloads the service configuration</code></pre><p> </p><p>不要错过相关文章。</p><p class="fjpost-title px-0"><strong><span><a href="https://eldernode.com/postgresql-installation-tutorial/" target="_blank" rel="noopener noreferrer">Windows Server上的PostgreSQL安装教程2016 </a> </span> </strong></p><p/><h3><span class="ez-toc-section" id="Securing_and_Configuring_PostgreSQL_Database"/> <span>保护和配置PostgreSQL数据库</span> <span class="ez-toc-section-end"/></h3><p>Postgres 使用角色的概念来管理数据库访问权限，默认情况下，数据库角色在概念上与操作系统用户完全分离。</p><p>更详细地说，用户是可以是用户或组的角色，并且是具有登录权限的角色。</p><p>您需要保护Postgres系统用户帐户，因为它没有使用密码进行保护。为此，您可以使用<strong> passwd实用程序</strong>创建一个密码。</p><pre><code class="language-bash">passwd postgres  </code></pre><p>此外，默认情况下，<strong> Postgres </strong>角色是不安全的。您还需要用密码来保护它。现在切换到如图所示的<strong> postgres </strong>系统用户账户和<strong> postgres </strong>角色。</p><p><strong>注意</strong>:记得设置强<span>和<a href="https://eldernode.com/how-to-create-strong-password/" target="_blank" rel="noopener noreferrer">安全密码</a>和</span>。</p><pre><code class="language-bash">su - postgres  sql -c "ALTER USER postgres WITH PASSWORD 'securepass_here';"</code></pre><p>现在，您可以退出<strong> postgres </strong>帐户，继续阅读指南。</p><p> </p><h3><span class="ez-toc-section" id="Configuring_Client_Authentication"/> <span>配置客户端认证</span> <span class="ez-toc-section-end"/></h3><p>在这一步中，您将查看主<strong> Postgres </strong>配置文件，该文件位于<strong>/etc/PostgreSQL/11/main/PostgreSQL . conf .</strong>除了这个文件，<strong> Postgres </strong>使用另外两个手动编辑的配置文件，它们控制客户端认证。</p><p>要控制客户端验证，请使用<strong>/etc/PostgreSQL/11/main/pg _ HBA . conf</strong>配置文件。</p><p>Postgres提供了许多不同的客户端认证方法，包括基于密码的认证。客户端连接基于客户端主机地址、数据库和用户进行身份验证</p><p>如果您想使用<strong>基于密码的认证</strong>，请尝试以下方法之一。</p><p><strong> md5 </strong>或<strong>密码</strong>，除了密码通过连接传输的方式不同，操作类似，分别是<strong> MD5哈希</strong>和明文。</p><p>只有在连接受到SSL加密保护的情况下，才能安全地使用密码方法，但是使用<strong> md5密码认证</strong>可以避免黑客嗅探密码，并避免在服务器上以纯文本形式存储密码。</p><p>因此，要为客户端身份验证配置<strong> md5密码身份验证</strong>，请使用下面的命令。</p><pre><code class="language-bash">vim /etc/postgresql/11/main/pg_hba.conf   </code></pre><p>然后，要将身份验证方法更改为<span> <strong>、md5 </strong> <span>，请查找以下代码行。</span> </span></p><pre><code class="language-bash">local   all             all                                     md5  </code></pre><figure id="attachment_33688" class="wp-caption aligncenter" aria-describedby="caption-attachment-33688"/><p>接下来，保存文件中的更改并退出。然后通过重新启动<strong> Postgres </strong>服务来应用最近的更改，如下所示。</p><pre><code class="language-bash">systemctl restart postgresql  </code></pre><p> </p><h3><span class="ez-toc-section" id="Creating_a_New_Database_and_Database_RoleUser_in_PostgreSQL"/> <span>在PostgreSQL中创建新的数据库和数据库角色/用户</span> <span class="ez-toc-section-end"/></h3><p>最后，您将看到如何创建新的数据库用户和数据库角色来管理它。</p><p>现在，切换到<strong> postgres </strong>帐户，打开Postgres shell，如下所示。</p><pre><code class="language-bash">su - postgres  psql</code></pre><p>然后，要创建一个名为<strong>“test _ db”</strong>的数据库，运行下面的SQL命令。</p><pre><code class="language-bash">postgres=# CREATE DATABASE test_db;  </code></pre><p>接下来，为了管理新数据库，创建一个数据库用户(具有登录权限的角色)</p><pre><code class="language-bash">postgres=#CREATE USER test_user PASSWORD ‘<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="81f2e4e2f4f3e4f1c1f2f2">[email protected]</a>_here’;     #assumes login function by default  </code></pre><p>运行以下命令，以用户<strong> test_user </strong>的身份连接到<strong> test_db </strong>，</p><pre><code class="language-bash">psql -d  test_db  -U test_user  </code></pre><p> </p><p><span> <strong>好样的</strong> </span>！通过完成本教程，我们已经展示了如何在<strong> Debian 10中安装、保护和配置<strong> PostgreSQL </strong>数据库服务器。</strong></p><p> </p><p>亲爱的用户，我们希望本教程能对你有所帮助，如有任何问题或想查看我们的用户关于本文的对话，请访问<span> <a href="https://eldernode.com/ask" target="_blank" rel="noopener noreferrer">提问页面</a> </span>。也是为了提高自己的见识，准备了这么多有用的教程给<span> <a href="https://eldernode.com/blog/" target="_blank" rel="noopener noreferrer"> Eldernode培训</a> </span>。</p><p> </p></div></div>    
</body>
</html>