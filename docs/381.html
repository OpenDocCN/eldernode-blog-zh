<html>
<head>
<title>How To Install And Use ZSH On Debian 10 [Z shell] - Eldernode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在Debian 10 [Z shell] - Eldernode上安装和使用ZSH</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/install-and-use-zsh-on-debian-10/#0001-01-01">https://blog.eldernode.com/install-and-use-zsh-on-debian-10/#0001-01-01</a></blockquote><div><div class="wp-block-group__inner-container"><p>教程<strong>如何在Debian 10 </strong> <a href="https://blog.eldernode.com/tag/linux/" target="_blank" rel="noopener noreferrer"> Linux </a>服务器上安装使用ZSH。Z shell是Unix的一个可编程shell，它是Bourne Shel的扩展版本，为我们提供了几个特性，如支持超过275个插件和大约150个主题。首先，购买<a href="https://eldernode.com/linux-vps/" target="_blank" rel="noopener noreferrer"> Linux VPS </a>以便能够在你的服务器上使用它的所有好处。</p><p>为了让本教程更好地发挥作用，请考虑以下<strong>先决条件</strong>:</p><p>拥有<strong> sudo </strong>权限的非root用户。<br/>进行设置，按照我们的<a href="https://blog.eldernode.com/initial-setup-with-debian-10/" target="_blank" rel="noopener noreferrer">用Debian 10 </a>进行初始设置。</p><h2><span class="ez-toc-section" id="How_To_Install_And_Use_ZSH_On_Debian_10_Z_shell"/>如何在Debian 10上安装和使用ZSH【Z shell】<span class="ez-toc-section-end"/></h2><p>加入我们这个教程来回顾如何在Debian 10中安装ZSH，看看你的终端在那之前从来不够好。在接下来的内容中，你将学习安装，你还会看到一些最常用的插件来帮助你启动Zsh。</p><h2><span class="ez-toc-section" id="Tutorial_Install_And_Use_ZSH_On_Debian_10_Linux_Server"/>教程在Debian 10 Linux服务器上安装和使用ZSH<span class="ez-toc-section-end"/></h2><h3><span class="ez-toc-section" id="Zsh_Features_On_Debian_10"/>Debian 10上的Zsh特性<span class="ez-toc-section-end"/></h3><p><strong>更好的</strong>标签完成</p><p><strong>轻松的</strong>目录导航</p><p>支持大量的<strong>主题</strong>和<strong>插件</strong></p><p><strong>语法</strong>高亮显示</p><p>自动<strong>完成</strong></p><p>交互<strong>配置</strong></p><p>颜色<strong>定制</strong></p><p class="mb30">你可以用你的包管理器安装Zsh。关于软呢帽，RHEL和CentOS:</p><pre class="mb30"><code class="language-bash">sudo dnf install zsh</code></pre><p>此外，您可以检查当前正在使用的任何shells:</p><pre class="ii ij ik il im jj jk be"><code class="language-bash"><span id="b89b" class="eb jl jm de jn b jo jp jq s jr" data-selectable-paragraph="">echo SHELL /usr/bin/bash</span></code></pre><p>键入下面的命令来安装在Debian 上:</p><pre><code class="language-bash">sudo apt install zsh</code></pre><p><strong>或</strong></p><p>打开终端窗口。将以下内容复制并粘贴到终端窗口，然后点击<strong>回车键</strong>。可能会提示您输入密码。</p><pre><code class="language-bash">sudo apt update sudo apt upgrade sudo apt install zsh  </code></pre><h3 id="setting-up-zsh"><span class="ez-toc-section" id="How_To_Set_Up_Zsh_And_Use_ZSH_On_Debian_10"/>如何在Debian 10上设置Zsh和使用ZSH<span class="ez-toc-section-end"/></h3><p>因为Zsh不是一个终端模拟器，而是一个运行在终端模拟器内部的shell，所以您需要启动一个终端窗口来启动Zsh。终端窗口，如<a href="https://blog.eldernode.com/install-gnome-environment-on-debian-8/" target="_blank" rel="noopener noreferrer"> Gnome </a>终端、Konsole、terminal、iTerm2、rxvt或您喜欢的其他终端。一旦您确保启动其中一个，ypu就可以使用下面的命令来启动Zsh。</p><pre><code class="language-bash">zsh</code></pre><p>万一这是你第一次启动Zsh，你会被提示选择一些配置选项。</p><p><strong>注意</strong>:这些配置都可以在以后更改，所以您可以按<strong> 1 </strong>继续。</p><pre><code class="language-bash">This is the Z Shell configuration <span class="kw1">function</span> <span class="kw1">for</span> new <span class="kw2">users</span>, zsh-newuser-install.  <span class="br0">(</span>q<span class="br0">)</span>  Quit and <span class="kw1">do</span> nothing.  <span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span>  Exit, creating the <span class="kw2">file</span> ~<span class="sy0">/</span>.zshrc  <span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span>  Continue to the main menu.</code></pre><p> </p><h3><span class="ez-toc-section" id="How_To_Use_Zsh"/>如何使用Zsh <span class="ez-toc-section-end"/></h3><p>一旦安装完成，您可以清楚地看到Zsh感觉很像使用Bash。因为Bash和Tcsh之间有很大的区别，所以如果您学习如何在Bash和Zsh之间切换，如果您必须在工作中或服务器上使用Bash，那么在家里使用它会很容易。</p><p> </p><h3><span class="ez-toc-section" id="How_To_Search_With_Zsh"/>如何用Zsh搜索<span class="ez-toc-section-end"/></h3><p>预计将使用<a href="https://blog.eldernode.com/use-find-command-search-directories/" target="_blank" rel="noopener noreferrer"> <strong> find </strong> </a>或<a href="https://blog.eldernode.com/linux-commands-with-examples/#locate_Command" target="_blank" rel="noopener noreferrer"> <strong> locate </strong> </a>命令来查找使用普通shell的文件，甚至使用<strong> ls -R </strong>来递归列出一组目录。但是，Zsh允许您在当前或任何其他子目录中查找文件。例如，假设您有两个名为<strong> elder.txt </strong>的文件。一个位于你当前的目录下，另一个在一个叫做<strong>前辈</strong>的子目录下。在Bash shell中，您可以使用以下命令列出当前目录中的文件:</p><pre><code class="language-bash"><span class="kw2">ls</span> elder.txt</code></pre><p>你可以明确地列出另一个:</p><pre class="geshifilter"><code class="language-bash"><span class="kw2">ls</span> elder elder.txt</code></pre><p>无论如何，要列出这两者，你必须使用<strong> -R </strong>开关，也许与<strong> grep </strong>结合使用:</p><pre class="geshifilter"><code class="language-bash"><span class="kw2">ls</span> <span class="re5">-R</span> <span class="sy0">|</span> <span class="kw2">grep</span> elder.txt elder.txt elder.txt</code></pre><p>但是在Zsh中，您可以使用<strong> ** </strong>简写:</p><pre class="geshifilter"><code class="language-bash"><span class="sy0">%</span> <span class="kw2">ls</span> <span class="sy0">**/</span>elder.txt elder.txt elder.txt</code></pre><p>请注意，您可以对任何命令使用该语法，而不仅仅是对<strong> ls。</strong></p><p> </p><p> </p><div><div class="mod" data-md="61"><p role="heading" data-attrid="wa:/description" aria-level="3" data-hveid="CAgQAA"/><h3 id="wildcards-in-zsh"><span class="ez-toc-section" id="How_To_Use_Wildcards_in_Zsh"/>如何在Zsh中使用通配符<span class="ez-toc-section-end"/></h3><p role="heading" data-attrid="wa:/description" aria-level="3" data-hveid="CAgQAA">要最大化您在图书馆数据库中的搜索结果，您可以使用通配符，这是一种高级搜索技术。通配符<b>在搜索词中使用</b>来表示一个或多个其他字符。此外，在Zsh中，通配符的行为与Bash用户习惯的不同。要列出当前目录中的所有文件夹，请使用修改后的通配符:</p></div><div role="heading" data-attrid="wa:/description" aria-level="3" data-hveid="CAgQAA"><pre><code class="language-bash"><span class="sy0">%</span> <span class="kw2">ls</span> dir0   dir1   dir2   file0   file1 <span class="sy0">%</span> <span class="kw2">ls</span> <span class="sy0">*</span><span class="br0">(</span><span class="sy0">/</span><span class="br0">)</span> dir0   dir1   dir2</code></pre><div class="geshifilter"><p>在本例中，(/)限定了通配符的结果，因此Zsh将只显示目录。要仅列出文件，请使用(。).要列出符号链接，请使用(@)。要列出可执行文件，请使用(*)。</p><pre class="geshifilter"><code class="language-bash"><span class="sy0">%</span> <span class="kw2">ls</span> ~<span class="sy0">/</span>bin<span class="sy0">/*</span><span class="br0">(</span><span class="sy0">*</span><span class="br0">)</span> fop  exify  tt</code></pre></div></div></div><p class="LGOjhe" role="heading" data-attrid="wa:/description" aria-level="3" data-hveid="CAgQAA"> </p><h3 role="heading" data-attrid="wa:/description" aria-level="3" data-hveid="CAgQAA"><span class="ez-toc-section" id="Zsh_Plugins"/> Zsh插件<span class="ez-toc-section-end"/></h3><div role="heading" data-attrid="wa:/description" aria-level="3" data-hveid="CAgQAA"><p>要通过启用各种功能来为您的shell添加这些功能，您需要使用</p><a href="https://github.com/ohmyzsh/ohmyzsh/wiki/Plugins#plugins" target="_blank" rel="noopener noreferrer">Zsh plugins</a><p>。它们分别记录在各自的自述文件中</p><strong>plugins/</strong><p>文件夹。要启用插件，您需要将它们的名称添加到</p><strong>plugins</strong><p>数组在您的</p><strong>.zshrc</strong><p>文件。</p></div><p role="heading" data-attrid="wa:/description" aria-level="3" data-hveid="CAgQAA">例如，这将依次启用<strong> rails </strong>、<strong> git </strong>和<strong> ruby </strong>插件、<strong/>:</p><p>如果您需要检查当前的插件，更新或安装新的插件，您可以运行以下命令:</p><div><pre><code class="language-bash">zplug &lt;option&gt;  </code></pre><p><strong>检查</strong> —如果所有包都已安装，返回true，否则返回false】</p><p>清理—删除不再受管理的存储库<span id="line-107" class="anchor"/></p><p><strong>清除</strong> —移除缓存文件<span id="line-108" class="anchor"/></p><p><strong> env </strong> —【自定义】zplug <span id="line-109" class="anchor"/>的环境变量</p><p><strong> info </strong> —显示给定包<span id="line-110" class="anchor"/>的源URL和标签值等信息</p><p><strong>安装</strong> —并行安装包<span id="line-111" class="anchor"/></p><p><strong> list </strong> —列出已安装的软件包(更具体地说，查看关联数组$zplugs) <span id="line-112" class="anchor"/></p><p><strong>load</strong>—Source installed plugins并添加installed commands到＄PATH<span id="line-113" class="anchor"/></p><p><strong>状态</strong> —检查远程存储库是否是最新的<span id="line-114" class="anchor"/></p><p><strong>更新</strong> —并行更新已安装的软件包</p></div><p> </p><p> </p><p role="heading" data-attrid="wa:/description" aria-level="3" data-hveid="CAgQAA"/><h3><span class="ez-toc-section" id="How_To_Set_Zsh_As_The_Default_Shell"/>如何将Zsh设置为默认Shell <span class="ez-toc-section-end"/></h3><div><p>如果您发现Zsh适合您的云服务器，那么让它成为您的用户的默认shell，让它在您登录时加载到Zsh会话中。你将不再需要在你的<a href="https://eldernode.com/linux-vps/" target="_blank" rel="noopener noreferrer"> VPS </a>中输入“zsh”来访问zsh。</p><pre><code class="language-bash">chsh -s $(which zsh)</code></pre></div><p> </p><p> </p><h3><span class="ez-toc-section" id="How_To_Configure_Zsh"/>如何配置Zsh <span class="ez-toc-section-end"/></h3><p>Zsh配置文件的位置在您的主目录中(例如. ~/)。zshrc)。以下配置文件将帮助您开始。</p><div><p class="line874">创建~/。zshrc具有以下内容:<span id="line-20" class="anchor"/> <span id="line-21" class="anchor"/></p><pre><code class="language-bash"># Set path if required <span id="line-2" class="anchor"/>#export PATH=$GOPATH/bin:/usr/local/go/bin:$PATH <span id="line-3" class="anchor"/> <span id="line-4" class="anchor"/># Aliases <span id="line-5" class="anchor"/>alias ls='ls --color=auto' <span id="line-6" class="anchor"/>alias ll='ls -lah --color=auto' <span id="line-7" class="anchor"/>alias grep='grep --color=auto' <span id="line-8" class="anchor"/>alias ec="$EDITOR $HOME/.zshrc" # edit .zshrc <span id="line-9" class="anchor"/>alias sc="source $HOME/.zshrc"          # reload zsh configuration <span id="line-10" class="anchor"/> <span id="line-11" class="anchor"/># Set up the prompt - if you load Theme with zplugin as in this example, this will be overiden by the Theme. If you comment out the Theme in zplugins, this will be loaded. <span id="line-12" class="anchor"/>autoload -Uz promptinit <span id="line-13" class="anchor"/>promptinit <span id="line-14" class="anchor"/>prompt adam1            # see Zsh Prompt Theme below <span id="line-15" class="anchor"/> <span id="line-16" class="anchor"/># Use vi keybindings even if our EDITOR is set to vi <span id="line-17" class="anchor"/>bindkey -e <span id="line-18" class="anchor"/> <span id="line-19" class="anchor"/>setopt histignorealldups sharehistory <span id="line-20" class="anchor"/> <span id="line-21" class="anchor"/># Keep 1000 lines of history within the shell and save it to ~/.zsh_history: <span id="line-22" class="anchor"/>HISTSIZE=5000 <span id="line-23" class="anchor"/>SAVEHIST=5000 <span id="line-24" class="anchor"/>HISTFILE=~/.zsh_history <span id="line-25" class="anchor"/> <span id="line-26" class="anchor"/># Use modern completion system <span id="line-27" class="anchor"/>autoload -Uz compinit <span id="line-28" class="anchor"/>compinit <span id="line-29" class="anchor"/> <span id="line-30" class="anchor"/># zplug - manage plugins <span id="line-31" class="anchor"/>source /usr/share/zplug/init.zsh <span id="line-32" class="anchor"/>zplug "plugins/git", from:oh-my-zsh <span id="line-33" class="anchor"/>zplug "plugins/sudo", from:oh-my-zsh <span id="line-34" class="anchor"/>zplug "plugins/command-not-found", from:oh-my-zsh <span id="line-35" class="anchor"/>zplug "zsh-users/zsh-syntax-highlighting" <span id="line-36" class="anchor"/>zplug "zsh-users/zsh-autosuggestions" <span id="line-37" class="anchor"/>zplug "zsh-users/zsh-history-substring-search" <span id="line-38" class="anchor"/>zplug "zsh-users/zsh-completions" <span id="line-39" class="anchor"/>zplug "junegunn/fzf" <span id="line-40" class="anchor"/>zplug "themes/robbyrussell", from:oh-my-zsh, as:theme   # Theme <span id="line-41" class="anchor"/> <span id="line-42" class="anchor"/># zplug - install/load new plugins when zsh is started or reloaded <span id="line-43" class="anchor"/>if ! zplug check --verbose; then <span id="line-44" class="anchor"/>    printf "Install? [y/N]: " <span id="line-45" class="anchor"/>    if read -q; then <span id="line-46" class="anchor"/>        echo; zplug install <span id="line-47" class="anchor"/>    fi <span id="line-48" class="anchor"/>fi <span id="line-49" class="anchor"/>zplug load --verbose</code></pre><h2><span class="ez-toc-section" id="i"/> <span class="ez-toc-section-end"/></h2><h3><span class="ez-toc-section" id="How_To_Change_The_Theme"/>如何改变主题<span class="ez-toc-section-end"/></h3><p>打开<strong>就能发现。zshrc </strong>文件。默认情况下，Oh-my-zsh使用“robbyrussell”主题。</p></div><div><p class="code-label">.zshrc</p><div><pre><code class="language-bash"># If you come from bash you might have to change your $PATH. # export PATH=$HOME/bin:/usr/local/bin:$PATH  # Path to your oh-my-zsh installation. export ZSH=$HOME/.oh-my-zsh  # Set name of the theme to load --- if set to "random", it will # load a random theme each time oh-my-zsh is loaded, in which case, # to know which specific one was loaded, run: echo $RANDOM_THEME # See https://github.com/ohmyzsh/ohmyzsh/wiki/Themes ZSH_THEME="robbyrussell"  </code></pre><p>此外，您还可以在~ <strong> /中找到许多其他主题。oh-my-zsh/themes/ </strong>目录。</p></div></div><pre><code class="language-bash">ls ~/.oh-my-zsh/themes</code></pre><p>万一你需要改变默认主题，你应该编辑<strong>。zshr </strong> c文件，更改默认主题，并通过运行以下命令保存更改:</p><pre><code class="language-bash">source .zshrc</code></pre><p>结论</p><p>在本文中，您了解了如何在Debian 10上安装和使用ZSH。从现在开始你可以使用Zsh并享受它的特性。另外，你可以阅读更多关于Linux服务器监控命令的内容。</p><p>Conclusion</p><p>In this article, you learned How To Install And Use ZSH On Debian 10. From now on you can use Zsh and enjoy its features. Also, you can read more on <a href="https://blog.eldernode.com/linux-server-monitoring-commands/" target="_blank" rel="noopener noreferrer">Linux Server Monitoring Commands</a>.</p></div></div>    
</body>
</html>