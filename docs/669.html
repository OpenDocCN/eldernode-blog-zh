<html>
<head>
<title>Tutorial Install vnStat on Ubuntu 20.04 - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>教程在Ubuntu 20.04上安装vnStat-elder node博客</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/install-vnstat-on-ubuntu-20-04/#0001-01-01">https://blog.eldernode.com/install-vnstat-on-ubuntu-20-04/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/ec95ea5167bbf75af0a6289c00606a39.png" data-src="https://blog.eldernode.com/wp-content/uploads/2021/03/Tutorial-Install-vnStat-on-Ubuntu-20.04.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Tutorial Install vnStat on Ubuntu 20.04" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/03/Tutorial-Install-vnStat-on-Ubuntu-20.04.png 2069w, https://blog.eldernode.com/wp-content/uploads/2021/03/Tutorial-Install-vnStat-on-Ubuntu-20.04-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/03/Tutorial-Install-vnStat-on-Ubuntu-20.04-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2021/03/Tutorial-Install-vnStat-on-Ubuntu-20.04-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2021/03/Tutorial-Install-vnStat-on-Ubuntu-20.04-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2021/03/Tutorial-Install-vnStat-on-Ubuntu-20.04-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/03/Tutorial-Install-vnStat-on-Ubuntu-20.04.png"/><p><strong>v</strong>view<strong>n</strong>network<strong>Stat</strong>istics是一款用于网络流量监控的命令行工具。它还使用sames控制键，帮助您记录和查看不同时间段的网络统计数据。这个网络实用程序用于Linux操作系统和基于控制台的网络流量监视器。因为流量信息是从proc文件系统中分析的，所以可以在没有root权限的情况下使用vnStat。使用vnStat，您可以以详细表格或命令行统计视图的形式查看每小时、每天、每月的统计信息。和我们一起阅读本指南，来回顾一下在Ubuntu 20.04上安装vnStat的教程<strong>。要购买全面管理但价格低廉的<strong> <a href="https://eldernode.com/ubuntu-vps/" target="_blank" rel="noopener"> Ubuntu VPS </a> </strong>，请选择一个软件包或通过<a href="https://eldernode.com/" target="_blank" rel="noopener"> Eldernode </a>联系我们。</strong></p><h2><span class="ez-toc-section" id="How_to_Install_vnStat_On_Ubuntu_2004_step_by_step"/> <strong>如何一步步在Ubuntu 20.04上安装vnStat</strong><span class="ez-toc-section-end"/></h2><p>作为开发人员或系统管理员，您需要监控网络流量或带宽使用情况，以监控共享互联网带宽的各种系统上的流量。通过这种方式，vnStat可以帮助您监控各种网络参数，如带宽消耗和流入/流出的流量。在本文中，您将了解更多关于vnStat的信息，它是可以做到这一点的工具之一，并且在接下来的内容中，将教授在<a href="https://blog.eldernode.com/tag/ubuntu/"> Ubuntu </a> 20.04上安装vnStat的过程。</p><h3><span class="ez-toc-section" id="vnStat_Features"/> <strong> vnStat特性</strong> <span class="ez-toc-section-end"/></h3><p>以下是使用vnStat的最重要的好处:</p><p>–同时监控多个接口</p><p>–安装和运行快速简单</p><p>–收集的统计数据会在系统重启后继续存在</p><p>–多个输出选项</p><p>–数据保留期限完全由用户动态配置</p><p>–可以将月份配置为遵循计费周期</p><p>–轻，资源使用最少</p><p>–无论流量如何，CPU使用率都一样低</p><p>–无需root权限即可使用</p><p>–在线颜色配置编辑器</p><h2><span class="ez-toc-section" id="Install_and_Configure_vnStat_On_Ubuntu_2004_Ubuntu_1804"/> <strong>在</strong>上安装配置vnStat<strong>Ubuntu 20.04 | Ubuntu 18.04</strong>T5】</h2><p>vnStat在Ubuntu默认存储库中可用。因此，使用下面的命令来安装它。</p><pre><code class="language-bash">sudo apt update</code></pre><pre><code class="language-bash">sudo apt install vnstat</code></pre><p>现在，vnStat已经安装完毕，可以开始运行了。要测试它是否已安装，可以在终端中键入“vnstat”。因此，您不会看到任何类似“找不到vnstat”的错误。此外，您可以使用下面的命令来获取所有网络接口的基本统计信息。</p><pre><code class="language-bash">vnstat</code></pre><h3><span class="ez-toc-section" id="How_to_Setup_and_Run_vnStat_on_Ubuntu_2004"/> <strong>如何在</strong> <strong> Ubuntu 20.04 </strong> <span class="ez-toc-section-end"/>上设置并运行vnStat</h3><p>要确保vnStat正在运行，请使用以下命令:</p><pre><code class="language-bash">sudo systemctl status vnstat</code></pre><p>在确保vnStst安装并正确运行之后，您需要找到并设置您希望监视的网络接口。因此，要查看系统上可用网络接口及其名称的列表，请运行:</p><pre><code class="language-bash">ifconfig</code></pre><p>现在，为了告诉vnStat要监视的网络接口，我们来看一个有线接口，例如“ens33”和一个无线接口“wlan0”。在终端中键入以下命令。</p><pre><code class="language-bash">vnstat -u -i ens33</code></pre><p>您已经通过运行上述命令激活了对该接口的监控。如果这是您第一次运行它，您将面临错误:'<em>无法读取数据库"<strong>/var/lib/vnstat/ens 33</strong></em>" '。你必须做的唯一反应就是忽略这一点。</p><p>如果您有WLAN，请使用以下命令设置无线网络接口。</p><pre><code class="language-bash">vnstat -u -i wlan0</code></pre><p>运行以下命令，查看系统中所有可用的网络接口。</p><pre><code class="language-bash">vnstat --iflist</code></pre><p>至此，您已经知道了所有想要监控的接口。因此，如果您对该接口名称使用上述命令，就可以监控流量。然后，使用以下命令启动vnStat守护程序。</p><pre><code class="language-bash">sudo service vnstat start</code></pre><p>您可以检查守护进程的状态。要从所有注册接口接收每月的总网络流量摘要，请运行以下命令。</p><pre><code class="language-bash">ps -f | grep vnst</code></pre><p>使用“-i”选项允许您监控特定网络接口的特定但基本的使用。因此，ens33的命令如下:</p><pre><code class="language-bash">vnstat -i ens33</code></pre><p><em> <strong>注意</strong> </em>:将上述命令中的“ens33”替换为任何其他接口，如“eth0”或“wlan0”，将给出该接口的统计信息。在每个表的末尾，vnStat提供了该月的估计网络使用情况。要控制带宽使用，您可以将此作为vnStat的许多有用特性之一。</p><h3><span class="ez-toc-section" id="How_to_use_vnStat_On_Ubuntu_Linux"/> <strong>如何在</strong>上使用vnStat<strong>Ubuntu Linux</strong>T5】</h3><p>您可以使用vnStat监控特定时间段和特定接口的流量。这里，我们仍然继续以ens33为例。</p><p><strong>每小时统计视图</strong></p><p>要以基于控制台的图表形式查看每小时统计信息，后面是表示过去24小时使用情况的表格，请运行:</p><pre><code class="language-bash">vnstat -h -i ens33</code></pre><p>要获得结果，请将“wlan0”替换为“eth0”。</p><p><strong>月度统计视图</strong></p><p>此外，您可以使用“-m”选项查看每月统计数据:</p><pre><code class="language-bash">vnstat -m -i ens33</code></pre><p><strong>每周统计视图</strong></p><p>使用“-w”选项查看接口的每周统计数据:</p><pre><code class="language-bash">vnstat -w -i ens33</code></pre><h3><span class="ez-toc-section" id="How_to_produce_graphical_images_using_vnStat"/> <strong>如何使用vnStat制作图形图像</strong> <span class="ez-toc-section-end"/></h3><p>使用vnStat还允许您生成以图形形式表示网络流量的图形图像。要从vnStat创建图形并将它们存储在指定的位置，它需要所需的信息。</p><p><strong>一个接口的摘要输出</strong></p><p>使用vnStati的"-s "选项获取特定接口的输出。因此，要获得输出并将其作为一个名为“summary.png”的图像存储在主文件夹中，请键入:</p><pre><code class="language-bash">vnstati -s -i ens33 -o ~/summary.png</code></pre><p><strong>每小时显示统计数据</strong></p><p>要获得每小时显示的输出，请使用“-h”选项。为此，请运行以下命令。</p><p><strong> <em>注</em> </strong>:显示始终为最近24小时。</p><pre><code class="language-bash">vnstati -h -i ens33 -o ~/summary2.png</code></pre><p><strong>累计产量</strong></p><p>还有，如果结合多个接口的流量分析，会得到总输出。</p><p>看下面的例子，然后检查命令。</p><p>“eth0+eth1”通过汇总eth0和eth1的统计数据得出流量输出。类似地，我们可以添加任意数量的接口，如“eth0+eth1+eth2”或“eth0+wlan0”等。</p><pre><code class="language-bash">vnstati -s -i wlan0+eth0 -o ~/summary3.png</code></pre><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>在本文中，您了解了如何在Ubuntu 20.04上安装vnStat。vnStat为您提供各种信息，您可以通过监控网络流量来记录、分析和生成信息，并准备准确的结果。如果您有兴趣了解更多，请找到我们关于<a href="https://blog.eldernode.com/linux-server-monitoring-commands/" target="_blank" rel="noopener"> Linux服务器监控命令</a>的文章。</p></div></div>    
</body>
</html>