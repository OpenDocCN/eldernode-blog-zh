<html>
<head>
<title>Initial server setup on Ubuntu 20.04 - Eldernode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Ubuntu 20.04上的初始服务器设置- Eldernode</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/initial-server-setup-on-ubuntu-20/#0001-01-01">https://blog.eldernode.com/initial-server-setup-on-ubuntu-20/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/bced197351bdd5ed4c74f593d1d19a77.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/05/Initial-server-setup-on-Ubuntu-20.04.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Initial server setup on Ubuntu 20.04" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/05/Initial-server-setup-on-Ubuntu-20.04.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/05/Initial-server-setup-on-Ubuntu-20.04-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/05/Initial-server-setup-on-Ubuntu-20.04-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/05/Initial-server-setup-on-Ubuntu-20.04-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/05/Initial-server-setup-on-Ubuntu-20.04-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/05/Initial-server-setup-on-Ubuntu-20.04-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/05/Initial-server-setup-on-Ubuntu-20.04.png"/><p>在这个<a title="tutorial" href="https://eldernode.com/category/tutorial/" target="_blank" rel="noopener noreferrer">教程</a>中，我们讨论在你的<a href="https://eldernode.com/introducing-ubuntu-20/" target="_blank" rel="noopener noreferrer"> Ubuntu 20.04服务器</a>上的安装后步骤。本教程包括在Ubuntu 20.04服务器上的<strong>初始服务器设置。</strong></p><p>如你所知，我们讨论了Ubuntu 20.04，并介绍了ubuntu focal fossa和上一篇关于eldernode的文章中的一个新特性。在本文中，我们将讨论ubuntu上防火墙的安全性、更新和工作的安装后步骤。</p><p>在阅读完这篇文章并遵循所有步骤后，你的服务器现在就可以用于任何服务了，比如网络服务器，LAMP服务器，LEMP服务器，VPN服务器，MySQL服务器，或者其他你喜欢的服务。</p><p>请继续关注Ubuntu 20.04的初始服务器设置(Focal Fossa)</p><p> </p><h2><span class="ez-toc-section" id="Initial_server_setup_on_ubuntu_2004"/><span>Ubuntu 20.04上的初始服务器设置</span> <span class="ez-toc-section-end"/></h2><p> </p><h3><span class="ez-toc-section" id="1-_Update_and_Upgrade_Your_ubuntu_2004"/> <span> 1-更新升级你的ubuntu 20.04 </span> <span class="ez-toc-section-end"/></h3><p>首先通过SSH 或控制台登录<strong> Ubuntu 20.04 </strong>系统<a href="https://eldernode.com/tag/how-to-connect-ssh/" target="_blank" rel="noopener noreferrer">。现在，执行以下命令来更新apt-cache并升级系统上的所有包。</a></p><pre><code class="language-bash">sudo apt update  sudo apt upgrade</code></pre><p> </p><h3><span class="ez-toc-section" id="2-_Create_User_Account_on_Ubuntu_2004"/> <span> 2-在Ubuntu 20.04上创建用户账号</span> <span class="ez-toc-section-end"/></h3><p>我们不建议使用root用户在Ubuntu 20.04上工作。让我们为系统管理创建一个帐户，并启用sudo访问。</p><pre><code class="language-bash">sudo adduser <span>newuser</span></code></pre><p>现在，将新创建的用户添加到sudo组，以便它可以获得所有sudo特权。</p><p>sudo usermod -aG sudo <span>新用户</span></p><p>你可以用<span> newuser </span>替换你最喜欢的名字。</p><p>现在，您必须使用以下命令为该用户更改和创建新密码:</p><pre><code class="language-bash">sudo passwd newuser</code></pre><p>输入命令后，Ubuntu会询问您密码并确认密码。请使用复杂的密码，并使用字母、数字、符号，如<span> <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="4c6d0c">【电子邮件保护】</a>&amp;*()</span>。</p><p> </p><h3><span class="ez-toc-section" id="3-_Secure_SSH_Server"/> <span> 3-安全SSH服务器</span> <span class="ez-toc-section-end"/></h3><p>我们建议更改默认的SSH端口，这有助于保护您的系统免受bot和hack的攻击。要更改默认端口，请编辑OpenSSH配置文件<span><strong>/etc/ssh/sshd _ config</strong></span>，并进行以下更改。</p><p>键入以下命令:</p><pre><code class="language-bash">nano /etc/ssh/sshd_config</code></pre><p>更改默认端口。这将是一个很好的改变默认的ssh端口，因为默认端口总是对攻击者。</p><pre><code class="language-bash"> before edit:    #port 22</code></pre><p>编辑后(取消端口22的注释并添加您喜欢的端口)</p><pre><code class="language-bash">port 2245</code></pre><p>禁用超级用户ssh登录–您还想通过SSH禁用超级用户登录。</p><pre><code class="language-bash"> PermitRootLogin no</code></pre><p>更改端口和PermitRootLogin后，按<span> Ctrl + x </span>并按两次<span> Enter </span>保存并退出文件。</p><p> </p><h4><span class="ez-toc-section" id="4-_Configure_Firewall_with_FirewallD"/> <span> 4-用防火墙配置防火墙</span> <span class="ez-toc-section-end"/></h4><p>Ubuntu 20.04上初始服务器设置的下一步是配置防火墙。默认的Ubuntu 20.04服务器版，没有安装firewalld。您可以简单地运行以下命令，从默认的存储库中安装所需的软件包。</p><pre><code class="language-bash">sudo apt install firewalld</code></pre><p>安装后，启动防火墙服务，并使其在系统启动时自动启动。</p><pre><code class="language-bash">sudo systemctl start firewalld  sudo systemctl enable firewalld</code></pre><p>默认情况下，防火墙允许远程用户进行SSH访问。但是您需要添加您最喜欢的端口来添加防火墙，因为我们在最后一步进行了更改，并且您可能还需要允许其他服务通过防火墙到达远程用户。</p><p>现在。第一个命令必须是添加ssh新端口。</p><pre><code class="language-bash">firewall-cmd --permanent --add-port=2245/tcp</code></pre><p>您可以直接提供类似“http”或“https”的服务名来允许。防火墙使用<strong> <span> /etc/services </span> </strong>文件来确定服务对应的端口。</p><pre><code class="language-bash">firewall-cmd --permanent --add-service=http  firewall-cmd --permanent --add-service=https</code></pre><p>如果<span> <strong> /etc/services </strong> </span>文件中没有定义任何服务名。您可以直接使用端口号进行防火墙规则。例如，允许TCP端口2080进入您的防火墙。</p><pre><code class="language-bash">firewall-cmd --permanent --add-port=2080/tcp</code></pre><p>对防火墙进行任何更改后，确保使用以下命令重新加载更改。</p><pre><code class="language-bash">firewall-cmd --reload</code></pre><p>要查看所有允许的服务和端口，请使用以下命令。</p><pre><code class="language-bash">firewall-cmd --permanent --list-all</code></pre><p>您会看到如下输出:</p><pre><code class="language-bash">Output:    public    target: default    icmp-block-inversion: no    interfaces:    sources:    services: cockpit dhcpv6-client http https ssh    ports: 2080/tcp 2245/tcp    protocols:    masquerade: no    forward-ports:    source-ports:    icmp-blocks:    rich rules:</code></pre><h5><span class="ez-toc-section" id="Conclusion"/> <span>结论</span> <span class="ez-toc-section-end"/></h5><p>现在你的<a href="https://releases.ubuntu.com/20.04/" target="_blank" rel="noopener noreferrer"> ubuntu 20.04 </a>服务器已经可以使用了，你的服务器安装完成了。</p><p>我希望在eldernode上享受ubuntu 20.04的初始服务器设置。</p><p>你可以在<span> <a href="https://eldernode.com/tag/ubuntu-20-04/" target="_blank" rel="noopener noreferrer"> <strong>的ubuntu 20.04教程</strong> </a> </span>上再发一篇关于Ubuntu 20.04的帖子。</p></div></div>    
</body>
</html>