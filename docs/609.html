<html>
<head>
<title>How to secure Linux VPS [Quick method] - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何保护Linux VPS[快速方法] - Eldernode博客</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/how-to-secure-linux-vps/#0001-01-01">https://blog.eldernode.com/how-to-secure-linux-vps/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/5390f2e8339fb177d04596380dcdf6a2.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/10/How-to-secure-Linux-VPS.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="How to secure Linux VPS" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/10/How-to-secure-Linux-VPS.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/10/How-to-secure-Linux-VPS-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/10/How-to-secure-Linux-VPS-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/10/How-to-secure-Linux-VPS-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/10/How-to-secure-Linux-VPS-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/10/How-to-secure-Linux-VPS-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/10/How-to-secure-Linux-VPS.png"/><p>【更新】VPS服务器安全是你要特别注意的问题。Linux VPS服务器有很多优点。事实上，Linux VPS比Windows等其他操作系统更安全，因为安装了LSM (Linux安全模型)。但是这个系统是不够的，不能完全保护你的VPS服务器。在这篇文章中，我们将学习如何保护Linux VPS，有20种方法可以在Linux VPS服务器上创建更多的安全性。你可以访问<a href="https://eldernode.com/" target="_blank" rel="noopener"> Eldernode </a>提供的包来购买<a href="https://eldernode.com/linux-vps/" target="_blank" rel="noopener"> Linux VPS </a>服务器。</p><h2><span class="ez-toc-section" id="Tutorial_Secure_Linux_VPS_Step_By_Step"/> <strong>教程一步一步保护Linux VPS</strong><span class="ez-toc-section-end"/></h2><p>默认情况下，<a href="https://blog.eldernode.com/tag/linux/"> Linux </a>比它的竞争对手有更好的安全性，但是仍然有漏洞需要解决。我们在Eldernode有一句话，好的服务器是安全的服务器。这就是为什么我们为您提供解决方案，以便您可以阻止黑客用来渗透网站和访问您的信息的访问。</p><p>我们今天学习的使Linux更加安全的技术不需要太多的专业知识，你可以很容易地使用这些方法。请跟随这篇教程学习20种在Linux服务器上增加<a href="https://blog.eldernode.com/tag/security/">安全性</a>的方法。</p><h2><span class="ez-toc-section" id="Learn_Secure_Linux_VPS_with_Quick_method"/>用快速方法学习安全的Linux VPS<span class="ez-toc-section-end"/></h2><h3><span class="ez-toc-section" id="Disable_the_login_with_the_root_user_Secure_Linux_VPS"/> <strong>【禁用root用户登录(安全Linux VPS) </strong> <span class="ez-toc-section-end"/></h3><p>想要一个安全的VPS？永远不要以root用户的身份登录。</p><p>默认情况下，每个Linux VPS服务器都有一个“root”作为主用户名。因此，黑客试图获得并访问他们实施的<a href="https://blog.eldernode.com/ftp-configuration-to-prevent-brute-force-attacks-on-windows-server-2012/">暴力</a>攻击的密码。禁用从“root”用户名登录为您的服务器增加了另一个安全级别，并防止黑客进入root用户。</p><p>您需要创建另一个用户名，并使用“<strong> sudo </strong>”命令来执行根级命令，而不是以根用户身份登录。</p><p>Sudo是一种特殊的访问权限，可以授予经过身份验证的用户，这样他们就可以执行管理命令，并且不再需要root访问权限。</p><p><em> <strong>注意:</strong> </em>在禁用根用户之前，请确保您指定了想要使用的用户权限。</p><p>当您准备好这样做时，在服务器控制台中打开nano或vi中的命令，并找到“<strong> PermitRootLogin </strong>”参数。默认情况下，其值等于“<strong>是</strong>”。将其更改为“<strong>否</strong>，并保存更改。</p><h3><span class="ez-toc-section" id="Change_the_SSH_port_Secure_Linux_VPS"/><strong/>更改SSH端口(安全Linux VPS)<span class="ez-toc-section-end"/></h3><p>黑客用来连接SSH服务器的第一个端口是<strong>端口22 </strong>。如果您更改了这个端口，就在很大程度上阻止了他们对SSH的访问。为此，您需要打开它，将适当的设置放入此部分。</p><p><em> <strong>注意:</strong> </em>当然，在这样做之前，要确保你选择的端口没有被服务器上的另一个服务使用。</p><h3><span class="ez-toc-section" id="Keep_the_server_software_up_to_date"/> <strong>保持服务器软件最新</strong> <span class="ez-toc-section-end"/></h3><p>保持服务器软件最新并不困难。</p><p>您可以轻松地使用<strong> rpm/yum </strong>或<strong>apt-get(<a href="https://blog.eldernode.com/tag/ubuntu/">Ubuntu</a>/Debian)</strong>软件包管理器来更新已安装软件、模块和元素的新版本。您甚至可以将操作系统配置为通过电子邮件发送yum软件包更新警报。这使得跟踪更改变得更加容易。如果您想要自动执行任务，可以设置一个cronjob来应用您这边的所有安全更新。</p><p>如果你使用像<a href="https://blog.eldernode.com/tag/direct-admin/"> DirectAdmin </a>或<a href="https://blog.eldernode.com/tag/cpanel/"> Cpanel </a>这样的面板，你应该经常更新它们。当然，这些面板中的大部分都有自动更新功能，不需要担心。您应该总是尽早安装安全补丁，因为侵入服务器的风险会随着时间的推移而增加。</p><h3><span class="ez-toc-section" id="Disable_unused_network_ports"/> <strong>禁用未使用的网络端口</strong> <span class="ez-toc-section-end"/></h3><p>不使用的开放网络端口是黑客的好目标。关闭它们可以保护你免受攻击。</p><p>使用“<strong> netstat </strong>”命令显示所有打开的网络端口。</p><p> </p><p><img data-lazyloaded="1" src="../Images/003456b65edd3d495fe458528fa7eff3.png" decoding="async" loading="lazy" class="aligncenter wp-image-16242 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/10/how-to-Disable-unused-network-ports.png" alt="how to Disable unused network ports" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/10/how-to-Disable-unused-network-ports.png 848w, https://blog.eldernode.com/wp-content/uploads/2020/10/how-to-Disable-unused-network-ports-300x42.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/10/how-to-Disable-unused-network-ports-768x108.png 768w" data-sizes="(max-width: 848px) 100vw, 848px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/10/how-to-Disable-unused-network-ports.png"/></p><p> </p><p>使用<strong> iptables </strong>设置关闭所有端口，或者使用<strong> chkconfig </strong>命令禁用不需要的服务。如果你使用的是防火墙，比如<strong> CSF </strong>，你可以自动化iptables规则。</p><h3><span class="ez-toc-section" id="Delete_unwanted_modulespackages"/> <strong>删除不需要的模块/包</strong> <span class="ez-toc-section-end"/></h3><p>您的服务器上可能有并非所有Linux服务器都需要的服务。请注意，您从服务器上移除的任何服务都会减轻您的一些安全顾虑，因此请确保您在服务器上使用了您真正需要的服务。</p><p><em> <strong>注意:</strong> </em>以后一定要避免安装不必要的软件，以免出现安全问题。</p><h3><span class="ez-toc-section" id="Disable_IPv6"/> <strong>禁用IPv6 </strong> <span class="ez-toc-section-end"/></h3><p>IPv6比IPv4有很多优势，但是你用的可能性很小，因为用的人很少，但是黑客用IPv6的很多。</p><p>如果您不使用IPv6，请将其禁用。他们通常通过IPv6发送恶意流量，放弃该协议会给他们带来风险。要解决此问题，请单击edit /etc/sysconfig/ network并更新设置，使其显示NETWORKING_ IPV6 = no和IPV6INIT = no。</p><h3><span class="ez-toc-section" id="Use_GnuPG_encryption"/> <strong>使用GnuPG加密</strong> <span class="ez-toc-section-end"/></h3><p>黑客通常在数据通过网络传输时攻击数据。这就是为什么必须使用密码、密钥和证书对传输到服务器的数据进行加密。GnuPG是一种流行的工具，一种用于加密通信的基于密钥的认证系统。该系统使用“公钥”，该公钥只能由仅在接收方可用的“<strong>私钥</strong>解密。</p><h3><span class="ez-toc-section" id="Set_a_strong_password"/> <strong>设置强密码</strong> <span class="ez-toc-section-end"/></h3><p>弱密码总是对安全性的一大威胁。不要让您的服务器用户使用容易被发现的弱密码。要选择密码，最好使用大写和小写的单词、数字和符号。您还可以指定一个特定的时间段，以便用户在该时间后必须更改密码。此外，使用“<strong> faillog </strong>”命令设置登录失败限制，并在尝试保护系统免受暴力攻击失败后关闭用户帐户。</p><h3><span class="ez-toc-section" id="Firewall_configuration"/> <strong>防火墙配置</strong> <span class="ez-toc-section-end"/></h3><p>如果你真的想要一个安全的VPS，你需要一个防火墙。<strong> NetFilter </strong>是一个与Linux内核集成的防火墙，你可以配置它来过滤掉不想要的流量。有了NetFilter和iptables，你可以对抗拒绝服务(<strong> DDoS </strong>)攻击。</p><p><em> <strong>注意:</strong> </em>防火墙调整不够，确保配置正确。</p><p><strong> TCPWrapper </strong>是另一个有用的应用。基于主机的访问控制列表系统用于过滤各种应用程序的网络访问。它还提供<strong>主机名认证</strong>、<strong>标准化日志</strong>和<strong>间谍保护</strong>，所有这些都有助于增加您的安全性。</p><p>其他热门防火墙还有<strong> CSF </strong>和<strong> APF </strong>，两者都有<strong> cPanel </strong>和<strong> Plesk </strong>等热门面板的插件。</p><h3><span class="ez-toc-section" id="Use_disk_partitioning"/> <strong>使用磁盘分区</strong> <span class="ez-toc-section-end"/></h3><p>为了提高安全性，最好对磁盘进行分区，将操作系统文件与用户文件、tmp文件和第三方程序分开。您可以禁用<strong> SUID / SGID (nosuid) </strong>访问，并在操作系统分区上运行二进制文件(<strong> noexec </strong>)。</p><h3><span class="ez-toc-section" id="The_boot_is_just_reading"/> <strong>开机正好读取</strong> <span class="ez-toc-section-end"/></h3><p>在Linux服务器上，所有内核文件都存储在“<strong> /boot </strong>”目录中。但是这个目录的默认访问级别是“<strong>读写</strong>”。为了防止对服务器性能至关重要的引导文件进行未经授权的更改，请将访问级别更改为“<strong>只读</strong>”。</p><p>为此，只需编辑<strong> /etc/fstab </strong>文件，并在底部添加默认的LABEL =/boot/boot ext2，ro 1 2。如果将来需要更改内核，可以很容易地将其重置为“<strong>读写</strong>模式。然后，您可以进行更改，并在完成后将其返回到“<strong>只读</strong>模式。</p><h3><span class="ez-toc-section" id="Use_SFTP_instead_of_FTP"/> <strong>用SFTP代替FTP </strong> <span class="ez-toc-section-end"/></h3><p><a href="https://blog.eldernode.com/install-ftp-server-on-windows-server/"> FTP </a>文件传输协议不再安全，即使使用加密的“<strong>FTP over TLS</strong>”(FTPS)连接。</p><p>FTPS和FTP都容易受到攻击。当计算机程序介入并监控网络流量时。FTP是干净的，FTPS文件传输是干净的，这意味着只有证书是加密的。</p><p>SFTP，即“<strong> FTP over SSH </strong>”(也称为“安全FTP”)，完全加密所有数据，使您的服务器安全。</p><h3><span class="ez-toc-section" id="Use_of_firewall"/> <strong>使用防火墙</strong> <span class="ez-toc-section-end"/></h3><p>您的防火墙是一个网关，它允许和阻止对服务器的访问，是您抵御黑客的第一道防线。安装和配置防火墙是您在安装和保护VPS或裸机服务器时需要做的第一件事。</p><h3><span class="ez-toc-section" id="Install_antivirus_software"/> <strong>安装杀毒软件</strong> <span class="ez-toc-section-end"/></h3><p>防火墙的主要功能是阻止对服务器信息的访问，是您抵御黑客的第一道防线，但是没有防火墙是完全安全的，任何恶意软件都可以绕过它。因此，需要其他安全措施。</p><p>许多服务器管理员不在他们的服务器上安装防病毒软件，因为他们发现它有局限性。他们不这样做，因为安装这些抗病毒药物需要一些专业知识和费用。因为这些人不想为他们服务器的安全性付费。但是如果你没有足够的钱购买付费杀毒软件，你可以使用免费版本，比如ClamAV T1和T2 Maldet T3，它们可以扫描你的服务器并显示可疑文件。</p><h3><span class="ez-toc-section" id="Automatic_CMS_update"/> <strong>自动CMS更新</strong> <span class="ez-toc-section-end"/></h3><p>黑客总是试图找到安全漏洞。尤其是在内容管理系统方面，最著名的有<strong> Joomla </strong>、<strong> Drupal、</strong>和<a href="https://blog.eldernode.com/tag/wordpress/"> WordPress </a>，大多数网站都在他们的网站上使用这些内容管理系统。</p><p>这些CMS的大多数开发者发布了很多安全更新。在这些内容管理系统中，WordPress发布的更新最多。这个内容管理系统还允许您随着新版本的发布而自动更新。如果你使用的是旧版本的WordPress，请立即更新以防止黑客攻击。</p><h3><span class="ez-toc-section" id="Activate_cPHulk_in_WHM"/> <strong>激活WHM的绿巨人</strong> <span class="ez-toc-section-end"/></h3><p>除了防火墙，cPanel还有一个“<strong> cPHulk </strong>蛮力安全系统。防火墙并非没有漏洞，有时会出错，黑客也能渗透进来，这往往是由于防火墙设置不正确。</p><p>同时，cPHulk充当二级防火墙，防止对服务器的暴力攻击。cPHulk首先阻止登录功能，防火墙后来阻止它并阻止整个IP。要启用它，你需要去<a href="https://blog.eldernode.com/cpanel-and-whm-installation-tutorial/"> WHM </a>安全中心，选择cPHulk蛮力保护。这是安全强化过程中的另一个步骤。</p><h3><span class="ez-toc-section" id="Prevent_anonymous_FTP_upload"/> <strong>阻止匿名FTP上传</strong> <span class="ez-toc-section-end"/></h3><p>cPanel和<a href="https://blog.eldernode.com/tag/plesk/"> Plesk </a>都默认禁用匿名FTP上传，但其他服务默认可以启用。</p><p>允许匿名用户通过FTP上传是一个主要的安全风险。因为它允许任何人上传任何他们想上传的东西到你的网络服务器上。你可以想象，这是完全不推荐的，这意味着你把你的钥匙给了一个小偷。</p><p><em> <strong>注意:</strong> </em>要禁用访客上传，编辑您的FTP服务器配置设置。</p><h3><span class="ez-toc-section" id="Install_a_rootkit_scanner"/> <strong>安装一个rootkit扫描器</strong> <span class="ez-toc-section-end"/></h3><p>最危险的恶意软件之一是rootkit。Rootkit存在于操作系统级别，低于其他正常的安全软件，并允许未被发现的访问服务器。幸运的是，您可以使用开源工具chrootkit来确定您的服务器是否被感染。但是rootkits并不总是容易移除，移除它们的最好方法是重新安装操作系统。</p><h3><span class="ez-toc-section" id="Back_up_regularly"/> <strong>定时备份</strong> <span class="ez-toc-section-end"/></h3><p>有许多人忘记定期备份，并在出现问题时后悔，因为他们没有数据的副本。不管你有多小心，不管你的服务器有多安全，总有出错和麻烦的可能。</p><p>不要冒不备份之类的危险，也不要过于依赖主机来备份。将副本保存到不同的位置，并考虑使用备份空间或Google Drive。</p><h3><span class="ez-toc-section" id="Use_a_strong_password"/> <strong>使用强密码</strong> <span class="ez-toc-section-end"/></h3><p>到处都在说，但是再听一遍。糟糕的密码对您的Linux服务器是一种安全威胁，但对Windows服务器也是如此！尽量选择复杂的密码，由大小写字母，不同的数字和符号组成的密码就很好了。尽可能选择长而复杂的密码。</p><p><em> <strong>注意:</strong> </em> CPanel和Plesk都可以应用强密码策略，定期让密码过期。</p><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>Web服务器基础设施问题可能非常糟糕。全世界有数百万黑客在研究你的VPS中最小的漏洞。你需要保护你的VPS免受这些威胁，因为黑客迟早会找上你。企业网站和在线商店是全世界黑客的最佳目标。虽然大多数公司都有基本的安全标准，但它们通常很容易被攻破。在本文中，我们尝试使用20种方法来学习如何保护Linux VPS。</p></div></div>    
</body>
</html>