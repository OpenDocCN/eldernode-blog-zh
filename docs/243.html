<html>
<head>
<title>How to block or disable normal user logins in Linux - Eldernode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在Linux - Eldernode中阻止或禁用普通用户登录</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/block-disable-user-logins-linux/#0001-01-01">https://blog.eldernode.com/block-disable-user-logins-linux/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/df6b713754aa65fa0306abd59795e3a6.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2204.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="How to block or disable normal user logins in Linux" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2204.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2204-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2204-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2204-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2204-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2204-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2204.png"/><p>一个Linux系统管理员需要知道一些Linux技巧。在本文中，您将学习如何在Linux 中阻止或禁用普通用户登录。您可能会遇到问题，并执行计划的系统维护。在这里，您可以防止非root(普通)用户连接到系统。所以跟着这个教程来复习一下Linux中的<strong> /etc/nologin </strong>文件和<strong> nologin </strong> shell阻止非root用户的功能。此外，您需要知道应该设置什么消息来帮助用户了解实际发生了什么。</p><p> </p><p><strong>您可能会感兴趣:</strong></p><p class="fjpost-title px-0"><span> <a href="https://eldernode.com/enable-root-login-via-ssh-in-ubuntu-20/" target="_blank" rel="noopener noreferrer">在Ubuntu 20.04 </a> </span>中通过SSH启用Root登录</p><p class="fjpost-title px-0"><span> <a href="https://eldernode.com/tutorial-connect-to-ssh-on-linux/" target="_blank" rel="noopener noreferrer">教程linux上连接ssh</a></span></p><p class="fjpost-title px-0"><span> <a href="https://eldernode.com/disable-selinux-temporarily-permanently/" target="_blank" rel="noopener noreferrer">如何暂时或永久禁用SELinux</a></span></p><p> </p><h2><span class="ez-toc-section" id="How_to_block_or_disable_normal_user_logins_in_Linux"/> <span>如何在Linux中阻止或禁用普通用户登录</span> <span class="ez-toc-section-end"/></h2><p>让我们来看一下您可以在Linux服务器上<strong>阻止或禁用</strong>用户无法登录的方法。</p><h3><span class="ez-toc-section" id="How_to_block_user_logins_using_etcnologin_File"/> <span>如何使用/etc/nologin文件阻止用户登录</span> <span class="ez-toc-section-end"/></h3><p>显示消息是<strong> /etc/nologin </strong>文件的主要功能，用于关机过程中试图登录系统的用户。每当用户查看此消息时，他们将无法登录系统。因此，要通过手动创建来阻止用户登录，请使用下面的命令。</p><pre><code class="language-bash">vi /etc/nologin  </code></pre><p>如果要向试图登录系统的用户显示，可以将下面的消息添加到文件中。</p><pre><code class="language-bash">The Server is down for a routine maintenance. We apologize for any inconvenience caused, the system will be up and running in 1 hours time. For more information, contact the system admin <strong><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="86e7e2ebefe8c6e3eae2e3f4e8e9e2e3a8e5e9eb">[email protected]</a></strong>.</code></pre><h3/><p><span> <a href="https://eldernode.com/vps/" target="_blank" rel="noopener noreferrer">购买虚拟私服</a> </span></p><h3/><h3><span class="ez-toc-section" id="How_to_block_user_logins_using_nologin_Shell"/> <span>如何使用nologin Shell阻止用户登录</span> <span class="ez-toc-section-end"/></h3><p>因为这种方法只阻止一个用户访问shell，所以它的工作方式略有不同。该功能的方式是用户可以通过诸如<strong> ftp </strong>之类的程序登录到系统，这些程序不一定要求用户使用外壳来连接到系统。这种方法的另一个特性是，您可以允许在特殊情况下阻止特定用户访问shell。</p><p> </p><h4><span class="ez-toc-section" id="On_RHELCentOSFedora"/> <span>上RHEL/CentOS/Fedora</span>T3】</h4><p>此时，您看到您可以将<strong> /etc/passwd </strong>文件中的用户shell从/ <span> bin/bash </span>或<span> /bin/sh更改为/sbin </span> /nologin，意思是拒绝登录，使用<strong>chsh</strong>(<a href="https://linuxhandbook.com/change-shell-linux/" target="_blank" rel="noopener noreferrer"><strong>change shell</strong></a>)命令。</p><pre><code class="language-bash">chsh -s /bin/nologin noodi  </code></pre><p> </p><h4><span class="ez-toc-section" id="On_DebianUbuntu"/> <span>在Debian/Ubuntu上</span> <span class="ez-toc-section-end"/></h4><p>以下命令的作用是将用户<strong> eldernode的</strong> shell更改为<span> /bin/false </span>，表示不做任何事情。</p><pre><code class="language-bash">sudo chsh -s /bin/false noodi</code></pre><p> </p><p>如果你需要更多的阅读，请跟随<span> <a href="https://eldernode.com/tag/linux-tricks/" target="_blank" rel="noopener noreferrer"> Linux窍门</a> </span>。</p><p> </p><p>亲爱的用户，我们希望你喜欢这个教程，你可以在评论区提出关于这个培训的问题，或者解决<span> <a href="https://eldernode.com/" target="_blank" rel="noopener noreferrer"> Eldernode </a> </span>培训领域的其他问题，请参考<a href="https://eldernode.com/ask" target="_blank" rel="noopener noreferrer"> <span>提问页面</span> </a>部分并在其中提出你的问题。</p></div></div>    
</body>
</html>