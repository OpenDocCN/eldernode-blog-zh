<html>
<head>
<title>How to disable shutdown and reboot commands in Linux - Eldernode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在Linux - Eldernode中禁用关机和重启命令</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/disable-shutdown-reboot-linux/#0001-01-01">https://blog.eldernode.com/disable-shutdown-reboot-linux/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/40dbe53dc80708a8025f250fa502f590.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2179.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="How to disable shutdown and reboot commands in Linux" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2179.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2179-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2179-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2179-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2179-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2179-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2179.png"/><p>一个Linux系统管理员需要知道一些Linux技巧。在本文中，您将学习如何在Linux 中禁用关机和重启命令。</p><p>要关闭Linux系统，您需要使用<strong> shutdown </strong>命令来安排时间。而<a href="https://www.linux.org/" target="_blank" rel="noopener noreferrer"> Linux </a>发行版如Ubuntu、Linux Mint、Mandriva，默认情况下可以作为普通用户重启/暂停/关闭系统。这不是一个理想的设置，尤其是在服务器上。最重要的是，这肯定是需要担心的事情，尤其是对于系统管理员来说。</p><p>为了解决这个问题，我们将展示如何为Linux中的普通用户禁用<strong>关机</strong>和<strong>重启</strong>命令。</p><p> </p><p><span> <a href="https://eldernode.com/linux-vps/" target="_blank" rel="noopener noreferrer">购买Linux虚拟私有服务器</a> </span></p><h2><span>如何在Linux中禁用关机和重启命令</span></h2><p>让我们回顾一下使用<strong> /etc/sudoers </strong>文件来关闭和<strong>重启</strong>命令的最简单方法之一。</p><pre><code class="language-bash">vi /etc/sudoers  </code></pre><p>将这些行添加到<strong>命令别名</strong>部分。</p><pre><code class="language-bash">Cmnd_Alias     SHUTDOWN = /sbin/shutdown,/sbin/reboot,/sbin/halt,/sbin/poweroff    User privilege specification  <strong>eldernode</strong>   ALL=(ALL:ALL) ALL, <strong>!SHUTDOWN</strong>    Allow members of group sudo to execute any command  <strong>%developers</strong>  ALL=(ALL:ALL) ALL,  <strong>!SHUTDOWN</strong></code></pre><p>尝试以普通用户身份执行<strong>关机</strong>和<strong>重启</strong>命令。</p><pre><code class="language-bash">chmod o-x /sbin/shutdown  chmod o-x /sbin/reboot</code></pre><p><span> <strong>请注意</strong> </span>:在systemd下，这些文件(/sbin/shutdown，/sbin/reboot，/sbin/halt，/sbin/poweroff)只是/bin/systemctl的符号链接:</p><pre><code class="language-bash">ls -l /sbin/shutdown  ls -l /sbin/reboot  ls -l /sbin/halt  ls -l /sbin/poweroff</code></pre><p>总之，您可以如上所述删除执行权限，以防止其他用户运行这些命令。因为在系统下是无效的。，您可以删除对<span> <strong> /bin/systemctl </strong> </span>的执行权限，这意味着除root之外的所有其他用户将只运行systemctl。</p><pre><code class="language-bash">chmod  o-x /bin/systemctl</code></pre><p> </p><p><span> <strong>好样的</strong> </span>！您已经完成了教程，达到了我们指南的目的。如果你知道其他方法，请在评论中与我们分享。</p><p>亲爱的用户，我们希望你喜欢这个教程，你可以在评论区提出关于这个培训的问题，或者解决<span> <a href="https://eldernode.com/"> Eldernode </a> </span>培训领域的其他问题，请参考<span> <a href="https://eldernode.com/ask">提问页面</a> </span>部分并在其中提出你的问题。</p><p> </p><p><span> <strong>您可以在:</strong> </span>中找到更多相关文章</p><p class="fjpost-title px-0"><span> <a href="https://eldernode.com/enable-root-login-via-ssh-in-ubuntu-20/" target="_blank" rel="noopener noreferrer">在Ubuntu 20.04 </a> </span>中通过SSH启用Root登录</p><p> </p><p> </p></div></div>    
</body>
</html>