<html>
<head>
<title>htaccess and its Various Applications - Windows VPS Server</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>htaccess及其各种应用程序- Windows VPS服务器</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/htaccess-and-its-applications/#0001-01-01">https://blog.eldernode.com/htaccess-and-its-applications/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/d0e5ddeb73cff21128a54e7eaba93278.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/08/htaccess-and-its-Various-Applications.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="htaccess and its Various Applications" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/08/htaccess-and-its-Various-Applications.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/08/htaccess-and-its-Various-Applications-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/08/htaccess-and-its-Various-Applications-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/08/htaccess-and-its-Various-Applications-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/08/htaccess-and-its-Various-Applications-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/08/htaccess-and-its-Various-Applications-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/08/htaccess-and-its-Various-Applications.png"/><p>htaccess及其各种应用。<span>。htaccess文件</span>是一个Apache web服务器配置文件，它可以控制对站点的访问或如何工作。该文件可以更改Apache服务器的默认设置。安。用<span>文本/HTML编辑器</span>可以轻松创建htaccess文件，然后通过<span> FTP </span>上传。</p><p><span>在这篇文章</span>中，我们想先给大家介绍一下<strong>。htaccess文件</strong>然后解释这个文件的不同用途。和我们在一起。</p><p> </p><p><a href="https://eldernode.com/vps/"> <strong>购买VPS，在Eldernode </strong> </a>购买即时激活的廉价VPS托管服务器</p><p> </p><h2><span class="ez-toc-section" id="What_is_htaccess"/>什么是htaccess？<span class="ez-toc-section-end"/></h2><p><span>。htaccess </span>是一个文本环境文件，用于配置一些web服务器上的各种文件夹，包括<a href="https://en.wikipedia.org/wiki/Apache_HTTP_Server"> Apache </a>。许多需要高级编码的任务只能通过在该文件中编写一行代码来完成。</p><p>有了这个文件，你可以<span>将</span>一个页面重定向到另一个页面，<span>更改文件扩展名</span>，<span>加密文件夹</span>，诸如此类的事情都很容易。</p><h3><span class="ez-toc-section" id="Location_of_the_htaccess_file_and_how_to_access_it"/>的位置。htaccess文件以及如何访问它<span class="ez-toc-section-end"/></h3><p>这个文件通常存在于主机<span> public_html </span>目录中。在大多数<strong>内容管理系统</strong>中，比如<span> WordPress </span>和<span> Drupal </span>，这个文件是自动创建的。</p><p>如果你的主机控制面板是<span> cpanel </span>，这个控制面板默认不显示<strong>隐藏文件</strong>。因此，要让<span>显示</span>隐藏文件，请按如下步骤进行:</p><p><span> <strong> 1。在页面右上角的<span>文件管理器</span>文件夹中，点击<span>设置</span>按钮，弹出<span>文件管理器设置</span>窗口。</strong></span></p><p><span> <strong> 2。在弹出的</strong> </span>窗口中，<strong>勾选</strong> <span>显示隐藏文件</span>，点击<span>保存</span>。</p><p>有了这个改动，<strong>保存</strong>后，可以进入<span> public_html文件夹</span>，查看<span> htaccess </span>文件。其他隐藏的文件夹如<span> Trash </span>，即被删除文件所在的位置，也将在<span>主文件夹</span>中可见。</p><p> </p><p><img data-lazyloaded="1" src="../Images/d59ca0985e95c450b69cd17598ce8785.png" decoding="async" loading="lazy" class="aligncenter wp-image-9968 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/08/htaccess-and-its-Various-Applications-1.png" alt="htaccess and its Various Applications" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/08/htaccess-and-its-Various-Applications-1.png 535w, https://blog.eldernode.com/wp-content/uploads/2020/08/htaccess-and-its-Various-Applications-1-300x168.png 300w" data-sizes="(max-width: 535px) 100vw, 535px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/08/htaccess-and-its-Various-Applications-1.png"/></p><p> </p><p>通过<a href="http://www.htaccesseditor.com/en.shtml"> htaccesseditor站点</a>，你可以根据你想要的应用<span>轻松生成</span>你需要插入htaccess的代码<strong>将其添加</strong>到<span>你的htaccess文件</span>。</p><p> </p><h3><span class="ez-toc-section" id="Htaccess_applications"/> Htaccess应用程序<span class="ez-toc-section-end"/></h3><p>这个文件通常是通过在脚本的主路径中自动创建流行的和<strong>开源的CMS </strong>如<span> WordPress </span>、<span> Joomla </span>和<span> Drupal </span>来创建的，它负责如下重要任务:</p><p> </p><h4><span class="ez-toc-section" id="Change_the_title_and_format_of_the_main_index_file"/>改变主索引文件的标题和格式<span class="ez-toc-section-end"/></h4><p>你可以使用下面的代码<span>来改变你站点原始文件的</span> <span>名称</span>和<span>格式</span>:</p><pre><code class="language-bash">DirectoryIndex file.php file.htm</code></pre><p> </p><h4><span class="ez-toc-section" id="Prevent_theft_of_files_and_folders_within_the_host"/>防止主机内的文件和文件夹被盗<span class="ez-toc-section-end"/></h4><p>大多数情况下，诸如主机上的您自己的模板文件或压缩到您的主机中的文件之类的信息很容易被他人发现和窃取。</p><p>为了防止这种情况，<span>将下面的代码</span>放在<span>的<strong>底部</strong>。htaccess文件</span>:</p><pre><code class="language-bash">Options All -Indexes</code></pre><p> </p><h4><span class="ez-toc-section" id="Restrict_access_with_specific_ip_in_htaccess"/>限制htaccess中特定ip的访问<span class="ez-toc-section-end"/></h4><p>在某些情况下，当来自一个或多个ip 的许多请求被发送到您的站点并降低您的站点的加载速度或阻止ip垃圾邮件发送者时，您可以通过<span>来限制所需的ip。htaccess文件</span>。</p><pre><code class="language-bash">deny from 1.2.3.4</code></pre><pre><code class="language-bash">allow from all</code></pre><p>代替<span>1.2.3.4</span>你需要<strong>添加</strong><span>期望的ip </span>或ip范围。</p><p>同样对于<span>站点管理安全</span>，你可以创建一个<span>。htaccess文件</span>在站点管理路径中，例如在<span> WordPress </span>中，在<span> wp-admin </span>路径中，并且限制除了你的静态ip之外的所有IP的访问。这样，只有您的站点可以访问站点管理路径。</p><pre><code class="language-bash">deny from all</code></pre><pre><code class="language-bash">allow from 1.2.3.4</code></pre><p>代替<span>1.2.3.4</span>你需要<strong>添加</strong><span>期望的ip </span>或ip范围。</p><p> </p><h4><span class="ez-toc-section" id="Enhance_file_security_with_htaccess_code_restrict_file_access"/>使用htaccess代码增强文件安全性(限制文件访问)<span class="ez-toc-section-end"/></h4><p>为了防止其他人访问站点的一些重要文件，如<span>配置</span> <span>文件</span>，在htaccess中输入以下代码:</p><pre><code class="language-bash">&lt;files wp-config.php&gt;    order allow,deny    deny from all     &lt;/files&gt;  </code></pre><p>你需要输入想要的文件名，而不是wp-config.php。</p><p> </p><h4><span class="ez-toc-section" id="Hide_list_of_directories"/>隐藏目录列表<span class="ez-toc-section-end"/></h4><p>网站的一个问题是查看文件和文件夹的能力。这个问题允许任何人看到上传到你网站的内容，例如<span>可以复制你网站的模板。</span></p><p> </p><p><img data-lazyloaded="1" src="../Images/08035039c5eb628b4ed5b88fa7f74f9c.png" decoding="async" loading="lazy" class="aligncenter wp-image-9969 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/08/htaccess-and-its-Various-Applications-2.png" alt="htaccess and its Various Applications" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/08/htaccess-and-its-Various-Applications-2.png 644w, https://blog.eldernode.com/wp-content/uploads/2020/08/htaccess-and-its-Various-Applications-2-300x231.png 300w" data-sizes="(max-width: 644px) 100vw, 644px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/08/htaccess-and-its-Various-Applications-2.png"/></p><p> </p><p>要防止此问题，请在htaccess中输入以下代码:</p><pre><code class="language-bash">Options –Indexes</code></pre><p> </p><h4><span class="ez-toc-section" id="Caching_the_site_on_a_browser_with_htaccess_code"/>用htaccess代码在浏览器上缓存站点<span class="ez-toc-section-end"/></h4><p><strong>缓存</strong>浏览器上的站点会<span>减少你站点上的流量</span>、<span> RAM </span>和<span> CPU消耗</span>，从而提高你站点的加载速度。</p><p>将下面的代码放在<span>的<strong>底部</strong>。htaccess </span>文件:</p><pre><code class="language-bash"># Enables browser caching    &lt;IfModule mod_expires.c&gt;  ExpiresActive On    ExpiresByType image/jpg "access 1 year"    ExpiresByType image/jpeg "access 1 year"    ExpiresByType image/gif "access 1 year"    ExpiresByType image/png "access 1 year"    ExpiresByType text/css "access 1 month"    ExpiresByType application/pdf "access 1 month"    ExpiresByType text/x-javascript "access 1 month"    ExpiresByType application/x-shockwave-flash "access 1 month"    ExpiresByType image/x-icon "access 1 year"    ExpiresDefault "access 2 days"    &lt;/IfModule&gt;  </code></pre><p> </p><h4><span class="ez-toc-section" id="Restrict_the_type_of_executable_and_viewable_files"/>限制可执行和可查看文件的类型<span class="ez-toc-section-end"/></h4><p>为了维护站点的安全和信息，您可以指定可以运行的文件扩展名:</p><pre><code class="language-bash">Options +FollowSymlinks    RewriteEngine On    rewritecond %{REQUEST_FILENAME} !^(.+).css$    rewritecond %{REQUEST_FILENAME} !^(.+).js$    rewritecond %{REQUEST_FILENAME} !file.php$    RewriteRule ^(.+)$ /deny/ [nc]</code></pre><p> </p><h4><span class="ez-toc-section" id="Add_mime-type_via_htaccess"/>通过htaccess添加mime-type】</h4><p>删除<span>服务器查询</span>是否打开或者<span>下载</span>文件。轻松下载所需文件。</p><pre><code class="language-bash">AddType application/octet-stream .pdf    AddType application/octet-stream .zip    AddType application/octet-stream .mov</code></pre><p> </p><h4><span class="ez-toc-section" id="Restrict_file_upload"/>限制文件上传<span class="ez-toc-section-end"/></h4><p>您可以通过以下代码<span>将</span>最大可上传文件大小设置为<span> 20 MB </span>:</p><pre><code class="language-bash">php_value upload_max_filesize 20M</code></pre><p> </p><h4><span class="ez-toc-section" id="Limit_the_volume_of_posts_sent"/>限制发帖量<span class="ez-toc-section-end"/></h4><p>通过下面的代码，可以指定每个<strong>帖子</strong>的<span>最大大小</span>为<span> 2 MB </span>:</p><pre><code class="language-bash">php_value post_max_size 2M</code></pre><p> </p><h4><span class="ez-toc-section" id="Set_memory_limit"/>设置内存限制<span class="ez-toc-section-end"/></h4><p>您可以通过下面的代码指定<span>内存量限制</span>:</p><pre><code class="language-bash">php_value memory_limit 128M</code></pre><p> </p><h4><span class="ez-toc-section" id="Define_a_redirect_in_htaccess"/>在htaccess中定义重定向<span class="ez-toc-section-end"/></h4><p>htaccess中最常见的用途之一是定义<span>重定向</span>和<span>转发</span>的能力。您可以通过在该文件或各种链接中插入代码，将网站重定向到<span>另一个地址</span>。你也可以用<strong> http </strong> to <span> https </span>或者用<strong>www</strong>to without<span>www</span>指定要重定向的站点。</p><p> </p><p><img data-lazyloaded="1" src="../Images/19323a8c16d46d97a20a80d77c3f0948.png" decoding="async" loading="lazy" class="aligncenter wp-image-9970 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/08/htaccess-and-its-Various-Applications-3.png" alt="htaccess and its Various Applications" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/08/htaccess-and-its-Various-Applications-3.png 275w, https://blog.eldernode.com/wp-content/uploads/2020/08/htaccess-and-its-Various-Applications-3-150x150.png 150w" data-sizes="(max-width: 275px) 100vw, 275px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/08/htaccess-and-its-Various-Applications-3.png"/></p><p> </p><p><span>例如</span>，你可以通过下面的代码将<span> http </span>重定向到<span> https </span>:</p><pre><code class="language-bash">RewriteEngine On    RewriteCond %{HTTPS} off    RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]</code></pre><p>htaccess及其各种应用</p><p> </p><h4><span class="ez-toc-section" id="Change_the_default_page"/>更改默认页面<span class="ez-toc-section-end"/></h4><p>使用下面的代码，你可以指定站点的默认页面是什么。也就是说，当<strong>站点加载</strong>时，<span>应该先加载哪个页面</span>或者<span>决定</span>显示默认页面的优先级。</p><pre><code class="language-bash">#Alternate default index pages    DirectoryIndex first.html index.htm index.html index.php</code></pre><p> </p><h4><span class="ez-toc-section" id="Create_default_error_pages"/>创建默认错误页面<span class="ez-toc-section-end"/></h4><p>创建一个<span>自定义错误页面</span>意味着，例如，当你的网站遇到一个最常见的<span> HTTP错误</span>时。</p><p><span>例如</span>，没有文件或页面，访问者通过输入一个在你的服务器和网站上不存在的地址得到一个<span> 404错误</span>。</p><p>访问者可能不知道这个错误的含义，或者即使他知道，他可能会感到困惑，并停止访问您的网站。<span>在这种情况下</span>，如果我们已经创建了一个页面，访问者不会遇到404错误，而是进入一个页面，正确地告诉他“<strong>有问题的文件不存在</strong>或“<strong>该文件可能由于某种原因已被删除或移动到另一个路径</strong>”访问者对错误感觉更好。</p><p> </p><p><img data-lazyloaded="1" src="../Images/bd11ac21f61571aa5f1c16e4a69c58f5.png" decoding="async" loading="lazy" class="aligncenter wp-image-9971 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/08/htaccess-and-its-Various-Applications-4.png" alt="htaccess and its Various Applications" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/08/htaccess-and-its-Various-Applications-4.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/08/htaccess-and-its-Various-Applications-4-150x150.png 150w" data-sizes="(max-width: 300px) 100vw, 300px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/08/htaccess-and-its-Various-Applications-4.png"/></p><p> </p><h4><span class="ez-toc-section" id="How_to_prevent_Hotlink_action_in_htaccess_file_prevent_the_use_of_site_images_on_other_sites"/>如何在中防止热链接操作。htaccess文件(防止在其他网站上使用网站图片)<span class="ez-toc-section-end"/></h4><p><span>热链接保护</span>防止您的信息被复制到其他网站。<span>例如</span>，如果你的托管服务目录中有一张图片，那张图片就不会显示在其他网站上。此外，如果可以使用您的网站下载带有<strong>直接链接</strong> <span>的文件，并且该链接被复制到另一个网站，该网站的用户将首先通过点击该链接<span>被转到您的网站</span>地址。这将<strong>增加</strong>你网站的流量和负载。在这种情况下，你的带宽将结束，而没有人访问你的网站。</span></p><p>使用<span> htaccess </span>将会阻止你在其他网站上使用你的内容，<strong>尤其是</strong>你的网站<span>图片</span>。</p><p><span> <strong>注意</strong> </span>，这个特性需要在你的服务器上启用<span> mod_rewrite </span>。因此，请务必联系您的系统管理员或虚拟主机公司。</p><p>htaccess及其各种应用。</p><p>以下是防止使用应该在<strong>中的格式为“<span> GIF </span>”、“<span> JPG </span>”和“<span> CSS </span>”的文件内容的说明。htaccess文件</strong>:</p><pre><code class="language-bash">RewriteEngine on    RewriteCond %{HTTP_REFERER} !^$    RewriteCond %{HTTP_REFERER} !^http://(www\.)?yourdomain.com/.*$ [NC]    RewriteRule \.(gif|jpg|css)$ - [F]</code></pre><p><span>Yourdomain.com</span>被替换为网址。</p><p> </p><h4><span class="ez-toc-section" id="Htaccess_protection_From_unauthorized_access"/> Htaccess保护。防止未经授权的访问<span class="ez-toc-section-end"/></h4><p>如你所见，你可以用一个<span>做很多事情。htaccess文件</span>。</p><p>鉴于它对你的网络服务器的权力和控制，重要的是<strong>保护</strong>这个文件不被<span>黑客</span>的<span>未授权访问</span>。</p><p>为了<span>保护</span>这个文件，只需将下面的代码添加到您的<span>中。htaccess文件</span>:</p><pre><code class="language-bash">&lt;files ".htaccess"&gt;    order allow,deny    deny from all    &lt;/files&gt;</code></pre><p> </p><p><span> <strong>亦作，见:</strong> </span></p><p><a href="https://eldernode.com/install-apache-on-windows-server/">如何在Windows Server上安装Apache</a></p><p> </p><p><strong>尊敬的用户</strong>，我们希望您能喜欢这个<a href="https://eldernode.com/category/tutorial/">教程</a>，您可以在评论区提出关于本次培训的问题，或者解决<a href="https://eldernode.com/blog/">老年人节点培训</a>领域的其他问题，请参考<a href="https://eldernode.com/ask">提问页面</a>部分，并尽快提出您的问题。腾出时间给其他用户和专家来回答你的问题。</p><p>htaccess及其各种应用。</p><p><span>好运</span>。</p></div></div>    
</body>
</html>