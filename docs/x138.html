<html>
<head>
<title>Tutorial Install PowerDNS and PowerDNS Admin on Debian 11</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>教程在Debian 11上安装PowerDNS和PowerDNS Admin</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/install-powerdns-and-powerdns-admin-on-debian-11/#0001-01-01">https://blog.eldernode.com/install-powerdns-and-powerdns-admin-on-debian-11/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/850c358559f1cf1a7a7a34b60056c9e8.png" data-src="https://blog.eldernode.com/wp-content/uploads/2022/06/Tutorial-Install-PowerDNS-and-PowerDNS-Admin-on-Debian-11.webp" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Tutorial Install PowerDNS and PowerDNS Admin on Debian 11" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/06/Tutorial-Install-PowerDNS-and-PowerDNS-Admin-on-Debian-11.webp 2069w, https://blog.eldernode.com/wp-content/uploads/2022/06/Tutorial-Install-PowerDNS-and-PowerDNS-Admin-on-Debian-11-300x164.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/06/Tutorial-Install-PowerDNS-and-PowerDNS-Admin-on-Debian-11-1024x561.webp 1024w, https://blog.eldernode.com/wp-content/uploads/2022/06/Tutorial-Install-PowerDNS-and-PowerDNS-Admin-on-Debian-11-768x421.webp 768w, https://blog.eldernode.com/wp-content/uploads/2022/06/Tutorial-Install-PowerDNS-and-PowerDNS-Admin-on-Debian-11-1536x842.webp 1536w, https://blog.eldernode.com/wp-content/uploads/2022/06/Tutorial-Install-PowerDNS-and-PowerDNS-Admin-on-Debian-11-2048x1122.webp 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/06/Tutorial-Install-PowerDNS-and-PowerDNS-Admin-on-Debian-11.webp"/><p>Linux web服务器最重要的服务之一是DNS服务，它能够使用服务器上的Internet域。如你所知，计算机通过IP地址相互通信。但是，如果我们想使用清晰的字母和数字(域名)而不是IP，DNS调解。PowerDNS是DNS服务之一。在本文中，我们将向您介绍并教您<strong>如何在Debian 11 </strong>上安装PowerDNS和PowerDNS Admin。你可以在<a href="https://eldernode.com/"> Eldernode </a>网站上查看<strong> <a href="https://eldernode.com/linux-vps/"> Linux VPS </a> </strong>服务，如果你想购买的话。</p><h2><span class="ez-toc-section" id="How_to_Install_PowerDNS_and_PowerDNS_Admin_on_Debian_11"/> <strong>如何在Debian 11上安装PowerDNS和PowerDNS Admin</strong><span class="ez-toc-section-end"/></h2><h3><span class="ez-toc-section" id="Introduction_to_PowerDNS_and_PowerDNS_Admin"/><strong>PowerDNS及PowerDNS Admin简介</strong> <span class="ez-toc-section-end"/></h3><p>PowerDNS是在Linux平台上设计和实现的开源DNS服务器。这个DNS服务器是使用C++编程语言编写的，并在GPL下获得许可。它可以在几乎所有的Unix、Linux甚至Windows系列上安装和使用，也可以与各种SQL平台支持的许多后端一起工作。该服务器成立于1999年，2002年成为开源产品。</p><p>PowerDNS同时提供权威服务器和递归DNS产品，它们是单独提供的。权威服务器回答关于它有信息的域的问题，并解决关于它没有信息的域的问题。DNS递归器咨询其他著名的服务器来回答相关的问题。</p><p>PowerDNS Admin是一个基于web的工具，用于管理PowerDNS。您可以使用web浏览器来创建和管理DNS域。</p><p><strong> PowerDNS特性</strong></p><p>–提供高域分辨率性能</p><p>–提供大量统计数据，帮助确定可扩展性和发现问题</p><p>–改进的安全功能</p><p>–支持无数后端和负载平衡/故障转移算法</p><p><strong> PowerDNS管理功能</strong></p><p>1-支持域模板</p><p>2-支持批量域创建</p><p>3-支持本地数据库、SAML、LDAP、活动目录用户验证</p><p>4-支持动态域名系统2协议和TOTP协议</p><p>5-支持谷歌，Github，Azure，OpenID OAuth</p><p>6-支持IPv4和IPv6</p><p>7-支持DNSSec</p><p>8-提供一个域模板</p><p>9-为操作区域和记录提供有限的API</p><p>10-创建和更新反向PTR记录</p><h3><span class="ez-toc-section" id="How_to_Install_PowerDNS_Relational_Database"/> <strong>如何安装PowerDNS关系数据库</strong> <span class="ez-toc-section-end"/></h3><p>在执行任何操作之前，<strong>使用以下命令更新您的系统</strong>并安装所需的工具:</p><pre><code class="language-bash">sudo apt update</code></pre><pre><code class="language-bash">sudo apt upgrade  </code></pre><pre><code class="language-bash">sudo apt install curl vim git -y</code></pre><p>正如我之前提到的，PowerDNS支持无数的数据库后端，如MySQL、PostgreSQL、Oracle等。您可以将它们中的任何一个用于后端存储PowerDNS区域文件。我更喜欢用<a href="https://blog.eldernode.com/whats-mariadb-how-it-works/"> MariaDB </a>。您应该首先安装所需的工具，通过输入以下命令来<strong>安装MariaDB </strong>:</p><pre><code class="language-bash">sudo apt install software-properties-common gnupg2 -y</code></pre><p>现在<strong>借助以下命令下载MariaDB存储库</strong>:</p><pre><code class="language-bash">curl -LsS -O https://downloads.mariadb.com/MariaDB/mariadb_repo_setup  </code></pre><pre><code class="language-bash">sudo bash mariadb_repo_setup</code></pre><p><strong>更新软件包后安装MariaDB </strong>:</p><pre><code class="language-bash">sudo apt update  </code></pre><pre><code class="language-bash">sudo apt install mariadb-server mariadb-client</code></pre><p>您可以使用以下命令<strong>启动MariaDB </strong>:</p><pre><code class="language-bash">sudo systemctl start mariadb</code></pre><p>为了<strong>启用MariaDB </strong>:</p><pre><code class="language-bash">sudo systemctl enable mariadb</code></pre><p>现在，您需要使用root用户<strong>登录到shell </strong>:</p><pre><code class="language-bash">sudo mysql -u root</code></pre><p>您可以通过运行以下命令<strong>创建一个PowerDNS数据库</strong>:</p><pre><code class="language-bash">CREATE DATABASE powerdns;  </code></pre><pre><code class="language-bash">GRANT ALL ON powerdns.* TO 'powerdns_user'@'%' IDENTIFIED BY 'Strongpassword';  </code></pre><pre><code class="language-bash">FLUSH PRIVILEGES;  </code></pre><pre><code class="language-bash">EXIT</code></pre><p>请注意，您设置的密码不包含特殊字符，因为这将导致“拒绝用户' powerdns_user'@'localhost '(使用密码:是)的访问”错误。</p><h2><span class="ez-toc-section" id="How_to_Install_PowerDNS_on_Debian_11"/> <strong>如何在Debian 11上安装PowerDNS</strong>T3】</h2><p>首先，您应该<strong>停止并禁用systemd解析的</strong>服务:</p><pre><code class="language-bash">sudo systemctl stop systemd-resolved  </code></pre><pre><code class="language-bash">sudo systemctl disable systemd-resolved</code></pre><p>现在<strong>删除文件的符号链接</strong>:</p><pre><code class="language-bash">ls -lh /etc/resolv.conf   </code></pre><pre><code class="language-bash">sudo unlink /etc/resolv.conf</code></pre><p>然后<strong>使用以下命令更新resolv.conf </strong>文件:</p><pre><code class="language-bash">echo "nameserver 8.8.8.8" | sudo tee /etc/resolv.conf</code></pre><p>在此步骤中，<strong>通过输入以下命令将存储库</strong>添加到系统中:</p><pre><code class="language-bash">sudo vim /etc/apt/sources.list.d/pdns.list  </code></pre><pre><code class="language-bash">deb [arch=amd64] http://repo.powerdns.com/debian bullseye-auth-46 main</code></pre><p>现在，您应该为存储库导入GPG密钥签名:</p><pre><code class="language-bash">curl -fsSL https://repo.powerdns.com/FD380FBB-pub.asc | sudo gpg --dearmor -o /etc/apt/trusted.gpg.d/pdns.gpg</code></pre><p>然后输入以下命令来设置APT首选项:</p><pre><code class="language-bash">sudo vim /etc/apt/preferences.d/pdns  </code></pre><pre><code class="language-bash">Package: pdns-*  </code></pre><pre><code class="language-bash">Pin: origin repo.powerdns.com  </code></pre><pre><code class="language-bash">Pin-Priority: 600</code></pre><p><strong>再次更新</strong>您的APT包:</p><pre><code class="language-bash">sudo apt update</code></pre><p>要从默认APT存储库中安装PowerDNS 和MySQL后端，请运行以下命令:</p><pre><code class="language-bash">sudo apt install pdns-server pdns-backend-mysql</code></pre><h3><span class="ez-toc-section" id="How_to_Configure_the_PowerDNS_Database_on_Debian_11"/> <strong>如何在Debian 11上配置PowerDNS数据库</strong>T3】</h3><p>首先，您应该将数据库模式输入到在MariaDB上创建的PowerDNS数据库，这些模式通常作为一个<strong> schema.mysql.sql </strong>文件存储在<strong>/usr/share/pdns-back end-MySQL/schema/</strong>中。</p><p>将上述模式导入到在上述步骤中创建的数据库中:</p><pre><code class="language-bash">mysql -u powerdns_user -p powerdns &lt; /usr/share/pdns-backend-mysql/schema/schema.mysql.sql</code></pre><p>然后使用以下命令验证模式导入:</p><pre><code class="language-bash">sudo mysql -u root  </code></pre><pre><code class="language-bash">use powerdns;  </code></pre><pre><code class="language-bash">show tables;</code></pre><p>在此步骤中，创建文件以配置数据库的PowerDNS连接详细信息:</p><pre><code class="language-bash">sudo vim /etc/powerdns/pdns.d/pdns.local.gmysql.conf</code></pre><p>在打开的文件中编辑以下行:</p><pre><code class="language-bash"># MySQL Configuration  </code></pre><pre><code class="language-bash"># Launch gmysql backend  </code></pre><pre><code class="language-bash">launch+=gmysql  </code></pre><pre><code class="language-bash"># gmysql parameters  </code></pre><pre><code class="language-bash">gmysql-host=127.0.0.1  </code></pre><pre><code class="language-bash">gmysql-port=3306  </code></pre><pre><code class="language-bash">gmysql-dbname=powerdns  </code></pre><pre><code class="language-bash">gmysql-user=powerdns_user  </code></pre><pre><code class="language-bash">gmysql-password=Strongpassword  </code></pre><pre><code class="language-bash">gmysql-dnssec=yes  </code></pre><pre><code class="language-bash"># gmysql-socket=</code></pre><p>然后你需要<strong>设置文件的权限</strong>:</p><pre><code class="language-bash">sudo chown pdns: /etc/powerdns/pdns.d/pdns.local.gmysql.conf  </code></pre><pre><code class="language-bash">sudo chmod 640 /etc/powerdns/pdns.d/pdns.local.gmysql.conf</code></pre><p>接下来，运行下面的命令来验证数据库连接:</p><pre><code class="language-bash">sudo systemctl stop pdns.service  </code></pre><pre><code class="language-bash">sudo pdns_server --daemon=no --guardian=no --loglevel=9</code></pre><p>在最后一步中，<strong>通过运行以下命令重新启动并启用PowerDNS </strong>服务:</p><pre><code class="language-bash">sudo systemctl restart pdns  </code></pre><pre><code class="language-bash">sudo systemctl enable pdns</code></pre><p>您可以使用以下命令<strong>验证端口53 </strong>是否为DNS打开:</p><pre><code class="language-bash">sudo ss -alnp4 | grep pdns</code></pre><p>您可以使用以下命令检查PowerDNS是否响应请求:</p><pre><code class="language-bash">dig @127.0.0.1</code></pre><h2><span class="ez-toc-section" id="How_to_Install_PowerDNS_Admin_on_Debian_11"/> <strong>如何在Debian 11上安装PowerDNS Admin</strong><span class="ez-toc-section-end"/></h2><p>第一步，您需要通过输入以下命令来安装Python开发包:</p><pre><code class="language-bash">sudo apt install python3-dev</code></pre><p>现在运行下面的命令来<strong>安装所需的构建工具</strong>:</p><pre><code class="language-bash">sudo apt install libsasl2-dev libldap2-dev libssl-dev libxml2-dev libxslt1-dev libxmlsec1-dev libffi-dev pkg-config apt-transport-https virtualenv python3-venv build-essential libmariadb-dev git python3-flask -y</code></pre><p>然后，您应该安装Node.js。为此，<strong>添加存储库</strong>:</p><pre><code class="language-bash">curl -sL https://deb.nodesource.com/setup_16.x | sudo -E bash -</code></pre><p>现在是时候<strong>安装Nodejs </strong>了:</p><pre><code class="language-bash">sudo apt install -y nodejs</code></pre><p>然后你应该安装yarn包，但是首先<strong>添加它的库和GPG键</strong>:</p><pre><code class="language-bash">curl -sL https://dl.yarnpkg.com/debian/pubkey.gpg | gpg --dearmor | sudo tee /usr/share/keyrings/yarnkey.gpg &gt;/dev/null  </code></pre><pre><code class="language-bash">echo "deb [signed-by=/usr/share/keyrings/yarnkey.gpg] https://dl.yarnpkg.com/debian stable main" | sudo tee /etc/apt/sources.list.d/yarn.list</code></pre><p>运行以下命令进行安装:</p><pre><code class="language-bash">sudo apt update  </code></pre><pre><code class="language-bash">sudo apt install yarn -y</code></pre><p>接下来，您应该使用以下命令<strong>克隆PowerDNS管理源代码</strong>:</p><pre><code class="language-bash">sudo su -  </code></pre><pre><code class="language-bash">git clone https://github.com/ngoduykhanh/PowerDNS-Admin.git /var/www/html/pdns</code></pre><p>在这一步，<strong>创建一个虚拟环境</strong>如下:</p><pre><code class="language-bash">cd /var/www/html/pdns/  </code></pre><pre><code class="language-bash">virtualenv -p python3 flask</code></pre><p>然后执行以下命令<strong>激活环境并安装requirements.txt中指定的库</strong>:</p><pre><code class="language-bash">source ./flask/bin/activate  </code></pre><pre><code class="language-bash">pip install --upgrade pip  </code></pre><pre><code class="language-bash">pip install -r requirements.txt</code></pre><p>要配置到数据库的PowerDNS管理连接，您应该停用虚拟环境:</p><pre><code class="language-bash">deactivate</code></pre><p>现在编辑以下文件:</p><pre><code class="language-bash">vim /var/www/html/pdns/powerdnsadmin/default_config.py</code></pre><p>然后在里面编辑下面一行:</p><pre><code class="language-bash">### DATABASE CONFIG  </code></pre><pre><code class="language-bash">SQLA_DB_USER = 'powerdns_user'  </code></pre><pre><code class="language-bash">SQLA_DB_PASSWORD = 'Strongpassword'  </code></pre><pre><code class="language-bash">SQLA_DB_HOST = '127.0.0.1'  </code></pre><pre><code class="language-bash">SQLA_DB_NAME = 'powerdns'  </code></pre><pre><code class="language-bash">SQLALCHEMY_TRACK_MODIFICATIONS = True  </code></pre><p>….</p><p><strong>通过运行以下命令创建一个数据库模式</strong>:</p><pre><code class="language-bash">cd /var/www/html/pdns/  </code></pre><pre><code class="language-bash">source ./flask/bin/activate  </code></pre><pre><code class="language-bash">export FLASK_APP=powerdnsadmin/__init__.py  </code></pre><pre><code class="language-bash">flask db upgrade</code></pre><p>如果您收到一个<strong>“import error:cannot import name ' JSON ' from ' its dangerous "</strong>错误，请输入以下命令:</p><pre><code class="language-bash">pip uninstall itsdangerous  </code></pre><pre><code class="language-bash">pip install itsdangerous==2.0.1  </code></pre><pre><code class="language-bash">flask db upgrade</code></pre><p>上述问题解决后，<strong>通过运行以下命令创建资产文件</strong>:</p><pre><code class="language-bash">yarn install --pure-lockfile  </code></pre><pre><code class="language-bash">flask assets build</code></pre><p>最后，<strong>通过输入以下命令停用虚拟环境</strong>:</p><pre><code class="language-bash">deactivate</code></pre><h3><span class="ez-toc-section" id="How_to_Enable_PowerDNS_API_Access"/> <strong>如何启用PowerDNS API访问</strong> <span class="ez-toc-section-end"/></h3><p>在此步骤中，您应该启用PowerDNS API访问。</p><p>使用以下命令，您可以打开文件并启用参数，如控制多个活动、读取统计数据、更改区域内容等。</p><pre><code class="language-bash">sudo vim /etc/powerdns/pdns.conf</code></pre><p>编辑文件，如下所示:</p><pre><code class="language-bash"># api Enable/disable the REST API (including HTTP listener)  </code></pre><pre><code class="language-bash"># api=no  api=yes  </code></pre><pre><code class="language-bash">###########################  </code></pre><pre><code class="language-bash"># api-key Static pre-shared authentication key for access to the REST API  </code></pre><pre><code class="language-bash"># api-key=  </code></pre><pre><code class="language-bash">api-key=3ce1af6c-981d-4190-a559-1e691d89b90e</code></pre><pre><code class="language-bash">#You can generate one from https://codepen.io/corenominal/pen/rxOmMJ</code></pre><p>最后，<strong>保存</strong>文件，<strong>使用以下命令重启PowerDNS </strong>:</p><pre><code class="language-bash">sudo systemctl restart pdns</code></pre><p>现在是时候<strong>创建一个PowerDNS虚拟主机文件</strong>了。首先，安装Nginx web服务器:</p><pre><code class="language-bash">sudo apt install nginx</code></pre><p>然后<strong>创建一个虚拟主机文件</strong>如下:</p><pre><code class="language-bash">vim /etc/nginx/conf.d/powerdns-admin.conf</code></pre><p>并增加以下内容:</p><pre><code class="language-bash">server {    listen         *:80;    server_name               pdnsadmin.yourdomain.com;      index                     index.html index.htm index.php;    root                      /var/www/html/pdns;    access_log                /var/log/nginx/pdnsadmin_access.log combined;    error_log                 /var/log/nginx/pdnsadmin_error.log;      client_max_body_size              10m;    client_body_buffer_size           128k;    proxy_redirect                    off;    proxy_connect_timeout             90;    proxy_send_timeout                90;    proxy_read_timeout                90;    proxy_buffers 32                  4k;    proxy_buffer_size                 8k;    proxy_set_header                  Host $host;    proxy_set_header                  X-Real-IP $remote_addr;    proxy_set_header                  X-Forwarded-For $proxy_add_x_forwarded_for;    proxy_headers_hash_bucket_size    64;      location ~ ^/static/ {     include   /etc/nginx/mime.types;     root  /var/www/html/pdns/powerdnsadmin;       location ~* \.(jpg|jpeg|png|gif)$ {       expires 365d;     }        location ~* ^.+.(css|js)$ {        expires 7d;      }    }      location / {      proxy_pass http://unix:/run/pdnsadmin/socket;      proxy_read_timeout 120;      proxy_connect_timeout 120;      proxy_redirect off;       }    }</code></pre><p>接下来，<strong>重命名Nginx文件</strong>:</p><pre><code class="language-bash">mv /etc/nginx/sites-enabled/default{,.old}</code></pre><p>您可以使用以下命令检查上述文件语法:</p><pre><code class="language-bash">nginx -t</code></pre><p>现在运行以下命令来设置文件的正确所有权:</p><pre><code class="language-bash">chown -R www-data: /var/www/html/pdns</code></pre><p>然后记得<strong>重启Nginx </strong>以应用更改:</p><pre><code class="language-bash">systemctl restart nginx</code></pre><p>下一步，您需要<strong>为PowerDNS Admin创建一个系统服务文件</strong>。为此，首先创建如下文件:</p><pre><code class="language-bash">vim /etc/systemd/system/pdnsadmin.service</code></pre><p>并将以下内容添加到创建的文件中:</p><pre><code class="language-bash">[Unit]  Description=PowerDNS-Admin  Requires=pdnsadmin.socket  After=network.target    [Service]  PIDFile=/run/pdnsadmin/pid  User=pdns  Group=pdns  WorkingDirectory=/var/www/html/pdns  ExecStart=/var/www/html/pdns/flask/bin/gunicorn --pid /run/pdnsadmin/pid --bind unix:/run/pdnsadmin/socket 'powerdnsadmin:create_app()'  ExecReload=/bin/kill -s HUP $MAINPID  ExecStop=/bin/kill -s TERM $MAINPID  PrivateTmp=true    [Install]  WantedBy=multi-user.target</code></pre><p>现在，使用以下命令创建一个套接字文件:</p><pre><code class="language-bash">sudo vim /etc/systemd/system/pdnsadmin.socket</code></pre><p>并在其中添加以下内容:</p><pre><code class="language-bash">[Unit]  Description=PowerDNS-Admin socket  </code></pre><pre><code class="language-bash">[Socket]  ListenStream=/run/pdnsadmin/socket  </code></pre><pre><code class="language-bash">[Install]  WantedBy=sockets.target</code></pre><p>接下来，您应该<strong>创建一个环境文件</strong>,如下所示:</p><pre><code class="language-bash">mkdir /run/pdnsadmin/  </code></pre><pre><code class="language-bash">echo "d /run/pdnsadmin 0755 pdns pdns -" &gt;&gt; /etc/tmpfiles.d/pdnsadmin.conf</code></pre><p>接下来，设置所需的权限，如下所示:</p><pre><code class="language-bash">chown -R pdns: /run/pdnsadmin/  </code></pre><pre><code class="language-bash">chown -R pdns: /var/www/html/pdns/powerdnsadmin/</code></pre><p>记住使用以下命令<strong>重新加载系统守护进程</strong>:</p><pre><code class="language-bash">systemctl reload-daemon</code></pre><p>要<strong>启动并启用PowerDNS管理服务</strong>，请输入以下命令:</p><pre><code class="language-bash">systemctl enable --now pdnsadmin.service pdnsadmin.socket</code></pre><p>您可以通过运行以下命令<strong>检查服务状态</strong>:</p><pre><code class="language-bash">systemctl status pdnsadmin.service pdnsadmin.socket</code></pre><h3><span class="ez-toc-section" id="How_to_Access_the_PowerDNS_Admin_Web_UI"/> <strong>如何访问PowerDNS管理Web UI </strong> <span class="ez-toc-section-end"/></h3><p>首先，借助<strong> http://domain_name </strong>或<strong> http://IP_address </strong>网址导航至PowerDNS web UI，点击<strong>创建账户</strong>:</p><p> </p><p><img data-lazyloaded="1" src="../Images/510e67c09b23577e4ac196be076f2301.png" decoding="async" loading="lazy" class="aligncenter wp-image-37601 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/06/1.-Install-PowerDNS-PowerDNS-Admin-1.webp" alt="Install-PowerDNS-PowerDNS-Admin" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/06/1.-Install-PowerDNS-PowerDNS-Admin-1.webp 775w, https://blog.eldernode.com/wp-content/uploads/2022/06/1.-Install-PowerDNS-PowerDNS-Admin-1-300x217.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/06/1.-Install-PowerDNS-PowerDNS-Admin-1-768x555.webp 768w" data-sizes="(max-width: 775px) 100vw, 775px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/06/1.-Install-PowerDNS-PowerDNS-Admin-1.webp"/></p><p> </p><p>填写信息并点击<strong>注册</strong>以创建用户管理员:</p><p> </p><p><img data-lazyloaded="1" src="../Images/0a8d930c8bb3ddddcec3e2e976c3a954.png" decoding="async" loading="lazy" class="aligncenter wp-image-37603 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/06/2.-Create-User-admin.webp" alt="Create-User-admin" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/06/2.-Create-User-admin.webp 408w, https://blog.eldernode.com/wp-content/uploads/2022/06/2.-Create-User-admin-220x300.webp 220w" data-sizes="(max-width: 408px) 100vw, 408px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/06/2.-Create-User-admin.webp"/></p><p> </p><p>在<strong>创建帐户</strong>后，使用它登录到PowerDNS管理界面:</p><p> </p><p><img data-lazyloaded="1" src="../Images/40afe98de10d150b5781ebe0de784881.png" decoding="async" loading="lazy" class="aligncenter wp-image-37604 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/06/3.-login-PowerDNS-Admin-interface.webp" alt="login-PowerDNS-Admin-interface" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/06/3.-login-PowerDNS-Admin-interface.webp 489w, https://blog.eldernode.com/wp-content/uploads/2022/06/3.-login-PowerDNS-Admin-interface-300x262.webp 300w" data-sizes="(max-width: 489px) 100vw, 489px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/06/3.-login-PowerDNS-Admin-interface.webp"/></p><p> </p><p>现在，您应该提供API密钥URL<strong>http://your-IP address:8081</strong>和在PowerDNS配置文件中定义的API密钥来管理PowerDNS服务器。如果点击<strong>更新</strong>，错误将会消失:</p><p> </p><p><img data-lazyloaded="1" src="../Images/9cf462a114f42a44e1f4a4a1f11eaffc.png" decoding="async" loading="lazy" class="aligncenter wp-image-37606 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/06/4.-API-Key-URLAPI-Key-defined-in-PowerDNS-configfile.webp" alt="API-Key-URL&amp;API-Key-defined-in--PowerDNS-config file" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/06/4.-API-Key-URLAPI-Key-defined-in-PowerDNS-configfile.webp 1044w, https://blog.eldernode.com/wp-content/uploads/2022/06/4.-API-Key-URLAPI-Key-defined-in-PowerDNS-configfile-300x164.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/06/4.-API-Key-URLAPI-Key-defined-in-PowerDNS-configfile-1024x560.webp 1024w, https://blog.eldernode.com/wp-content/uploads/2022/06/4.-API-Key-URLAPI-Key-defined-in-PowerDNS-configfile-768x420.webp 768w" data-sizes="(max-width: 1044px) 100vw, 1044px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/06/4.-API-Key-URLAPI-Key-defined-in-PowerDNS-configfile.webp"/></p><p> </p><p><strong> PowerDNS管理仪表板</strong>应该如下所示。点击<strong> +新域</strong>创建一个新域:</p><p> </p><p><img data-lazyloaded="1" src="../Images/56fc071070c626d59e7166336c970b46.png" decoding="async" loading="lazy" class="aligncenter wp-image-37607 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/06/5.-PowerDNSAdmin-dashboar.webp" alt="PowerDNSAdmin-dashboard" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/06/5.-PowerDNSAdmin-dashboar.webp 1274w, https://blog.eldernode.com/wp-content/uploads/2022/06/5.-PowerDNSAdmin-dashboar-300x172.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/06/5.-PowerDNSAdmin-dashboar-1024x588.webp 1024w, https://blog.eldernode.com/wp-content/uploads/2022/06/5.-PowerDNSAdmin-dashboar-768x441.webp 768w" data-sizes="(max-width: 1274px) 100vw, 1274px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/06/5.-PowerDNSAdmin-dashboar.webp"/></p><p> </p><p>现在您应该输入<strong>域名</strong>并从模板列表中选择要使用的模板并提交。然后，您的域将添加如下:</p><p> </p><p><img data-lazyloaded="1" src="../Images/d3c66016f203bde0406afad93e2004db.png" decoding="async" loading="lazy" class="aligncenter wp-image-37614 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/06/6.-New-domain-user-1.webp" alt="New-domain-user on powerdns-admin" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/06/6.-New-domain-user-1.webp 587w, https://blog.eldernode.com/wp-content/uploads/2022/06/6.-New-domain-user-1-250x300.webp 250w" data-sizes="(max-width: 587px) 100vw, 587px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/06/6.-New-domain-user-1.webp"/></p><p> </p><p>点击域添加记录。然后点击<strong>添加记录+ </strong>，输入记录名称。按<strong>保存</strong>和<strong>应用更改</strong>:</p><p> </p><p><img data-lazyloaded="1" src="../Images/286dd3014087a45b3325c1b1f6a04d67.png" decoding="async" loading="lazy" class="aligncenter wp-image-37661 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/06/7.-Add-records-domain-1.webp" alt="Add-records-domain on powerdns admin" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/06/7.-Add-records-domain-1.webp 1039w, https://blog.eldernode.com/wp-content/uploads/2022/06/7.-Add-records-domain-1-300x125.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/06/7.-Add-records-domain-1-1024x428.webp 1024w, https://blog.eldernode.com/wp-content/uploads/2022/06/7.-Add-records-domain-1-768x321.webp 768w" data-sizes="(max-width: 1039px) 100vw, 1039px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/06/7.-Add-records-domain-1.webp"/></p><p>就是这样！</p><p><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></p><h2>PowerDNS是一个DNS服务器，您可以使用PowerDNS Admin web UI进行许多配置，例如删除域、编辑域模板等。在本文中，我们教你在Debian 11上安装PowerDNS和PowerDNS Admin。我希望这篇教程对你有用。如有疑问，可在评论中联系我们。</h2><p>PowerDNS is a DNS server and you can make many configurations using the PowerDNS Admin web UI such as removing domains, editing the domain templates and etc. In this article, we taught you to Install PowerDNS and PowerDNS Admin on Debian 11. I hope this tutorial was useful for you. If you have any questions, you can contact us in the Comments.</p></div></div>    
</body>
</html>