<html>
<head>
<title>How to Setup an OpenVPN Server on Ubuntu 22.04 - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在Ubuntu 22.04 - Eldernode博客上设置OpenVPN服务器</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/setup-an-openvpn-server-on-ubuntu-22-04/#0001-01-01">https://blog.eldernode.com/setup-an-openvpn-server-on-ubuntu-22-04/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/ab7ef0c6707de03b911df9cec243376f.png" data-src="https://blog.eldernode.com/wp-content/uploads/2022/05/How-to-Setup-an-OpenVPN-Server-on-Ubuntu-22.04.webp" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="How to Setup an OpenVPN Server on Ubuntu 22.04" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/05/How-to-Setup-an-OpenVPN-Server-on-Ubuntu-22.04.webp 2069w, https://blog.eldernode.com/wp-content/uploads/2022/05/How-to-Setup-an-OpenVPN-Server-on-Ubuntu-22.04-300x164.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/05/How-to-Setup-an-OpenVPN-Server-on-Ubuntu-22.04-1024x561.webp 1024w, https://blog.eldernode.com/wp-content/uploads/2022/05/How-to-Setup-an-OpenVPN-Server-on-Ubuntu-22.04-768x421.webp 768w, https://blog.eldernode.com/wp-content/uploads/2022/05/How-to-Setup-an-OpenVPN-Server-on-Ubuntu-22.04-1536x842.webp 1536w, https://blog.eldernode.com/wp-content/uploads/2022/05/How-to-Setup-an-OpenVPN-Server-on-Ubuntu-22.04-2048x1122.webp 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/05/How-to-Setup-an-OpenVPN-Server-on-Ubuntu-22.04.webp"/><p>OpenVpn是目前作为Vpn使用的最流行的协议，你检查的任何VPN提供商肯定会在他们的协议列表中有这项服务。甚至一些提供商满足于这个协议，只提供OpenVPN。加入我们这篇文章，教你如何在Ubuntu 22.04 上设置OpenVPN服务器。如果你想购买一台<strong> <a href="https://eldernode.com/ubuntu-vps/"> Ubuntu VPS </a> </strong>服务器，你可以查看<a href="https://eldernode.com/"> Eldernode </a>网站上提供的软件包。</p><h2><span class="ez-toc-section" id="Tutorial_Install_OpenVPN_Server_on_Ubuntu_2204"/> <strong>教程在Ubuntu 22.04上安装OpenVPN服务器</strong>T3】</h2><h3><span class="ez-toc-section" id="Introduction_to_OpenVPN"/><strong>OpenVPN简介</strong> <span class="ez-toc-section-end"/></h3><p>OpenVPN是一个商业开源软件，允许您实现点对点或站点到站点的VPN。OpenVPN是最安全的过滤协议之一，由于其开源的特性而不能被阻塞，并且具有高度的灵活性。OpenVPN协议可以基于TCP协议建立自己的加密隧道以获得最大的可靠性，或者基于UDP以提高速度。</p><p>在本文的续篇中，在提到OpenVPN的一些好处之后，我们将一步一步的教你如何在<a href="https://blog.eldernode.com/tag/ubuntu/"> Ubuntu </a> 22.04上设置OpenVPN服务器。</p><h3><span class="ez-toc-section" id="OpenVPN_Advantages"/> <strong> OpenVPN优势</strong> <span class="ez-toc-section-end"/></h3><p>-&gt;非常安全</p><p>-&gt;难以阻挡</p><p>-&gt;完全控制连接</p><p>-&gt;完全支持领先隐私</p><p>-&gt;针对奸商的数据保护</p><p>-&gt;兼容多种操作系统</p><h2><span class="ez-toc-section" id="Setup_an_OpenVPN_server_on_Ubuntu_2204"/> <strong>在Ubuntu 22.04上安装OpenVPN服务器</strong> <span class="ez-toc-section-end"/></h2><p>对于没有使用Linux和VPN经验的新用户来说，通过手动过程设置OpenVPN 可能是一个挑战。本指南展示了在Ubuntu 22.04上安装OpenVPN服务器的简单方法。这是一个脚本化的方法，因此任何具有Linux基础知识的人都可以遵循它:</p><p>在第一步中，在命令行终端中键入以下命令并开始安装:</p><pre><code class="language-bash">sudo apt update  </code></pre><pre><code class="language-bash">sudo apt install openvpn</code></pre><p>然后<strong>创建一个静态密钥</strong>用于VPN隧道加密:</p><pre><code class="language-bash">openvpn --genkey --secret static-OpenVPN.key</code></pre><p>现在设置一个OpenVPN服务器来接收传入的连接请求:</p><pre><code class="language-bash">sudo openvpn --dev tun --ifconfig your_ip_address_1 your_ip_address_2 --cipher AES-256-CBC --secret static-OpenVPN.key &amp;</code></pre><p>注意，在上面的命令中，不是<strong> your_ip_address_1 </strong>和<strong> your_ip_address_2 </strong>，而是键入您想要的ip地址。通过执行上述命令，您不需要打开终端来运行此服务。</p><p>现在您的系统有了一个新的网络接口，名为tun0，带有您的IP地址。键入以下命令进行确认:</p><pre><code class="language-bash">ip a show tun0</code></pre><p>然后检查系统上的<strong> UDP端口1194 </strong>是否打开，以确保VPN服务器正常工作:</p><pre><code class="language-bash">netstat -anu | grep 1194</code></pre><p>最后输入以下命令来配置<strong> Ubuntu的UFW防火墙</strong>以允许UDP 1194端口上的传入连接:</p><pre><code class="language-bash">sudo ufw allow from any to any port 1194 proto udp</code></pre><h3><span class="ez-toc-section" id="How_to_Connect_to_the_OpenVPN_Server_Using_the_OpenVPN_Client"/> <strong>如何使用OpenVPN客户端</strong>连接到OpenVPN服务器<span class="ez-toc-section-end"/></h3><p>现在按照本节中的步骤使用OpenVPN客户端连接到OpenVPN服务器。</p><p>打开终端，输入以下命令<strong>开始安装OpenVPN服务器</strong>:</p><pre><code class="language-bash">sudo apt install openvpn</code></pre><p>在下一步中，您的客户端设备需要一个OpenVPN服务器来连接到<strong> static-OpenVPN.key </strong>加密密钥文件。使用以下命令通过<strong> scp </strong>传输文件:</p><pre><code class="language-bash">scp <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="80c5f6e5ecf9eec0e5ece4e5f2eeefe4e5">[email protected]</a>:/home/Evelyn/static-OpenVPN.key .</code></pre><p>现在使用这个命令<strong>创建一个到服务器的VPN隧道</strong>，但是将<strong>YOUR-OPENVPN-SERVER-IP-OR-HOST</strong>字符串替换为您所连接的VPN服务器的IP地址或主机名:</p><pre><code class="language-bash">sudo openvpn --remote YOUR-OPENVPN-SERVER-IP-OR-HOST --dev tun --ifconfig your_ip_address_1 your_ip_address_2 --cipher AES-256-CBC --secret static-OpenVPN.key &amp;</code></pre><p>创建VPN隧道后，您将看到以下消息:</p><pre><code class="language-bash">Initialization Sequence Completed</code></pre><p>最后，ping远程网络上的主机，以连接到VPN服务器:</p><pre><code class="language-bash">ping -c 1 your_ip_address  </code></pre><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>在本文中，我们学习了如何使用脚本方法在Ubuntu 22.04上设置OpenVPN服务器，任何具有Linux基础知识的人都可以遵循它。这样，您可以在服务器和客户机之间建立安全的VPN连接。</p></div></div>    
</body>
</html>