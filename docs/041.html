<html>
<head>
<title>How To Install Composer on Debian 10 with 5 Step [complete] - Eldernode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在Debian 10上安装Composer 5步[完成] - Eldernode</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/install-composer-debian-10/#0001-01-01">https://blog.eldernode.com/install-composer-debian-10/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/8ebb2c55180fd5143bfbe28b5b4979b3.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/09/IMG_1971.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="How To Install Composer on Debian 10 with 5 Step [complete]" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/09/IMG_1971.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/09/IMG_1971-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/09/IMG_1971-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/09/IMG_1971-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/09/IMG_1971-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/09/IMG_1971-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/09/IMG_1971.png"/><p>Composer是一个流行的PHP依赖项管理工具，主要用于方便项目依赖项的安装和更新。它将检查一个特定的项目依赖于哪些其他的包，并根据项目需求使用合适的版本为您安装它们。Composer也常用于引导基于流行PHP框架的新项目，如<a href="https://symfony.com/"> Symfony </a>和<a href="https://laravel.com/"> Laravel </a>。不要错过最强大的<a href="https://eldernode.com/linux-hosting/" target="_blank" rel="noopener noreferrer"> Linux主机</a>来享受与您的研究工作。</p><h2/><p>为了让本教程更好地发挥作用，请考虑以下<strong>先决条件</strong>:</p><p>一个拥有<span> sudo </span>权限<br/>的非根用户来设置，遵循我们的<a href="https://eldernode.com/initial-setup-with-debian-10/" target="_blank" rel="noopener noreferrer">Debian 10</a>的初始设置</p><p> </p><p> </p><h2><span class="ez-toc-section" id="How_To_Install_Composer_on_Debian_10_with_5_Step_complete"/>如何用5个步骤在Debian 10上安装Composer【完成】<span class="ez-toc-section-end"/></h2><p>加入我们的指南，开始学习如何在Debian 10上安装和使用Composer。</p><p> </p><h3 id="step-1-—-installing-the-dependencies"><span class="ez-toc-section" id="Step_1_Installing_the_Dependencies"/>步骤1:安装依赖项<span class="ez-toc-section-end"/></h3><p>在下载和安装Composer之前，请确保您的服务器已经安装了所有依赖项。</p><p>首先，通过运行以下命令更新软件包管理器缓存:</p><pre><code class="language-bash">sudo apt update</code></pre><p>现在，让我们安装依赖项。你需要<span> curl </span>来下载Composer和<span> php-cli </span>来安装和运行它。<span> php-mbstring </span>包是为您将要使用的库提供函数所必需的。<span> <strong> git </strong> </span>由Composer用于下载项目依赖项，而<span> <strong> unzip </strong> </span>用于提取压缩的包。所有东西都可以用下面的命令安装:</p><pre><code class="language-bash">sudo apt install curl php-cli php-mbstring git unzip</code></pre><p>安装了必备组件后，您可以安装Composer本身。</p><p> </p><p> </p><p> </p><h3 id="step-2-—-downloading-and-installing-composer"><span class="ez-toc-section" id="Step_2_Downloading_and_Installing_Composer"/>第二步:下载并安装Composer <span class="ez-toc-section-end"/></h3><p>Composer提供了一个用PHP编写的<strong>安装程序</strong>。您将下载它，验证它没有损坏，然后用它来安装Composer。</p><p>确保您在您的主目录中，然后使用<span> <strong> curl </strong> </span>检索安装程序:</p><pre><code class="language-bash">cd ~</code></pre><pre><code class="language-bash">curl -sS https://getcomposer.org/installer -o composer-setup.php</code></pre><p>接下来，验证安装程序是否与[Composer公钥/签名][composer-sigs]页面上找到的最新安装程序的SHA-384哈希相匹配。从该页面复制散列并将其存储为一个shell变量:</p><pre><code class="language-bash">HASH=<span class="highlight">48e3236262b34d30969dca3c37281b3b4bbe3221bda826ac6a9a62d6444cdb0dcd</span>0615698a5cbe587c3f0fe57a54d8f5</code></pre><p>确保用最新的散列值替换上面一行的值。</p><p>现在执行下面的PHP脚本，验证安装脚本可以安全运行:</p><pre><code class="language-bash">php -r "if (hash_file('SHA384', 'composer-setup.php') === '$HASH') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;"</code></pre><p class="code-label" title="Output"><span>输出</span></p><pre><code class="language-bash">Installer verified  </code></pre><p>如果您看到<span>安装程序损坏了</span>，那么您需要再次下载安装脚本，并再次检查您是否使用了正确的哈希。然后运行命令再次验证安装程序。一旦您有一个经过验证的安装程序，您可以继续。</p><p>要全局安装<span> composer </span>，请使用以下命令，该命令将composer作为名为<span> composer </span>的系统级命令下载并安装在<span> /usr/local/bin </span>下:</p><pre><code class="language-bash">sudo php composer-setup.php --install-dir=/usr/local/bin --filename=<span>composer</span></code></pre><p><span>输出</span></p><pre><code class="language-bash">All settings correct for using Composer  Downloading...    Composer (version 1.8.6) successfully installed to: /usr/local/bin/composer  Use it: php /usr/local/bin/composer</code></pre><p>要测试您的安装，请运行:</p><pre><code class="language-bash">composer</code></pre><p title="Output"><span>输出</span></p><pre><code class="language-bash">   ______    / ____/___  ____ ___  ____  ____  ________  _____   / /   / __ \/ __ `__ \/ __ \/ __ \/ ___/ _ \/ ___/  / /___/ /_/ / / / / / / /_/ / /_/ (__  )  __/ /  \____/\____/_/ /_/ /_/ .___/\____/____/\___/_/                      /_/  Composer version 1.8.6 2019-06-11 15:03:05    Usage:    command [options] [arguments]    Options:    -h, --help                     Display this help message    -q, --quiet                    Do not output any message    -V, --version                  Display this application version        --ansi                     Force ANSI output        --no-ansi                  Disable ANSI output    -n, --no-interaction           Do not ask any interactive question        --profile                  Display timing and memory usage information        --no-plugins               Whether to disable plugins.    -d, --working-dir=WORKING-DIR  If specified, use the given directory as working directory.    -v|vv|vvv, --verbose           Increase the verbosity of messages: 1 for normal output, 2 for more verbose output and 3 for debug      . . .</code></pre><p>这验证了Composer已成功安装在您的系统上，并且在系统范围内可用。</p><p><strong> <em>注意</em> : </strong>如果您希望在这个服务器上为您托管的每个项目拥有单独的Composer可执行文件，那么您可以基于每个项目在本地安装它。NPM的用户将熟悉这种方法。当您的系统用户没有权限在系统范围内安装软件时，这种方法也很有用。</p><p>为此，使用命令<span>PHP composer-setup.php</span>。这会在你当前的目录下生成一个<span> composer.phar </span>文件，可以用<span>执行。/composer.phar </span>命令。</p><p>现在让我们看看如何使用Composer来管理PHP依赖项。</p><p> </p><p> </p><p> </p><p><span class="ez-toc-section" id="Step_3_Using_the_Composer_in_a_PHP_Project"/>步骤3:在PHP项目中使用Composer<span class="ez-toc-section-end"/></p><h3>PHP项目通常依赖于外部库，管理这些依赖关系和它们的版本可能会很棘手。Composer通过跟踪您的依赖项并使其他人易于安装它们来解决这个问题。</h3><p>为了在您的项目中使用Composer，您需要一个<span> <strong> composer.json </strong> </span>文件。<span> <strong> composer.json </strong> </span>文件告诉composer它需要为您的项目下载哪些依赖项，以及允许安装每个包的哪些版本。这对于保持项目的一致性和避免安装可能导致向后兼容问题的不稳定版本非常重要。</p><p>您不需要手动创建这个文件——这样做很容易遇到语法错误。当您使用<span> require </span>命令向项目添加依赖项时，Composer会自动生成<span> composer.json </span>文件。您可以用同样的方式添加其他依赖项，而无需手动编辑该文件。</p><p>使用Composer将软件包作为依赖项安装到项目中的过程包括以下步骤:</p><p><strong>确定</strong>应用程序需要什么样的库。</p><p><strong>研究</strong>Packagist.org上合适的开源库，Composer的官方软件包库。</p><p><strong>选择</strong>你要依赖的包。</p><p>运行composer要求在composer.json文件中包含依赖项并安装软件包。</p><p>让我们用一个演示应用程序来尝试一下。</p><p>这个应用程序的目标是将一个给定的句子转换成一个URL友好的字符串——slug。这通常用于将页面标题转换为URL路径(就像本教程中URL的最后一部分)。</p><p>让我们首先为我们的项目创建一个目录。你将称之为<strong> slugify </strong>:</p><p>现在是时候在Packagist.org搜索一个可以帮助我们生成slugs的软件包了。如果您在Packagist上搜索术语“slug ”,您会得到与此类似的结果:</p><pre><code class="language-bash">cd ~  mkdir slugify  cd slugify</code></pre><p> </p><p><img data-lazyloaded="1" src="../Images/0987179ed5799c0ce8db66325496d7c2.png" decoding="async" loading="lazy" class="aligncenter wp-image-12156 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/09/packagist_slug_search.jpg" alt="packagist slug search page" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/09/packagist_slug_search.jpg 1224w, https://blog.eldernode.com/wp-content/uploads/2020/09/packagist_slug_search-300x240.jpg 300w, https://blog.eldernode.com/wp-content/uploads/2020/09/packagist_slug_search-1024x819.jpg 1024w, https://blog.eldernode.com/wp-content/uploads/2020/09/packagist_slug_search-768x614.jpg 768w" data-sizes="(max-width: 1224px) 100vw, 1224px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/09/packagist_slug_search.jpg"/></p><p><img data-lazyloaded="1" src="../Images/0987179ed5799c0ce8db66325496d7c2.png" decoding="async" loading="lazy" class="aligncenter wp-image-12156 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/09/packagist_slug_search.jpg" alt="packagist slug search page" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/09/packagist_slug_search.jpg 1224w, https://blog.eldernode.com/wp-content/uploads/2020/09/packagist_slug_search-300x240.jpg 300w, https://blog.eldernode.com/wp-content/uploads/2020/09/packagist_slug_search-1024x819.jpg 1024w, https://blog.eldernode.com/wp-content/uploads/2020/09/packagist_slug_search-768x614.jpg 768w" data-sizes="(max-width: 1224px) 100vw, 1224px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/09/packagist_slug_search.jpg"/></p><h5>您会在列表中每个包裹的右侧看到两个数字。顶部的数字代表软件包安装的次数，底部的数字显示软件包在<strong> GitHub </strong>上被标星的次数。您还可以根据这些数字对搜索结果进行重新排序(在搜索栏的右侧寻找两个图标)。一般来说，安装越多，明星越多的软件包往往越稳定，因为有这么多人在用。检查软件包描述的相关性以确保它是您所需要的也很重要。</h5><p>你需要一个简单的串-段转换器。从搜索结果来看，包<span> cocur/slugify </span>似乎是个不错的搭配，安装量和星级都比较合理。</p><p>Packagist上的软件包有一个供应商名称和一个软件包名称。每个包都有一个惟一的标识符(一个名称空间),格式与GitHub用于其存储库的格式相同，都是vendor/package格式。您要安装的库使用名称空间<span> cocur/slugif </span>。您需要命名空间，以便在项目中需要该包。</p><p>现在您已经确切地知道了您想要安装哪个包，运行<span> composer需要</span>将它作为一个依赖项包含进来，并为项目生成<span> composer.json </span>文件:</p><p><span>输出</span></p><pre><code class="language-bash">composer require cocur/slugify</code></pre><p title="Output">从输出中可以看到，Composer自动决定使用哪个版本的包。如果您现在检查您的项目目录，它将包含两个新文件:<span> composer.json </span>和<span> composer.lock </span>，以及一个<span>供应商</span>目录:</p><pre><code class="language-bash">Using version ^3.2 for cocur/slugify  ./composer.json has been created  Loading composer repositories with package information  Updating dependencies (including require-dev)  Package operations: 1 install, 0 updates, 0 removals    - Installing cocur/slugify (v3.2): Downloading (100%)           Writing lock file  Generating autoload files</code></pre><p>ls -l</p><p><span>输出</span></p><p><span> composer.lock </span>文件用于存储关于每个包安装了哪些版本的信息，并确保如果其他人克隆您的项目并安装其依赖项时使用相同的版本。<span> <strong>厂商</strong> </span>目录是项目依赖所在的目录。<span> <strong> vendor </strong> </span>文件夹不需要提交版本控制——你只需要包含<strong> composer.json </strong>和<strong> composer.lock </strong>文件。</p><p title="Output">当安装一个已经包含一个<span> composer.json </span>文件的项目时，运行<span> composer install </span>来下载项目的依赖项。</p><pre><code class="language-bash">total 12  -rw-r--r-- 1 noodi noodi   59 jul 15 13:53 composer.json  -rw-r--r-- 1 noodi noodi 2952 jul 15 13:53 composer.lock  drwxr-xr-x 4 noodi noodi 4096 jul 15 13:53 vendor</code></pre><pre><code class="language-bash"/></pre><p>让我们快速看一下版本约束。如果您检查您的<span> composer.json </span>文件的内容，您会看到类似这样的内容:</p><p><span>输出</span></p><p>您可能会注意到<span> composer.json </span>中版本号前的特殊字符<span><strong/></span>。Composer支持几种不同的约束和格式来定义所需的包版本，以便在保持项目稳定的同时提供灵活性。自动生成的<span> composer.json </span>文件使用的脱字符(<span> <strong> ^ </strong> </span>)操作符是最大互操作性的推荐操作符，遵循<strong>语义版本</strong>。在这种情况下，它将<strong> 3.2 </strong>定义为最低兼容版本，并允许更新到低于<strong> 4.0 </strong>的任何未来版本。</p><pre><code class="language-bash"><span>cat composer.json</span></code></pre><p title="Output">一般来说，您不需要篡改您的<span> composer.json </span>文件中的版本约束。然而，某些情况下可能需要您手动编辑约束——例如，当您所需库的主要新版本发布并且您想要升级时，或者当您想要使用的库不遵循语义版本化时。</p><pre><code class="language-bash">{      "require": {          "cocur/slugify": "^3.2"      }  }</code></pre><div><p>以下是一些示例，可以让您更好地理解Composer版本约束的工作原理:</p><p><strong>约束</strong> <strong>意为允许的示例版本</strong></p><p>^1.0                                        &gt;= 1.0 &lt; 2.0                1.0, 1.2.3, 1.9.9</p><p>^1.1.0                                     &gt;= 1.1.0 &lt; 2.0             1.1.0, 1.5.6, 1.9.9</p></div><p>~1.0                                        &gt;= 1.0 &lt; 2.0.0            1.0, 1.4.1, 1.9.9</p><p>~1.0.0                                     &gt;= 1.0.0 &lt; 1.1            1.0.0, 1.0.4, 1.0.9</p><p>1.2.1                                        1.2.1                             1.2.1</p><p>1.*                                           &gt;= 1.0 &lt; 2.0               1.0.0, 1.4.5, 1.9.9</p><p>1.2.*                                        &gt;= 1.2 &lt; 1.3                1.2.0, 1.2.3, 1.2.9</p><p> </p><p> </p><p> </p><p><span class="ez-toc-section" id="Step_4_Including_the_Autoload_Script"/>步骤4:包括自动加载脚本<span class="ez-toc-section-end"/></p><p>由于PHP本身不会自动加载类，Composer提供了一个自动加载脚本，您可以将它包含在您的项目中以免费获得自动加载。这使得处理依赖关系更加容易。</p><p>在任何类实例化之前，您唯一需要做的事情就是在php脚本中包含<span> vendor/autoload.php </span>文件。当您添加第一个依赖项时，编写器会自动生成该文件。</p><h3>让我们在应用程序中尝试一下。创建文件<span>test.php</span>并在你的文本编辑器中打开它:</h3><p>添加以下代码，该代码引入了<span> vendor/autoload.php </span>文件，加载了<span> <strong> cocur/slugify </strong> </span>依赖项，并使用它创建了一个slug:</p><p>test.php</p><p>保存文件并退出编辑器。</p><pre><code class="language-bash">nano test.php</code></pre><p>现在运行脚本:</p><p class="code-label" title="test.php">这产生了输出<span>hello-world-this-is-a-long-sentence and I-need-make-a-slug-from it。</span></p><pre><code class="language-bash">&lt;?php  require __DIR__ . '/vendor/autoload.php';  use Cocur\Slugify\Slugify;    $slugify = new Slugify();    echo $slugify-&gt;slugify('Hello World, this is a long sentence and I need to make a slug from it!');</code></pre><p>当新版本出现时，依赖项需要更新，所以让我们看看如何处理这一点。</p><p> </p><pre><code class="language-bash">php test.php</code></pre><p> </p><p><span class="ez-toc-section" id="Step_5_Updating_Project_Dependencies"/>步骤5:更新项目依赖关系<span class="ez-toc-section-end"/></p><p>最后，请继续阅读，回顾在Debian 10上安装Composer的最新步骤。每当您想要将项目依赖项更新到最新版本时，运行<span> update </span>命令:</p><pre><code class="language-bash"/></pre><p>这将检查项目中所需库的较新版本。如果发现新版本，并且它与<span> composer.json </span>文件中定义的版本约束兼容，composer将替换先前安装的版本。将更新<span> composer.lock </span>文件以反映这些变化。</p><h3 id="step-5-—-updating-project-dependencies">您也可以通过如下指定来更新一个或多个特定的库:</h3><p>因此，在更新了依赖项之后，一定要提交对您的<span> composer.json </span>和<span> composer.lock </span>文件的更改，这样项目中的任何人都可以访问相同的包版本。</p><pre><code class="language-bash">composer update</code></pre><p> </p><p> </p><pre><code class="language-bash">composer update vendor/package vendor2/package2</code></pre><p> </p><p><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></p><p>在本文中，您了解了如何在Debian 10上安装Composer。composer是每个PHP开发人员都应该拥有的强大工具。在本教程中，您在Debian 10上安装了Composer，并在一个简单的项目中使用了它。现在，您知道了如何安装和更新依赖项。除了提供一种简单可靠的方法来管理项目依赖，它还为共享和发现社区创建的PHP包建立了一个新的事实上的标准。如果你有兴趣阅读更多相关文章，可以找到我们的文章<a href="https://blog.eldernode.com/install-laravel-on-ubuntu-20-04-lts/" target="_blank" rel="noopener noreferrer">如何在Ubuntu 20.04 LTS上安装Laravel【完整】</a>。</p><p> </p><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>在本文中，您了解了如何在Debian 10上安装Composer。composer是每个PHP开发人员都应该拥有的强大工具。在本教程中，您在Debian 10上安装了Composer，并在一个简单的项目中使用了它。现在，您知道了如何安装和更新依赖项。除了提供一种简单可靠的方法来管理项目依赖，它还为共享和发现社区创建的PHP包建立了一个新的事实上的标准。如果你有兴趣阅读更多相关文章，可以找到我们的文章<a href="https://blog.eldernode.com/install-laravel-on-ubuntu-20-04-lts/" target="_blank" rel="noopener noreferrer">如何在Ubuntu 20.04 LTS上安装Laravel【完整】</a>。</p></div></div>    
</body>
</html>