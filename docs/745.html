<html>
<head>
<title>Tutorial Nmap Commands [Complete] - ElderNode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>教程Nmap命令[完整] - ElderNode博客</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/tutorial-nmap-commands/#0001-01-01">https://blog.eldernode.com/tutorial-nmap-commands/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/a0671773be7740c5cc01d47c752f8169.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/06/IMG_2325.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Tutorial Nmap commands" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/06/IMG_2325.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/06/IMG_2325-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/06/IMG_2325-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/06/IMG_2325-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/06/IMG_2325-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/06/IMG_2325-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/06/IMG_2325.png"/><p>Nmap是一个免费的开源网络映射器。这种最流行的网络扫描器用于网络发现和安全审计。作为管理员，您可以使用这个网络发现工具来映射您的网络。Nmap对于在家托管网站的用户也很有价值，因为他们可以模拟黑客攻击他们网站的过程。安装Nmap时，您需要知道一些命令来执行一些基本的网络扫描。这篇文章介绍了教程Nmap命令。要购买您自己的<a href="https://eldernode.com/linux-vps/" target="_blank" rel="noopener"> Linux VPS </a>，请访问<a href="https://eldernode.com/" target="_blank" rel="noopener"> Eldernode </a>的可用包并订购您需要的东西。</p><h2><span class="ez-toc-section" id="Nmap_Commands"/> <strong> Nmap命令</strong> <span class="ez-toc-section-end"/></h2><h3><span class="ez-toc-section" id="What_is_Nmap"/> <strong>什么是Nmap </strong> <span class="ez-toc-section-end"/></h3><p>Nmap是一个开源的免费工具，它使网络发现和安全。网络管理系统发现<strong>网络映射器(Nmap) </strong>对于管理服务升级计划、监控主机或服务正常运行时间以及网络清单等任务非常有用。Nmap也是灵活的、强大的、可移植的、简单的、免费的、有良好文档记录的、受支持的、受欢迎的。为了确定网络上可用的主机，map以一种新颖的方式使用row IP数据包。它旨在快速扫描大型网络，并适用于单个主机。</p><h3><span class="ez-toc-section" id="Nmap_Features"/> <strong> Nmap特性</strong> <span class="ez-toc-section-end"/></h3><p>Nmap提供了一些探测计算机网络的功能。以下是Nmap软件最广泛使用的功能。您可以通过<strong> -h </strong>开关获得其他功能和信息。让我们在下面的列表中回顾其中的一些:</p><p>1-快速扫描所有端口</p><p>2-目标操作系统识别</p><p>3-发送匿名数据包以过滤防火墙</p><p>4-扫描特定范围端口的能力</p><p>5-欺骗功能</p><p>6-能够以不同格式保存扫描结果</p><p>7-能够设置TTL来过滤智能防火墙</p><p>8-为云安全扫描发送数据包的能力</p><p>9-通过开放端口识别服务的能力</p><p>10-调整各种扫描技术的能力</p><h2 dir="ltr" data-placeholder="Translation"><span class="ez-toc-section" id="Top_Nmap_Commands_with_Examples"/> <strong>顶级Nmap命令示例</strong> <span class="ez-toc-section-end"/></h2><p>安装Nmap后，您需要使用Nmap命令开始扫描主机或网络，找出主机中任何可能的漏洞。例如，在命令中输入的IP地址，您可以输入您的IP地址。注意大小写字母。此外，所有命令都可以在Windows和<a href="https://blog.eldernode.com/tag/linux/"> Linux </a>操作系统上运行。</p><p data-placeholder="Translation">和我们一起回顾Linux网络中最好的Nmap命令和例子。</p><h3><span class="ez-toc-section" id="Nmap_Ping_Scan_Command"/> <strong> Nmap Ping扫描命令</strong> <span class="ez-toc-section-end"/></h3><p>Nmap最基本的功能是识别网络中的活动主机。Ping扫描允许Nmap执行此操作，并识别所有在线的IP地址，而不向这些主机发送任何数据包。您可以使用下面的命令<strong>运行ping扫描</strong>并查看哪些服务器是活动的:</p><pre><code class="language-bash">nmap -sp 192.100.1.1/24</code></pre><p>此外，它还会返回网络中主机的列表以及分配的IP地址总数。因此，您可以运行以下命令来查看网络上每个活动IP的返回信息:</p><pre><code class="language-bash">#</code></pre><h3><span class="ez-toc-section" id="Nmap_Host_Scan_Commands"/> <strong> Nmap主机扫描命令</strong> <span class="ez-toc-section-end"/></h3><p>主机扫描是一种更强大的扫描网络的方式，因为它向连接到您网络的所有主机发送<strong> ARP请求数据包</strong>。然后，每台主机用另一个包含其状态和MAC地址的ARP数据包来响应此数据包。</p><p>使用以下命令<strong>运行主机扫描</strong>:</p><pre><code class="language-bash">nmap -sp &lt;target IP range&gt;</code></pre><p>您可以使用此命令作为发现连接到您网络的可疑主机的有效方法。使用此命令，您可以返回关于每台主机的信息、它们的延迟、它们的MAC地址以及与此地址相关的任何描述。</p><p><strong> <em>注意</em> : </strong>在这个列表中你可能会面临一个不寻常的问题。因此，使用以下命令在特定主机上运行DNS查询:</p><pre><code class="language-bash"><span class="co1">namp -sL &lt;IP address&gt;</span></code></pre><p>您将会看到有关IP实际用途的信息，因为上面的命令会返回与扫描的IP相关的名称列表。</p><h3><span class="ez-toc-section" id="Nmap_Port_Scanning_Commands"/> <strong> Nmap端口扫描命令</strong> <span class="ez-toc-section-end"/></h3><p>可以使用Nmap进行<a href="https://blog.eldernode.com/scan-ports-with-sctp-on-nmap/" target="_blank" rel="noopener"> <strong>端口扫描</strong> </a>。以下是最常用的命令:</p><pre><code class="language-bash">sS TCP SYN scan</code></pre><pre><code class="language-bash">sT TCP connect scan</code></pre><pre><code class="language-bash">sU UDP scans</code></pre><pre><code class="language-bash">sY SCTP INIT scan</code></pre><pre><code class="language-bash">sN TCP NULL</code></pre><p>这些类型的扫描之间的区别在于它们是否覆盖<a href="https://blog.eldernode.com/watch-tcp-udp-ports/" target="_blank" rel="noopener"> TCP或UDP </a>端口，以及它们是否执行TCP连接。</p><h3><span class="ez-toc-section" id="Nmap_OS_Scanning_Commands"/> <strong> Nmap OS扫描命令</strong> <span class="ez-toc-section-end"/></h3><p>Nmap的另一个强大功能是操作系统扫描。Nmap可以在使用这种类型的扫描时将TCP和UDP数据包发送到特定端口，然后分析其响应。最后，通过将响应与包含2600个操作系统的数据库进行比较，返回有关主机操作系统(和版本)的信息。</p><p>您可以通过运行以下命令<strong>运行操作系统扫描</strong>:</p><pre><code class="language-bash">nmap -O &lt;target IP&gt;</code></pre><p>正如我们提到的，在家庭服务器上运行Nmap的用户发现它非常有价值。如果您在家庭服务器上运行Nmap，使用下面的命令<strong>自动扫描主机的一些最“流行”的端口</strong>。你只需要<strong>用要扫描的端口数替换</strong><strong>20</strong>:</p><pre><code class="language-bash">nmap --top-ports 20 YourIPAddress</code></pre><p>它返回一个简明的输出，详细说明最常见端口的状态。这样，您将看到是否有任何不必要的开放端口。</p><h3><span class="ez-toc-section" id="Nmap_Output_Result_Commands"/> <strong> Nmap输出结果命令</strong> <span class="ez-toc-section-end"/></h3><p>要输出到一个文件，请为您的命令添加一个扩展名，如下所示。它会将Nmap扫描的结果输出到一个文件中:</p><pre><code class="language-bash">-oN output.txt</code></pre><p>向您的命令<strong>输出结果到文本文件</strong>，或者:</p><pre><code class="language-bash">-oX output.xml</code></pre><p>输出到XML。</p><p>此外，您可以通过运行以下命令将输出保存到文本文件中:</p><pre><code class="language-bash">nmap 192.168.1.1 &gt; output.txt</code></pre><pre><code class="language-bash">nmap -oN /path/to/filename 192.168.1.1</code></pre><pre><code class="language-bash">nmap -oN output.txt 192.168.1.1</code></pre><h3><span class="ez-toc-section" id="How_to_speed_up_Nmap_Scans"/> <strong>如何加速Nmap扫描</strong> <span class="ez-toc-section-end"/></h3><p>特别是在大型网络扫描中，如果您禁用反向DNS解析，您可以通过使用<strong> -n </strong>参数来<strong>加速您的Nmap扫描</strong>。例如，为了<strong>关闭上述基本ping扫描的DNS解析</strong>，添加<strong> -n </strong>:</p><pre><code class="language-bash">nmap -sp -n 192.100.1.1/24</code></pre><p>要<strong>执行快速扫描</strong>，请使用下面的Nmap命令:</p><pre><code class="language-bash">nmap -F 192.168.1.1</code></pre><pre><code class="language-bash">nmap -6 -F IPv6_Address_Here</code></pre><p>在本文的下文中，让我们看看使用Nmap的其他一些命令。</p><p>_ <strong>系统的快速扫描</strong>:</p><pre class=""><code class="language-bash">nmap -F 192.168.1.1</code></pre><p>_ <strong>快速扫描</strong>端口的详细信息和版本:</p><pre><code class="language-bash">nmap -v 192.168.1.1</code></pre><p>_ <strong>通过详细扫描识别操作系统</strong>:</p><pre><code class="language-bash">nmap -v -A 192.168.1.1</code></pre><p>_ <strong>使用所需范围的端口号进行全面扫描</strong>:</p><pre><code class="language-bash">nmap -v -p 1-100 192.168.1.1</code></pre><p>在上面的命令中，只扫描和报告端口1到100。</p><p>_ Scan通过<strong>发送随机数据包</strong>来拦截目标系统防火墙:</p><pre><code class="language-bash">nmap -v -f</code></pre><p>_ <strong>从特定端口发送数据包</strong>进行匿名扫描:</p><pre><code class="language-bash">nmap -v 192.168.1.1 -g 80</code></pre><p>在上面的命令中，Nmap通过您的<strong>端口80 </strong>发送所有数据包，目标系统将其视为web请求。</p><p>要<strong>显示发送和接收的所有数据包</strong>,运行:</p><pre><code class="language-bash">nmap --packet-trace 192.168.1.1</code></pre><pre><code class="language-bash">nmap --packet-trace server1.YourDomainAddress</code></pre><p>_ <strong>扫描系统</strong>当系统阻止ping时:</p><pre><code class="language-bash">nmap -v -Pn</code></pre><p>Nmap软件使用ICMP协议来检查系统的状态，如果用户阻止了该协议，您必须使用<strong> -pn </strong>开关。</p><p>_使用Nmap的完整命令示例:</p><pre><code class="language-bash">nmap -v -A -Pn -f  -p 1-65535 192.168.1.1 -g 80</code></pre><p>您的系统将使用端口80发送数据包，同时检查并显示操作系统规格。此外，Nmap软件并不关心关闭目标系统的ICMP协议，而是随机发送数据包。</p><h3><span class="ez-toc-section" id="How_to_Scan_a_large_number_of_hostsnetworks"/> <strong>如何扫描大量主机/网络</strong> <span class="ez-toc-section-end"/></h3><p>要扫描大量主机/网络，您可以使用<strong> <em> -iL </em> </strong>选项。使用此选项，您可以通过文本文件读取目标系统列表:</p><pre><code class="language-bash">cat &gt; /tmp/test.txt</code></pre><p>然后，按如下方式附加名称:</p><pre><code class="language-bash">server1.YourDomainAddress</code></pre><pre><code class="language-bash">192.168.1.0/24</code></pre><pre><code class="language-bash">192.168.1.1/24</code></pre><pre><code class="language-bash">10.1.2.3</code></pre><pre><code class="language-bash">localhost</code></pre><p>语法如下:</p><pre><code class="language-bash">nmap -iL /tmp/test.txt</code></pre><h3><span class="ez-toc-section" id="How_to_exclude_hostsnetworks_IPv4"/> <strong>如何排除主机/网络(IPv4) </strong> <span class="ez-toc-section-end"/></h3><p>要在扫描大量主机/网络(IPv4)时将其从Nmap扫描示例中排除，请使用以下命令:</p><pre><code class="language-bash">nmap 192.168.1.0/24 --exclude 192.168.1.5</code></pre><pre><code class="language-bash">nmap 192.168.1.0/24 --exclude 192.168.1.5,192.168.1.254</code></pre><p>或者从名为<strong> /tmp/exclude.txt </strong>的文件中排除列表:</p><pre><code class="language-bash">nmap -iL /tmp/scanlist.txt --e    xcludefile /tmp/exclude.txt</code></pre><h3><span class="ez-toc-section" id="How_to_detect_firewall_setting_using_Nmap_Command"/>如何使用Nmap命令检测防火墙设置<span class="ez-toc-section-end"/></h3><p>您可以在渗透测试和漏洞扫描期间使用防火墙检测。有几个函数可以用来检测给定主机上的防火墙设置，但最常用的是<strong> -sA </strong>标志:</p><pre><code class="language-bash">nmap command examples for your host</code></pre><pre><code class="language-bash">nmap -sA 192.168.1.254</code></pre><pre><code class="language-bash">nmap -sA server1.YourDomainAddress</code></pre><p>然后，您可以使用下面的命令对受防火墙保护的主机进行扫描。例如，要扫描IP地址为192.168.1.1的路由器/wifi设备:</p><pre><code class="language-bash">nmap -PN 192.168.1.1</code></pre><pre><code class="language-bash">nmap -PN server1.YourDomainAddress</code></pre><h3><span class="ez-toc-section" id="How_to_view_open_ports_using_the_Nmap_command"/>如何使用Nmap命令查看打开的端口<span class="ez-toc-section-end"/></h3><p>要显示公开或可能公开的帖子，您可以在Linux中使用以下Nmap命令:</p><pre><code class="language-bash">nmap --open 192.168.1.1</code></pre><pre><code class="language-bash">nmap --open server1.YourDomainAddress</code></pre><pre><code class="language-bash">nmap --open 192.168.2.18</code></pre><p>要扫描所有设备/电脑的开放端口，请键入:</p><pre><code class="language-bash">nmap -T5 192.168.1.0/24</code></pre><pre><code class="language-bash">nmap -T5 {sub/net}</code></pre><h2><span class="ez-toc-section" id="How_to_use_Nmap_command_for_Nikto"/> <strong>如何对Nikto</strong>T3使用Nmap命令</h2><p>最近，<a href="https://blog.eldernode.com/introducing-and-install-nikto-on-kali-linux/" target="_blank" rel="noopener"> Nikto </a>介绍给你。要将web服务器和管道扫描到Nikto进行扫描，请运行以下命令:</p><pre><code class="language-bash">nmap -p80 192.168.1.2/24 -oG - | /path/to/nikto.pl -h -</code></pre><pre><code class="language-bash">nmap -p80,443 192.168.1.2/24 -oG - | /path/to/nikto.pl -h -</code></pre><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>在本文中，您回顾了最重要的Nmap命令。Nmap命令带有许多选项，现在您已经知道如何使用Nmap进行攻击和防御。然而，如果你不习惯使用CLI，你可以使用名为<a href="https://blog.eldernode.com/setup-zenmap-on-ubuntu/" target="_blank" rel="noopener"> Zenmap </a>的GUI应用程序。这是官方的Nmap安全扫描器图形用户界面。如果您有兴趣了解更多信息，请参考Nmap上的<a href="https://blog.eldernode.com/scan-ports-using-connect-scan-on-nmap/" target="_blank" rel="noopener">如何使用连接扫描</a>和<a href="https://blog.eldernode.com/scan-ports-with-fin-scan-on-nmap/">鳍扫描</a>来扫描端口。</p></div></div>    
</body>
</html>