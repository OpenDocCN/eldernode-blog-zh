<html>
<head>
<title>Tutorial Install ChkrootKit on Centos 7 - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>教程在Centos 7 - Eldernode博客上安装ChkrootKit</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/install-chkrootkit-on-centos-7/#0001-01-01">https://blog.eldernode.com/install-chkrootkit-on-centos-7/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/a7e0df305b9a747e53fbc64d57c436e1.png" data-src="https://blog.eldernode.com/wp-content/uploads/2022/03/Tutorial-Install-ChkrootKit-on-Centos-7.webp" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Tutorial Install ChkrootKit on Centos 7" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/03/Tutorial-Install-ChkrootKit-on-Centos-7.webp 2069w, https://blog.eldernode.com/wp-content/uploads/2022/03/Tutorial-Install-ChkrootKit-on-Centos-7-300x164.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/03/Tutorial-Install-ChkrootKit-on-Centos-7-1024x561.webp 1024w, https://blog.eldernode.com/wp-content/uploads/2022/03/Tutorial-Install-ChkrootKit-on-Centos-7-768x421.webp 768w, https://blog.eldernode.com/wp-content/uploads/2022/03/Tutorial-Install-ChkrootKit-on-Centos-7-1536x842.webp 1536w, https://blog.eldernode.com/wp-content/uploads/2022/03/Tutorial-Install-ChkrootKit-on-Centos-7-2048x1122.webp 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/03/Tutorial-Install-ChkrootKit-on-Centos-7.webp"/><p>ChkrootKit是一个工具，帮助管理员检查他们的系统，并找出系统是否感染了rootKit恶意软件。您可以使用chkrootkit来检测rootkit。在本文中，我们将教你如何在Centos 7 上安装ChkrootKit。此外，如果你想购买一个<a href="https://eldernode.com/centos-vps/" target="_blank" rel="noopener"> <strong> Centos VPS </strong> </a>主机，你可以访问<a href="https://eldernode.com/" target="_blank" rel="noopener"> Eldernode </a>中的软件包。</p><h2><span class="ez-toc-section" id="How_to_Install_ChkrootKit_on_CentOS_7_CentOS_8"/> <strong>如何在CentOS 7 | CentOS 8 </strong> <span class="ez-toc-section-end"/>上安装ChkrootKit</h2><h3><span class="ez-toc-section" id="Introduction_to_rootKit"/><strong>rootKit简介</strong> <span class="ez-toc-section-end"/></h3><p>rootKit是最危险的恶意软件和特洛伊木马之一，是Linux操作系统上的一种恶意程序，很难被发现和删除。rootKit具有很强的隐蔽性，可以隐藏在文件、注册表设置或进程中，窃取用户的信息。rootKits让攻击者远程控制，并保持隐藏很长一段时间。rootKit最明显的迹象是系统变慢，这表明有恶意代理在后台运行。</p><h3><span class="ez-toc-section" id="What_is_chkrootKit"/> <strong>什么是chkrootKit？</strong>T3】</h3><p>chkrootkit是一个常见和流行的基于Unix的程序和安全扫描程序，用于检测rootkit和恶意软件。chkrootkit帮助服务器管理员检查他们的系统是否有已知的rootkit，并保护服务器。chkrootkit可用于查找与rootkit相关的文件和进程。您可以保护您的系统免受已知rootkits的攻击，并确保所有程序和软件都已更新，并且系统免受所有已知漏洞的攻击。</p><h2><span class="ez-toc-section" id="Installing_CkrootKit_on_CentOS_7"/> <strong>在CentOS 7 </strong>上安装CkrootKit<span class="ez-toc-section-end"/></h2><p>CentOS 7存储库包中没有chkrootKit。在做任何事情之前，您应该通过输入以下命令来更新软件包:</p><pre><code class="language-bash">yum update -y</code></pre><p>chkrootkit有C程序。你可以通过<strong>安装C/C++编译器</strong>和<strong> glibc-static </strong>包来避免这个过程中的任何错误。为此，请运行以下命令:</p><pre><code class="language-bash">yum install wget gcc-c++ glibc-static</code></pre><p>现在，您应该访问chkrootkit官方网站并<strong>下载最新的chkrootkit </strong>:</p><pre><code class="language-bash">wget -c ftp://ftp.pangeia.com.br/pub/seg/pac/chkrootkit.tar.gz</code></pre><p>那么您应该检查chkrootkit下载没有被篡改或损坏。为此，您可以使用以下命令<strong>下载与chkrootkit下载相关的md5散列文件</strong>:</p><pre><code class="language-bash">wget ftp://ftp.pangeia.com.br/pub/seg/pac/chkrootkit.md5  md5sum -c chkrootkit.md5  chkrootkit.tar.gz: OK</code></pre><p>下载完成后，您应该转到下载文件夹并提取下载的文件。然后将提取的内容移动到一个单独的文件夹，如下所示，并安装它。您也可以在相同的路径中提取它，并将chkrootkit二进制文件移动到<strong> /usr/bin </strong>文件夹中。</p><pre><code class="language-bash">tar –xzf chkrootkit.tar.gz</code></pre><pre><code class="language-bash">mkdir /usr/local/chkrootkit</code></pre><pre><code class="language-bash">mv chkrootkit-0.52/* /usr/local/chkrootkit</code></pre><pre><code class="language-bash">cd /usr/local/chkrootkit</code></pre><pre><code class="language-bash">make sense</code></pre><p>接下来，您应该通过运行chkrootkit来扫描服务器:</p><pre><code class="language-bash">/usr/local/chkrootkit/chkrootkit</code></pre><p>现在，您可以通过添加cron条目来启用自动服务器扫描。扫描报告将发送到您的电子邮件地址。您应该创建以下条目并将其添加到<strong>/etc/cron . daily/chkrootkit . sh</strong>:</p><pre><code class="language-bash">#!/bin/sh  (  /usr/local/chkrootkit/chkrootkit  ) | /bin/mail -s 'CHROOTKIT Daily Run (ServerName)' <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="ec9583999eac89818d8580c28f8381">[email protected]</a></code></pre><p>Chkrootkit有一个名为chkrootkit的shell脚本和几个C程序。chkrootkit shell脚本扫描所有系统二进制文件以查找任何rootkit更改，C程序执行各种安全检查，包括:</p><ul><li><strong> ifpromisc.c: </strong>检查网络接口是否处于混杂模式。</li><li>检查最后日志删除。</li><li>chkwtmp.c: 检查wtmp删除。</li><li>检查LKM木马的迹象。</li><li>检查LKM木马的迹象。</li><li><strong> strings.c: </strong>执行快速的脏字符串替换。</li><li><strong> chkutmp.c: </strong>检查utmp删除。</li></ul><h3><span class="ez-toc-section" id="What_is_the_Purpose_of_Using_chkrootkit"/> <strong>使用chkrootkit的目的是什么？</strong>T3】</h3><p>您可以简单地使用chkrootkit命令作为root运行这个工具，它将完成所有任务。执行此命令时，您可以使用下面列出的选项来选择特定选项:</p><ul><li><strong> -h:显示简短的帮助信息并退出。</strong></li></ul><pre><code class="language-bash"># chkrootkit -h  Usage: /usr/sbin/chkrootkit [options] [test ...]  Options:  -h show this help and exit  -V show version information and exit  -l show available tests and exit  -d debug  -q quiet mode  -x expert mode  -e exclude known false positive files/dirs, quoted,  space separated, READ WARNING IN README  -r dir use dir as the root directory  -p dir1:dir2:dirN path for the external commands used by chkrootkit  -n skip NFS mounted dirs</code></pre><p><strong> -V:显示版本信息并退出。</strong></p><pre><code class="language-bash"># chkrootkit -V  chkrootkit version 0.52</code></pre><p>I:显示可用的测试并退出。</p><pre><code class="language-bash"># chkrootkit -l  /usr/sbin/chkrootkit: tests: aliens asp bindshell lkm rexedcs sniffer w55808 wted scalper slapper z2 chkutmp OSX_RSPLUG amd basename biff chfn chsh cron crontab date du dirname echo egrep env find fingerd gpm grep hdparm su ifconfig inetd inetdconf identd init killall ldsopreload login ls lsof mail mingetty netstat named passwd pidof pop2 pop3 ps pstree rpcinfo rlogind rshd slogin sendmail sshd syslogd tar tcpd tcpdump top telnetd timed traceroute vdir w write</code></pre><p><strong> -d:进入调试模式。</strong></p><p><strong> -x:进入专家模式。</strong></p><p><strong> -e:排除已知的误报文件/目录，加引号，空格分隔。</strong></p><p><strong> -q:进入静音模式。在安静模式下，仅显示带有受感染状态的输出消息。</strong></p><pre><code class="language-bash"># chkrootkit -q  Checking `tcpd'... INFECTED    /lib/modules/4.15.0-20-generic/vdso/.build-id /lib/modules/4.15.0-23-generic/vdso/.build-id  /lib/modules/4.15.0-20-generic/vdso/.build-id /lib/modules/4.15.0-23-generic/vdso/.build-id  not tested  INFECTED PORTS: ( 465)  eth0: PACKET SNIFFER(/lib/systemd/systemd-networkd[536])  not tested</code></pre><p><strong> -r dir:使用dir作为根目录。</strong></p><pre><code class="language-bash"># chkrootkit -r /mnt/ ; This will check all files under this specified directory.</code></pre><p><strong> -p dir1:使用此选项添加更多二进制路径的能力。</strong></p><pre><code class="language-bash"># ./chkrootkit -p /cdrom/bin:/floppy/mybin</code></pre><p><strong> -n:跳过NFS挂载的目录。</strong></p><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>在本文中，您了解了如何在Centos 7上安装chkrootkit。您应该检查服务器，防止任何可疑的攻击或入侵。Chkrootkit工具通过执行定期安全检查来保护服务器免受任何入侵。我希望这篇教程对你有用。</p></div></div>    
</body>
</html>