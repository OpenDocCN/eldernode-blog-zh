<html>
<head>
<title>Introducing Graylog for Linux Logs Management - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>介绍用于Linux日志管理的gray log-elder node博客</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/graylog-for-linux-logs-management/#0001-01-01">https://blog.eldernode.com/graylog-for-linux-logs-management/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/016ad6c1664e4406ea9ba02afe79d7a5.png" data-src="https://blog.eldernode.com/wp-content/uploads/2021/02/Introducing-Graylog-for-Linux-Logs-Management.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Introducing Graylog for Linux Logs Management" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/02/Introducing-Graylog-for-Linux-Logs-Management.png 2069w, https://blog.eldernode.com/wp-content/uploads/2021/02/Introducing-Graylog-for-Linux-Logs-Management-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/02/Introducing-Graylog-for-Linux-Logs-Management-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2021/02/Introducing-Graylog-for-Linux-Logs-Management-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2021/02/Introducing-Graylog-for-Linux-Logs-Management-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2021/02/Introducing-Graylog-for-Linux-Logs-Management-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/02/Introducing-Graylog-for-Linux-Logs-Management.png"/><p>Graylog是一个开源的免费日志管理工具，用于从一个集中的位置收集、索引和分析任何服务器日志。它基于Java、Elasticsearch和MongoDB。使用Graylog允许您监控SSH登录和异常活动，以便调试应用程序。换句话说，当您在大型环境中工作时，您会面临大量的数据。因此，您需要一个强大的工具来帮助您监控、搜索和分析数据，并将其转换成简单的格式，以便轻松阅读和消化。这篇文章是<strong>介绍用于Linux日志管理的Graylog】。要购买您自己的<a href="https://eldernode.com/linux-vps/" target="_blank" rel="noopener"> Linux VPS </a>或找到合适的<a href="https://eldernode.com/vps/" target="_blank" rel="noopener"> VPS </a>包，请访问Eldernode并忘记其他的。</strong></p><h2><span class="ez-toc-section" id="How_To_Manage_Logs_With_Graylog_Server_On_LinuxCentos_Ubuntu_Debian"/> <strong>如何在Linux(Centos，Ubuntu，Debian)上用Graylog服务器管理日志</strong> <span class="ez-toc-section-end"/></h2><p>Graylog服务器接收和处理来自各种输入的消息，并提供一个用于分析和监控的web界面。Graylog服务器可用于Linux发行版，如<a href="https://blog.eldernode.com/tag/debian/" target="_blank" rel="noopener"> Debian Linux </a>、<a href="https://blog.eldernode.com/tag/ubuntu/" target="_blank" rel="noopener"> Ubuntu Linux </a>或<a href="https://blog.eldernode.com/tag/centos/" target="_blank" rel="noopener"> CentOS </a>。为了安全日志管理，Graylog收集、存储和关联网络数据，这些数据将详细描述您的系统和网络中的所有活动。这些活动包括由操作系统、应用程序、设备和用户产生的记录。在下文中，您将了解更多关于Graylog及其在<a href="https://blog.eldernode.com/tag/linux/" target="_blank" rel="noopener"> Linux </a>上的工作方式。</p><h3><span class="ez-toc-section" id="What_is_Graylog_and_How_it_works"/> <strong>什么是Graylog，它是如何工作的？</strong>T3】</h3><p>Graylog目前有三种许可类型，分别是开源、免费企业版和商业版。正如我们提到的，Graylog基于Java、Elasticsearch和<a href="https://blog.eldernode.com/install-mongodb-ubuntu-20/" target="_blank" rel="noopener"> MongoDB </a>。Elasticsearch存储所有收到的消息，并提供搜索功能。MongoDB用于数据库，存储配置和元信息。要在一个地方组合、丰富、关联、查询和可视化您的所有日志数据，您只需开始使用Graylog，并准备好您团队的<a href="https://blog.eldernode.com/tag/security/">安全</a>、应用程序和IT基础架构问题的答案。</p><p>全屏仪表板可以在一个屏幕上显示您的笔记本电脑、计算机和/或显示器上的所有周围元素。</p><p> </p><p><img data-lazyloaded="1" src="../Images/316ce796004e33eef4ac7ec39c0a1288.png" decoding="async" loading="lazy" class="aligncenter wp-image-25403 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2021/02/1-1.jpg" alt="Graylog Dashboard" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/02/1-1.jpg 1000w, https://blog.eldernode.com/wp-content/uploads/2021/02/1-1-300x188.jpg 300w, https://blog.eldernode.com/wp-content/uploads/2021/02/1-1-768x480.jpg 768w" data-sizes="(max-width: 1000px) 100vw, 1000px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/02/1-1.jpg"/></p><p> </p><p>实时分析每个传入的日志消息是Graylog的优势之一。因此，可以将消息分配给所谓的流。使用预定义的标准，检查哪个消息被分配给哪个流。</p><p> </p><p><img data-lazyloaded="1" src="../Images/e8794052a2b9ec1ee9d6263c781f1b26.png" decoding="async" loading="lazy" class="aligncenter wp-image-25404 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2021/02/graylog-prod-tour_alert-1.png" alt="Graylog stream - Introducing Graylog for Linux Logs Management" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/02/graylog-prod-tour_alert-1.png 947w, https://blog.eldernode.com/wp-content/uploads/2021/02/graylog-prod-tour_alert-1-300x131.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/02/graylog-prod-tour_alert-1-768x334.png 768w" data-sizes="(max-width: 947px) 100vw, 947px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/02/graylog-prod-tour_alert-1.png"/></p><p> </p><p>这样，如果某些值超出了定义的参数，您将会收到警报。警报选项包括从调用HTTP回调到通过电子邮件向定义的地址发送消息。您还可以通过监控Nagios之类的解决方案来检查流的状态。这意味着Graylog可以集成到现有的监控环境中。</p><p> </p><p><img data-lazyloaded="1" src="../Images/85c2fb85766970081209b4e56a67044d.png" decoding="async" loading="lazy" class="aligncenter wp-image-25405 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2021/02/3graylog-prod-tour_search.png" alt="Histogram" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/02/3graylog-prod-tour_search.png 951w, https://blog.eldernode.com/wp-content/uploads/2021/02/3graylog-prod-tour_search-300x156.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/02/3graylog-prod-tour_search-768x399.png 768w" data-sizes="(max-width: 951px) 100vw, 951px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/02/3graylog-prod-tour_search.png"/></p><h3><span class="ez-toc-section" id="Graylog_Sidecar"/> <strong>灰木边车</strong>T3】</h3><p>为了帮助您更容易地从所有计算机系统收集日志，您可以使用Graylog的Sidecar。Graylog Sidecar允许使用任何日志收集代理进行集中和可堆叠的配置。此外，它还可以控制您环境中的代理，同时通过标记系统在主机之间保持一致的配置。</p><p> </p><p><img data-lazyloaded="1" src="../Images/c43c9b176632818b61e81bdbc892238e.png" decoding="async" loading="lazy" class="size-large wp-image-25394 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/02/60340aa42a296642c29fcdf1_5ec7026a313549146c1d36e0_Sidecar-02-1-1024x378.jpg" alt="Graylog Sidecar - Introducing Graylog for Linux Logs Management" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/02/60340aa42a296642c29fcdf1_5ec7026a313549146c1d36e0_Sidecar-02-1-1024x378.jpg 1024w, https://blog.eldernode.com/wp-content/uploads/2021/02/60340aa42a296642c29fcdf1_5ec7026a313549146c1d36e0_Sidecar-02-1-300x111.jpg 300w, https://blog.eldernode.com/wp-content/uploads/2021/02/60340aa42a296642c29fcdf1_5ec7026a313549146c1d36e0_Sidecar-02-1-768x284.jpg 768w, https://blog.eldernode.com/wp-content/uploads/2021/02/60340aa42a296642c29fcdf1_5ec7026a313549146c1d36e0_Sidecar-02-1-1536x567.jpg 1536w, https://blog.eldernode.com/wp-content/uploads/2021/02/60340aa42a296642c29fcdf1_5ec7026a313549146c1d36e0_Sidecar-02-1.jpg 1600w" data-sizes="(max-width: 1024px) 100vw, 1024px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/02/60340aa42a296642c29fcdf1_5ec7026a313549146c1d36e0_Sidecar-02-1-1024x378.jpg"/></p><h3 class="text-block-9"><span class="ez-toc-section" id="Graylog_Features_Introducing_Graylog_for_Linux_Logs"/> <strong> Graylog特性(为Linux日志介绍gray log)</strong><span class="ez-toc-section-end"/></h3><p>当您使用Graylog工具时，您会接触到许多好处和功能。这里列出了Graylog的一些亮点。</p><ul><li>解决安全性、合规性、运营和开发运维方面的问题。</li><li>探索数据</li><li>实时分析</li><li>降低运营成本</li><li>授权给非技术用户</li><li>交互式仪表盘</li><li>警报和触发器</li><li>图形日志分析</li><li>用于管理的简单日志用户界面</li><li>可扩展的日志收集</li><li>Rest API</li><li>计划报告</li><li>团队管理</li><li>友好的GUI和支持</li><li>身份验证和用户权限</li><li>强大的搜索语法</li><li>轻松连接Python应用程序</li></ul><h3><span class="ez-toc-section" id="Graylog_Disadvantages"/> <strong>灰色缺点</strong> <span class="ez-toc-section-end"/></h3><p>在使用Graylog时，你可能会面临一些不利因素。让我们看看那些是什么。因为Graylog不能从Syslog文件中读取，所以您必须将您的消息直接发送到Graylog。报告称，它在仪表板前端不够友好，报告功能也很差，不令人满意。</p><h3><span class="ez-toc-section" id="Linux_logs_management_using_Graylog"/> <strong> Linux使用Graylog管理日志</strong> <span class="ez-toc-section-end"/></h3><p>要在Linux上设置Graylog，您需要考虑一些先决条件。你必须准备好<a href="https://www.elastic.co/downloads/elasticsearch" target="_blank" rel="noopener"> Elasticsearch </a> 6.8及以上、<a href="https://docs.mongodb.com/manual/administration/install-on-linux/" target="_blank" rel="noopener"> MongoDB </a> 3.6及以上、Oracle Java SE 8(或OpenJDK 8)。<a href="https://blog.eldernode.com/install-java-apt-debian-10/" target="_blank" rel="noopener"> Java </a>要装。运行OpenJDK完全没问题，应该可以在所有平台上使用。所以，按照下面的路径来学习Linux上Graylog的<strong>手动设置</strong>。</p><p><em>第一步:</em></p><p>首先，您应该<a href="https://www.graylog.org/downloads-2" target="_blank" rel="noopener">下载</a>tar归档文件，并将其解压缩到您的系统上。</p><pre><code class="language-bash">tar xvfz graylog-VERSION.tgz</code></pre><pre><code class="language-bash">cd graylog-VERSION</code></pre><p><em>第二步:</em></p><p>复制以下示例配置文件:</p><pre><code class="language-bash">cp graylog.conf.example /etc/graylog/server/server.conf</code></pre><p><em>第三步:</em></p><p>因此，您可以按如下方式启动服务器:</p><pre><code class="language-bash">cd bin/</code></pre><pre><code class="language-bash">./graylogctl start</code></pre><p>这样，服务器尝试将一个<strong> <em> node_id </em> </strong>写入<strong><em>gray log-server-node-if</em></strong>文件。如果由于缺少权限等原因而无法写入，服务器将不会启动。</p><p><em>第四步:</em></p><p>然后，您必须在调试输出灰色日志中查看成功连接到Elasticsearch集群的一行。可能如下所示:</p><pre><code class="language-bash">2013-10-01 12:13:22,382 DEBUG: org.elasticsearch.transport.netty - [graylog-server] connected to node [[Unuscione, Angelo][thN_gIBkQDm2ab7k-2Zaaw][inet[/10.37.160.227:9300]]]</code></pre><p>Graylog的日志位于<em> logs/ </em>上。</p><p><em> <strong>注意</strong> </em>:因为所有运行Graylog的系统必须有同步的系统时间，所以尽量在你的Graylog基础设施的所有机器上使用<a href="https://blog.eldernode.com/install-ntp-debian/" target="_blank" rel="noopener"> NTP </a>或者类似的机制。</p><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>在本文中，您回顾了用于Linux日志管理的Graylog简介。为了满足您的运营、安全性和合规性需求，Graylog每天都会接收许多TB的日志消息，并对其进行处理和存储。作为一个很好的日志管理工具，Graylog拥有高效全面的事件日志收集和存储。要根据需要发送其他类型的日志，您可以自定义Graylog。</p></div></div>    
</body>
</html>