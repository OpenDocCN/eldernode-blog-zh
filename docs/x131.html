<html>
<head>
<title>How to Switch PHP Version on Ubuntu 20.04</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在Ubuntu 20.04上切换PHP版本</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/switch-php-version-on-ubuntu-20-04/#0001-01-01">https://blog.eldernode.com/switch-php-version-on-ubuntu-20-04/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/ed7cba0f05bff0caef917774a828e90a.png" data-src="https://blog.eldernode.com/wp-content/uploads/2023/01/How-to-Switch-PHP-Version-on-Ubuntu-20.04-1.webp" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="How to Switch PHP Version on Ubuntu 20.04" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2023/01/How-to-Switch-PHP-Version-on-Ubuntu-20.04-1.webp 2069w, https://blog.eldernode.com/wp-content/uploads/2023/01/How-to-Switch-PHP-Version-on-Ubuntu-20.04-1-300x164.webp 300w, https://blog.eldernode.com/wp-content/uploads/2023/01/How-to-Switch-PHP-Version-on-Ubuntu-20.04-1-1024x561.webp 1024w, https://blog.eldernode.com/wp-content/uploads/2023/01/How-to-Switch-PHP-Version-on-Ubuntu-20.04-1-768x421.webp 768w, https://blog.eldernode.com/wp-content/uploads/2023/01/How-to-Switch-PHP-Version-on-Ubuntu-20.04-1-1536x842.webp 1536w, https://blog.eldernode.com/wp-content/uploads/2023/01/How-to-Switch-PHP-Version-on-Ubuntu-20.04-1-2048x1122.webp 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2023/01/How-to-Switch-PHP-Version-on-Ubuntu-20.04-1.webp"/><p>PHP编程语言在不断更新，网站上使用了不同的版本。所以每个程序员都有必要改变PHP版本，选择合适的版本。本文将教你如何在Ubuntu 20.04上切换PHP版本。如果你打算购买一台<a href="https://eldernode.com/ubuntu-vps/"> Ubuntu VPS </a>服务器，你可以查看<a href="https://eldernode.com/"> Eldernode </a>网站上提供的套装。</p><h2><span class="ez-toc-section" id="Tutorial_Change_PHP_Version_on_Ubuntu_2004"/> <strong>教程在Ubuntu 20.04上改PHP版本</strong> <span class="ez-toc-section-end"/></h2><p>PHP代表超文本预处理器，是一种开源的服务器端脚本语言，可以在任何类型的系统上运行和使用。更新你的PHP版本是最重要的事情之一。旧版本的PHP在安全性和性能方面非常弱，你应该尽快更新到新版本。使用PHP的更新版本是最好的选择，你越能保持你的PHP版本最新，你将拥有越多的安全性、效率和特性。</p><h2><span class="ez-toc-section" id="Switching_PHP_Version_on_Ubuntu_2004"/> <strong>在Ubuntu 20.04上切换PHP版本</strong> <span class="ez-toc-section-end"/></h2><p>在本节中，您将学习如何在Ubuntu 20.04上切换Apache Web服务器、CLI和Nginx的PHP版本。为此，请遵循以下步骤。</p><h3><span class="ez-toc-section" id="Apache_Web_Server"/> <strong>阿帕奇网络服务器</strong> <span class="ez-toc-section-end"/></h3><p>首先，使用下面的命令禁用PHP的当前版本，为Apache web服务器切换PHP版本。我们目前的版本是PHP 7.0:</p><pre><code class="language-bash">sudo a2dismod php7.0</code></pre><p>输出应该如下所示:</p><pre><code class="language-bash">Module php7.0 disabled.</code></pre><p>现在<strong>通过运行以下命令启用PHP 8.0 </strong>:</p><pre><code class="language-bash">sudo a2enmod php8.0</code></pre><p>最后，您应该通过运行以下命令来重新启动Apache Web服务器:</p><pre><code class="language-bash">sudo service apache2 restart</code></pre><p>并且<strong>使用网络浏览器刷新info.php</strong>:</p><p> </p><p><img data-lazyloaded="1" src="../Images/437db1994e6918a878c567471234f66f.png" decoding="async" loading="lazy" class="aligncenter wp-image-42817 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2023/01/Switch-PHP-versions-for-Apache-1.webp" alt="Switch-PHP-versions-for-Apache" data-srcset="https://blog.eldernode.com/wp-content/uploads/2023/01/Switch-PHP-versions-for-Apache-1.webp 957w, https://blog.eldernode.com/wp-content/uploads/2023/01/Switch-PHP-versions-for-Apache-1-300x195.webp 300w, https://blog.eldernode.com/wp-content/uploads/2023/01/Switch-PHP-versions-for-Apache-1-768x499.webp 768w" data-sizes="(max-width: 957px) 100vw, 957px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2023/01/Switch-PHP-versions-for-Apache-1.webp"/></p><p> </p><p>您还可以配置选定的虚拟主机，以使用您指定的PHP版本。要做到这一点，你需要使用PHP FPM安装。</p><p>使用以下命令检查PHP 7.0 FPM 的<strong>状态:</strong></p><pre><code class="language-bash">systemctl status php7.0-fpm</code></pre><p>并运行以下命令来检查PHP 8.0 的<strong>状态:</strong></p><pre><code class="language-bash">systemctl status php8.0-fpm</code></pre><p>正如您在输出中看到的，PHP 7.0 FPM和PHP 8.0 FPM都在运行。接下来，您需要启用Apache2来使用PHP的多个版本。为此，<strong>通过输入以下命令安装FCGID </strong>:</p><pre><code class="language-bash">sudo apt install libapache2-mod-fcgid</code></pre><p>并使用下面的命令<strong>启用</strong>:</p><pre><code class="language-bash">sudo a2enmod actions fcgid alias proxy_fcgi</code></pre><p>然后<strong>重启Apache </strong>使更改生效:</p><pre><code class="language-bash">sudo service apache2 restart</code></pre><p>您需要更新虚拟主机，如下所示:</p><pre><code class="language-bash">&lt;VirtualHost *:80&gt;  ----  ----        &lt;FilesMatch \.php$&gt;        # For Apache version 2.4.10 and above        SetHandler "proxy:unix:/run/php/php7.0-fpm.sock|fcgi://localhost"      &lt;/FilesMatch&gt;    ----  ----  &lt;/VirtualHost&gt;</code></pre><p>最后，<strong>使用下面的命令重新加载Apache </strong>:</p><pre><code class="language-bash">sudo service apache2 reload</code></pre><p>并使用浏览器再次检查info.php的输出。您将看到PHP 7.0特有的配置。</p><h3><span class="ez-toc-section" id="CLI"/> <strong> CLI </strong> <span class="ez-toc-section-end"/></h3><p>首先，用下面的命令检查当前的PHP版本:</p><pre><code class="language-bash">php --version</code></pre><p>要配置安装在Ubuntu 20.04上的多个PHP版本，请输入以下命令。</p><p><strong> PHP 7.0: </strong></p><pre><code class="language-bash">sudo update-alternatives --set php /usr/bin/php7.0  </code></pre><pre><code class="language-bash">sudo update-alternatives --set phar /usr/bin/phar7.0  </code></pre><pre><code class="language-bash">sudo update-alternatives --set phar.phar /usr/bin/phar.phar7.0</code></pre><p><strong> PHP 8.0: </strong></p><pre><code class="language-bash">sudo update-alternatives --set php /usr/bin/php8.0  </code></pre><pre><code class="language-bash">sudo update-alternatives --set phar /usr/bin/phar8.0  </code></pre><pre><code class="language-bash">sudo update-alternatives --set phar.phar /usr/bin/phar.phar8.0</code></pre><p>运行以下命令在PHP 7.0和PHP 8.0之间切换:</p><pre><code class="language-bash">sudo update-alternatives --config php  </code></pre><pre><code class="language-bash">sudo update-alternatives --config phar  </code></pre><pre><code class="language-bash">sudo update-alternatives --config phar.phar</code></pre><p>并验证PHP版本，如下所示:</p><pre><code class="language-bash">php --version</code></pre><h3><span class="ez-toc-section" id="Nginx"/><strong>Nginx</strong>T3】</h3><p>Nginx使用PHP FPM来运行PHP脚本，你可以很容易地改变Nginx的PHP版本。</p><p>为此，请使用文本编辑器打开配置文件:</p><pre><code class="language-bash">sudo nano /etc/nginx/sites-available/example.com</code></pre><p>并将PHP脚本传递给FastCGI:</p><pre><code class="language-bash">location ~ \.php$ {          root /var/www/example.com/html;          fastcgi_intercept_errors on;          fastcgi_pass unix:/run/php/php7.0-fpm.sock;          fastcgi_index index.php;          fastcgi_param SCRIPT_FILENAME $document_root/$fastcgi_script_name;          include fastcgi_params;      }        ...      ...  }</code></pre><p>保存文件并退出。</p><p>就是这样！</p><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>每个程序员都应该切换PHP版本，选择合适的版本。在这篇文章中，我们教你如何在Ubuntu 20.04上切换PHP版本。我希望这篇教程对你有用，帮助你在Ubuntu 20.04上切换PHP版本。如果你有任何疑问或问题，可以在评论区联系我们。</p></div></div>    
</body>
</html>