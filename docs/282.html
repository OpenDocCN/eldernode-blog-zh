<html>
<head>
<title>Tutorial Install Garry's Mod on Windows Server - Eldernode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>教程在Windows Server - Eldernode上安装Garry的Mod</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/install-garrys-mod-on-windows-server/#0001-01-01">https://blog.eldernode.com/install-garrys-mod-on-windows-server/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/697ae01bc6ab6132d95af61fd0122c2f.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/07/Tutorial-Install-Garrys-Mod-on-Windows-Server.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Tutorial Install Garry’s Mod on Windows Server" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/07/Tutorial-Install-Garrys-Mod-on-Windows-Server.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/07/Tutorial-Install-Garrys-Mod-on-Windows-Server-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/07/Tutorial-Install-Garrys-Mod-on-Windows-Server-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/07/Tutorial-Install-Garrys-Mod-on-Windows-Server-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/07/Tutorial-Install-Garrys-Mod-on-Windows-Server-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/07/Tutorial-Install-Garrys-Mod-on-Windows-Server-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/07/Tutorial-Install-Garrys-Mod-on-Windows-Server.png"/><p>教程在Windows Server上安装Garry的Mod。Garry的Mod是在Facepunch游戏工作室创建的。它于2004年由Valve Corporation正式发布，适用于<span> Windows </span>、<span> Linux </span>和<span> Mac </span>平台。<span> Garry的Mod </span>是一个有趣的游戏，没有特定的目标，游戏的故事是非线性的或非线性的，沙盒。这个游戏的玩法是物理构建的，一般来说，这个游戏分为两个部分，单人和在线。</p><p>本文将解释如何在<span> Windows Server 2012 </span>上下载并安装<span> Garry的Mod </span>服务器。</p><p><strong>先决条件:</strong></p><ul><li>蒸汽CMD。</li><li>端口转发能力。</li><li>创建收藏的steam帐户。</li></ul><p><strong> <a href="https://eldernode.com/windows-vps/">购买Windows虚拟专用服务器</a> </strong></p><p> </p><h3><span class="ez-toc-section" id="Installing_SteamCMD"/>安装SteamCMD <span class="ez-toc-section-end"/></h3><p>为了确保你有最新版本的Garry的Mod专用服务器，你应该通过<span> SteamCMD </span>安装它。</p><p><span> <strong> 1。</strong> </span>第一步，你必须通过下面的链接下载SteamCMD:</p><p><span> <a href="https://steamcdn-a.akamaihd.net/client/installer/steamcmd.zip"> <strong>下载steam cmd</strong></a>T5】</span></p><p><strong> <span> 2。</span> </strong>然后在你想要的位置创建一个文件夹，把你下载的zip文件的内容放进去。</p><p> </p><h3><span class="ez-toc-section" id="Downloading_Garrys_Mod_Dedicated_Server_tool"/>下载Garry的Mod专用服务器工具<span class="ez-toc-section-end"/></h3><p><strong> <span> 1。</span> </strong>在解压下载文件的文件夹下运行SteamCMD。</p><p><strong> <span> 2。</span> </strong>下一步，登录匿名账号。</p><pre><code class="language-bash">login anonymous</code></pre><p><strong> <span> 3。</span> </strong>然后创建一个文件夹来保存Garry的Mod服务器文件。</p><p><span> <strong> 4。</strong> </span>在下面输入目录路径选择您的文件夹:</p><pre><code class="language-bash">force_install_dir C:\my_example_directory\</code></pre><p><strong> <span> 5。</span> </strong>现阶段需要安装Garry的Mod专用服务器。</p><pre><code class="language-bash">app_update 4020</code></pre><p><strong> <span> 6。</span> </strong>一旦等待进度达到100%，确认下载内容:</p><pre><code class="language-bash">app_update 4020 validate</code></pre><p><strong> <span> 7。</span> </strong>下载完成后，使用以下命令:</p><pre><code class="language-bash">quit</code></pre><p> </p><h3><span class="ez-toc-section" id="Configure_settings"/>配置设置<span class="ez-toc-section-end"/></h3><p>您可以从下面指定的配置文件中更改服务器设置。您还可以更改特定于服务器的参数，如<span>主机名</span>、<span>密码</span>和<span> tickrate </span>等等。</p><p>因为Garry的Mod有广泛的定制能力，所以推荐你有一个自动设置生成器。</p><p> </p><h3><span class="ez-toc-section" id="Customize_your_Garrys_Mod_server"/>定制你的游戏服务器<span class="ez-toc-section-end"/></h3><p><strong> <span> 1。</span> </strong>打开服务器文件夹，选择<span> cfg </span>选项。</p><p><strong> <span> 2。</span> </strong>然后找到<span> server.cfg </span>，通过<span>记事本</span>打开。</p><p><span> <strong> 3。</strong> </span>根据下面的例子改变设置:</p><blockquote><p><span> <strong>示例:</strong> </span>使用以下命令选择您的主机名并打开内容下载:</p><pre><code class="language-bash">hostname "Garry's Mod Server"  sv_allowdownload 1</code></pre></blockquote><p> </p><h3><span class="ez-toc-section" id="Create_a_start-up_batch_file"/>创建启动批处理文件<span class="ez-toc-section-end"/></h3><p><strong> <span> 1。</span> </strong>打开服务器文件所在的文件夹。创建一个新的文本文件，并添加以下内容:</p><pre><code class="language-bash">@echo off  cls  :srcds  echo (%time%) srcds started.  start /wait srcds.exe -console -game garrysmod +map gm_flatgrass +maxplayers 32  echo (%time%) WARNING: Srcds closed. Restarting server.  goto srcds</code></pre><p><strong> <span> 2。</span> </strong> <span>将</span>文件作为批处理文件保存在服务器主目录的文件夹中。</p><p><strong> 3。</strong>要启动服务器，执行您在Garry的Mod服务器的主目录中创建的批处理文件。</p><p> </p><h3><span class="ez-toc-section" id="Port_Forwarding"/>端口转发<span class="ez-toc-section-end"/></h3><p><strong> <span> 1。</span> </strong>要在Windows上打开一个端口，请参考这篇<a href="https://eldernode.com/open-a-port-on-a-windows-firewall/">文章</a>。</p><p><strong> <span> 2。</span> </strong>打开下面列出的端口以确保外部连接到服务器:</p><p> </p><pre><code class="language-bash"><span> 27015 UDP</span></code></pre><pre><code class="language-bash"><span> 27015 TCP</span></code></pre><p> </p><h3><span class="ez-toc-section" id="Addons_and_Content"/>插件和内容<span class="ez-toc-section-end"/></h3><p>Garry的Mod 有一个steam工作室，里面有许多有用的工具，允许你创建复杂而有效的服务器。有两种在服务器上安装插件的方法，称为高级和手动。</p><p>在下文中，我们将分别解释这两种方法:</p><p> </p><h4><span class="ez-toc-section" id="1_Advanced_method"/> 1)高级方法<span class="ez-toc-section-end"/></h4><p><strong> <span> a) </span> </strong>创建车间集合。</p><p><strong> <span> b) </span> </strong>打开蒸汽车间，导航到盖瑞的Mod部分。</p><p><strong> <span> c) </span> </strong>在你的服务器上订阅你想要的插件。</p><p><strong> <span> d) </span> </strong>创建一个集合，其中包含您选择的所有插件。</p><p><span> <strong> e) </strong> </span>发布收藏。</p><blockquote><p>注意:将收藏的URL记录在一个可以参考的地方。</p></blockquote><p><strong> <span> f) </span> </strong>用你的Steam账号打开下面的链接。</p><blockquote><p><strong> <a href="http://steamcommunity.com/dev/apikey"> APIKEY </a> </strong></p></blockquote><p><span> <strong> g) </strong> </span>创建一个API key，选择【steamidfinder.com】的<span>作为API域。</span></p><blockquote><p><span> <strong>注意:</strong> </span>将API key记录在一个可以查阅的地方。</p></blockquote><p> </p><h5><span class="ez-toc-section" id="Adding_the_collection_to_the_server"/>将收藏添加到服务器<span class="ez-toc-section-end"/></h5><p><strong> <span> 1。</span> </strong>要添加收藏到服务器，打开你在服务器主目录下创建的批处理文件。</p><p><strong> <span> 2。</span> </strong>在<span>开始/等待scrds.exe</span>之后的一行，添加以下代码。</p><pre><code class="language-bash"> +host_workshop_collection WORKSHOP_URL_ID -authkey API_KEY</code></pre><p><span> <strong> 3。</strong> </span>用您收藏的网址中的数字替换<span> WORKSHOP_URL_ID </span>。然后用您之前创建的API键替换<span> API_KEY </span>。</p><p>该批处理文件将类似于以下代码:</p><pre><code class="language-bash">@echo off  cls  :srcds  start /wait srcds.exe -console -game garrysmod +map gm_flatgrass +maxplayers 32  +host_workshop_collection 123456789 -authkey 12345678901234567890  echo (%time%) WARNING: Srcds closed. Restarting server.  goto srcds</code></pre><p> </p><h4><span class="ez-toc-section" id="2_Manual_Method"/> 2)手动方法<span class="ez-toc-section-end"/></h4><p>导航到您服务器的<span>主目录</span>。在里面，你会发现一个<span> addons文件夹</span>，如果没有，那么创建一个名为addons的文件夹。</p><p>在插件文件夹中，你可以放置你所有的插件文件，这些文件会在运行你的服务器时自动安装和执行。</p><p> </p><h3><span class="ez-toc-section" id="Update_the_server"/>更新服务器<span class="ez-toc-section-end"/></h3><p><strong> <span> A) </span> </strong>要更新服务器，先<span>登录</span>到<span> SteamCMD </span>。</p><p><strong> <span> B) </span> </strong>选择你的<span>安装目录</span>。</p><p><span> <strong> C) </strong> </span>通过键入以下命令，您可以更新和/或验证您的服务器文件:</p><pre><code class="language-bash">app_update 4020 validate</code></pre><p><strong>尊敬的用户</strong>，我们希望您能喜欢这个<a href="https://eldernode.com/category/tutorial/">教程</a>，您可以在评论区提出关于本次培训的问题，或者解决<a href="https://eldernode.com/blog/">老年人节点培训</a>领域的其他问题，请参考<a href="https://eldernode.com/ask">提问页面</a>部分，并尽快提出您的问题。腾出时间给其他用户和专家来回答你的问题。</p><p><span>好运</span>。</p></div></div>    
</body>
</html>