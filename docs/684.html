<html>
<head>
<title>Tutorial Setup And Configure Suricata On Debian 9 - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Debian 9 - Eldernode博客上的教程设置和配置Suricata</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/setup-and-configure-suricata-on-debian/#0001-01-01">https://blog.eldernode.com/setup-and-configure-suricata-on-debian/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/89c161ca708b2a5d815d8f0228378970.png" data-src="https://blog.eldernode.com/wp-content/uploads/2021/03/Tutorial-Setup-And-Configure-Suricata-On-Debian-9.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Tutorial Setup And Configure Suricata On Debian 9" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/03/Tutorial-Setup-And-Configure-Suricata-On-Debian-9.png 2069w, https://blog.eldernode.com/wp-content/uploads/2021/03/Tutorial-Setup-And-Configure-Suricata-On-Debian-9-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/03/Tutorial-Setup-And-Configure-Suricata-On-Debian-9-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2021/03/Tutorial-Setup-And-Configure-Suricata-On-Debian-9-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2021/03/Tutorial-Setup-And-Configure-Suricata-On-Debian-9-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2021/03/Tutorial-Setup-And-Configure-Suricata-On-Debian-9-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/03/Tutorial-Setup-And-Configure-Suricata-On-Debian-9.png"/><p>Suricata是一个免费的开源网络威胁检测引擎。使用Suricata可以检测入侵(IDS)、预防入侵(IPS)和网络安全监控。由于Suricata在深度数据包检测和模式匹配方面表现出色，因此对于威胁和攻击检测非常有用。Suricata由OISF开发，由一个社区运营的非营利基金会，开放信息安全基金会(OISF)所有。此外，Suricata的源代码是根据GNU通用公共许可证第2版许可的。加入我们这篇文章来回顾一下教程设置，并在Debian 9，10 上配置Suricata。依靠<a href="https://eldernode.com/" target="_blank" rel="noopener"> Eldernode </a>的技术团队，订购您考虑的套餐，购买您自己的<strong> <a href="https://eldernode.com/linux-vps/" target="_blank" rel="noopener"> Linux VPS </a> </strong>。</p><h2><span class="ez-toc-section" id="How_To_Setup_And_Configure_Suricata_On_Debian_9_step_by_step"/> <strong>如何在Debian 9上一步步设置和配置Suricata</strong><span class="ez-toc-section-end"/></h2><p>Suricata支持大多数操作系统，如<a href="https://blog.eldernode.com/tag/linux/" target="_blank" rel="noopener"> Linux </a>、FreeBSD、OpenBSD、macOS / Mac OS X和<a href="https://blog.eldernode.com/tag/windows/" target="_blank" rel="noopener"> Windows </a>。由于Suricata是多线程的，因此您可以在单个设备上通过添加数据包处理线程来进行水平扩展。和我们一起回顾一下Suricata在Debian 9上的安装、设置和配置。</p><h3><span class="ez-toc-section" id="Suricata_Features"/> <strong>苏里卡特征</strong>T3】</h3><p>Suricata是同类最佳的基于特征的入侵检测平台，也是Bricata平台上三个重要检测引擎之一。让我们来看看它的好处:</p><p>1-高性能</p><p>2-自动协议检测</p><p>3- Lua脚本</p><p>4-行业标准输出</p><p>5-离线分析PCAP文件</p><p>6-使用Pcap记录器记录流量</p><p>7-用于自动PCAP文件处理的Unix套接字模式</p><p>8-与Linux Netfilter防火墙的高级集成</p><p>虽然许多特性和功能与Snort相似，但Suricata在几个重要方面有所不同:</p><p>1-它是多线程的，因此单个实例可以在更高的流量下运行</p><p>2-对应用层协议有更多的支持</p><p>3-它支持哈希和文件提取</p><p>4-它有Lua脚本语言的钩子，可以用来修改输出，甚至创建复杂和详细的签名检测逻辑。</p><h3><span class="ez-toc-section" id="Prerequisites_to_Install_and_configure_Suricata_on_Debian_9"/> <strong>在Debian 9上安装和配置Suricata的先决条件</strong>T3】</h3><p>为了让本教程更好地工作，请考虑以下先决条件:</p><p>_拥有Sudo权限的非root用户。</p><p>按照Debian 上的<a href="https://blog.eldernode.com/initial-setup-with-debian-10/" target="_blank" rel="noopener">初始服务器设置进行设置。</a></p><h2><span class="ez-toc-section" id="Install_Suricata_on_Debian_Linux"/> <strong>在Debian Linux上安装Suricata</strong><span class="ez-toc-section-end"/></h2><p>Suricata软件很好地集成到Debian中。从官方的Debian库安装deb包会给你一个现成的Suricata。在为您的系统构建Suricata之前，运行以下命令以确保您拥有安装所需的一切:</p><pre><code class="language-bash">apt-get -y install libpcre3 libpcre3-dbg libpcre3-dev \</code></pre><pre><code class="language-bash">build-essential autoconf automake libtool libpcap-dev libnet1-dev \</code></pre><pre><code class="language-bash">libyaml-0-2 libyaml-dev zlib1g zlib1g-dev libmagic-dev libcap-ng-dev \</code></pre><pre><code class="language-bash">libjansson-dev pkg-config rustc cargo</code></pre><p>然后，使用下面的命令下载并<strong>构建Suricata </strong>:</p><pre><code class="language-bash">wget http://www.openinfosecfoundation.org/download/suricata-5.0.0.tar.gz</code></pre><pre><code class="language-bash">tar -xvzf suricata-5.0.0.tar.gz</code></pre><pre><code class="language-bash">cd suricata-5.0.0</code></pre><p>Suricata可以使用<strong>二进制包</strong>安装在各种发行版上。在Debian 9中:</p><pre><code class="language-bash">sudo apt-get install suricata</code></pre><p><em> <strong>注</strong> </em>:在Debian的“稳定”版本中，最新版本中通常没有Suricata。如果可以在Debian backports上构建的话，可以从那里获得更新的版本。</p><p>现在，您应该运行以下命令来检查您正在运行的Suricata 的<strong>版本以及服务状态:</strong></p><pre><code class="language-bash">sudo suricata --build-info</code></pre><pre><code class="language-bash">sudo systemctl status suricata</code></pre><h3><span class="ez-toc-section" id="How_to_Setup_Suricata_On_Debian_9_Debian_10"/> <strong>如何在Debian 9 | Debian 10上设置Suricata</strong><span class="ez-toc-section-end"/></h3><p>正如我们在先决条件一节中提到的，不要忘记输入所有命令作为<strong>root/超级用户</strong>，因为对于Debian操作系统来说，如果不首先安装和配置Sudo，就不可能使用它。</p><p>然后，开始为Suricata的日志信息创建一个目录:</p><pre><code class="language-bash">sudo mkdir /var/log/suricata</code></pre><p>然后，您需要准备使用它的系统。所以，运行:</p><pre><code class="language-bash">sudo mkdir /etc/suricata</code></pre><p>现在需要将<em><strong>class ification . config</strong></em>、<strong> <em> reference.config、</em> </strong>和<strong> <em> suricata.yaml </em> </strong>从基础<strong>构建/安装</strong>目录复制到<strong> /etc/suricata目录</strong>。为此，请输入以下内容:</p><pre><code class="language-bash">sudo cp classification.config /etc/suricata</code></pre><pre><code class="language-bash">sudo cp reference.config /etc/suricata</code></pre><pre><code class="language-bash">sudo cp suricata.yaml /etc/suricata</code></pre><h3><span class="ez-toc-section" id="How_to_Configure_Suricata_on_Debian_9_0r_Debian_10"/> <strong>如何在Debian 9 0r Debian 10上配置Suricata</strong><span class="ez-toc-section-end"/></h3><p>Suricata使用Yaml格式进行配置。源代码中包含的<strong> Suricata.yaml </strong>文件是Suricata的配置示例。这意味着Suricata主配置文件位于<strong>/etc/Suri cata/Suri cata . YAML .</strong>本文档将解释每个选项。</p><p>首先，检查可用的接口卡，确定您希望Suricata使用哪一个:</p><pre><code class="language-bash">ifconfig</code></pre><p>然后，创建一个Suricata systemd单元文件。代替<strong> eth0 </strong>，您可以输入您偏好的接口卡:</p><pre><code class="language-bash">sudo vim /etc/systemd/system/suricata.service</code></pre><p> </p><p><img data-lazyloaded="1" src="../Images/255865cee7d820c20a36665466492b9e.png" decoding="async" loading="lazy" class="size-full wp-image-27409 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/03/Untitled-19.png" alt="How to Configure Suricata on Debian 9" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/03/Untitled-19.png 864w, https://blog.eldernode.com/wp-content/uploads/2021/03/Untitled-19-300x108.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/03/Untitled-19-768x276.png 768w" data-sizes="(max-width: 864px) 100vw, 864px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/03/Untitled-19.png"/></p><p>要重新加载systemd单元文件，请运行:</p><pre><code class="language-bash">sudo systemctl daemon-reload</code></pre><p>接下来，使用下面的命令启动并启用Suricata服务:</p><pre><code class="language-bash">sudo systemctl start suricata</code></pre><p>最后，通过运行以下命令确认服务状态:</p><pre><code class="language-bash">systemctl status suricata</code></pre><p><img data-lazyloaded="1" src="../Images/ecb2d2b90d2b7ae8ffe4344d1f99f911.png" decoding="async" loading="lazy" class="size-full wp-image-27411 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/03/Untitled-20.png" alt="Configure Suricata on Debian 9" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/03/Untitled-20.png 652w, https://blog.eldernode.com/wp-content/uploads/2021/03/Untitled-20-300x275.png 300w" data-sizes="(max-width: 652px) 100vw, 652px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/03/Untitled-20.png"/></p><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>在本文中，您学习了在Debian 9上安装和配置Suricata。从现在开始，你可以看到你的网络中发生了什么。它通常通过加载一组预定义的规则来匹配不同的网络协议和流行为。如果你有兴趣了解更多，请参考<a href="https://blog.eldernode.com/icinga-2-linux-server-monitoring-tool/" target="_blank" rel="noopener">介绍Icinga 2 Linux服务器监控工具</a>。</p></div></div>    
</body>
</html>