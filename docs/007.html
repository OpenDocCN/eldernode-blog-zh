<html>
<head>
<title>Routing tutorial with PowerShell - Eldernode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>PowerShell路由教程- Eldernode</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/routing-tutorial-with-powershell/#0001-01-01">https://blog.eldernode.com/routing-tutorial-with-powershell/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/bf518f115f7a9551c062ad3c462cf6c8.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/06/Routing-tutorial-with-PowerShell.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Routing tutorial with PowerShell" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/06/Routing-tutorial-with-PowerShell.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/06/Routing-tutorial-with-PowerShell-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/06/Routing-tutorial-with-PowerShell-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/06/Routing-tutorial-with-PowerShell-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/06/Routing-tutorial-with-PowerShell-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/06/Routing-tutorial-with-PowerShell-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/06/Routing-tutorial-with-PowerShell.png"/><p>Windows PowerShell的特性之一是路由管理，这是由<a href="https://docs.microsoft.com/en-us/powershell/module/nettcpip/get-netroute?view=win10-ps"> Get-NetRoute </a>和<a href="https://docs.microsoft.com/en-us/powershell/module/nettcpip/new-netroute"> New-NetRoute </a>命令执行的。CMD环境中的路由管理使用Route命令。在这篇文章中，我们将教你用PowerShell路由教程，这样你就可以在Windows中使用PowerShell进行路由。</p><h2>【PowerShell路由教程<span class="ez-toc-section-end"/></h2><p>PowerShell的路由应用程序有许多功能，它的许多参数将帮助您通过个性化搜索轻松获得全面的信息。</p><h3><span class="ez-toc-section" id="Learn_how_to_work_with_the_Get-NetRoute_command"/>了解如何使用Get-NetRoute命令<span class="ez-toc-section-end"/></h3><p>这个应用程序是PowerShell中的一个路由命令，它允许你获得写在你的<a href="https://eldernode.com/windows-vps/">窗口</a>中的关于路由器状态的完整信息。这里有一些例子教你如何做到这一点。</p><h3><span class="ez-toc-section" id="Get_a_list_of_routes_associated_with_a_network_interface"/>获取与网络接口相关的路由列表<span class="ez-toc-section-end"/></h3><pre><code class="language-bash">Get-NetRoute -Protocol local -InterfaceAlias Ethernet  </code></pre><h3><span class="ez-toc-section" id="Get_routes_that_point_to_network_address_19216800"/>获取指向网络地址192.168.0.0的路由<span class="ez-toc-section-end"/></h3><pre><code class="language-bash">Get-NetRoute -DestinationPrefix 192.168*  </code></pre><p><em> <strong>注意:</strong> </em>网络地址必须如上输入。如果您使用192.168.0.0这样的地址，将会遇到错误。</p><h3><span class="ez-toc-section" id="List_of_routes_added_with_a_specific_protocol"/>添加了特定协议的路由列表<span class="ez-toc-section-end"/></h3><pre><code class="language-bash">Get-NetRoute -Protocol Local -DestinationPrefix 192.168.*  </code></pre><p>在这个命令中，可以使用<strong> Rip </strong>、<strong> bgp </strong>、<strong> Eigrp </strong>等协议。而不是本地的。</p><h3><span class="ez-toc-section" id="Get_a_list_of_active_routes"/>获取活动路线列表<span class="ez-toc-section-end"/></h3><pre><code class="language-bash">Get-NetRoute -State Alive  </code></pre><p>使用上面的命令，您可以从编写的例程中获得完整的信息。你可以使用<strong>Get-Help</strong><strong>Get-net route</strong>命令来获得更多关于其他参数的信息。</p><h2><span class="ez-toc-section" id="Route_writing_tutorial_with_PowerShell"/>用PowerShell路由编写教程<span class="ez-toc-section-end"/></h2><p>您可以使用<strong> New-NetRoute </strong>命令手动写入一条路线。该命令与<strong> Get-NetRoute </strong>命令的结构相同。下面，我们将给出一个如何在PowerShell中编写rout的例子，并解释其中的参数类型。</p><p><em> <strong>注:</strong> </em>写路线，需要用<strong>管理员权限</strong>打开<strong> PowerShell </strong>。</p><pre><code class="language-bash">New-NetRoute -DestinationPrefix "10.0.0.0/24" -InterfaceAlias "Ethernet" -NextHop 192.168.1.1 -RouteMetric 1 -Protocol Local -Publish Yes  </code></pre><p>在上面的例子中，用于路由网络10.0.0.0的路由连同一些参数一起被写入，我们将在下面解释。</p><p><em><strong>–destionprefix:</strong></em>所需的网络地址及其路由前缀</p><p><em><strong>–interface alias:</strong></em>要为其写路由的接口的名称</p><p><em><strong>–next hop:</strong></em>访问导入网络的网关地址</p><p><em><strong>–route metric:</strong></em>向目标网关发送数据包的优先级</p><p><em><strong>–协议:</strong> </em>路由协议的类型</p><p><em><strong>–发布:</strong> </em>路线运行激活</p><p>现在，您将能够编写所需路由器。</p><p><em> <strong>注意:</strong> </em>在上面的命令中，你会需要3个主要参数<strong> DestinationPrefix </strong>、<strong> InterfaceAlias </strong>和<strong> NextHop </strong>，如果没有写其他参数，Windows会默认设置。</p><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>由于PowerShell是最强大的命令行工具，大多数Windows服务器管理命令都是通过这个可爱的蓝色环境完成的。在本文中，我们试图教您如何获得Get-NetRoute命令、获得与网络接口相关的路由列表、使用特定协议添加的路由列表等等。</p></div></div>    
</body>
</html>