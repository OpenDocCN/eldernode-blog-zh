<html>
<head>
<title>Initial Server Setup On Ubuntu 21.04 - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Ubuntu 21.04上的初始服务器设置- Eldernode博客</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/initial-server-setup-on-ubuntu-21-04/#0001-01-01">https://blog.eldernode.com/initial-server-setup-on-ubuntu-21-04/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/0798efb8c5bd2b7254353d1b5c07a57a.png" data-src="https://blog.eldernode.com/wp-content/uploads/2021/05/Initial-Server-Setup-On-Ubuntu-21.04.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Initial Server Setup On Ubuntu 21.04" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/05/Initial-Server-Setup-On-Ubuntu-21.04.png 2069w, https://blog.eldernode.com/wp-content/uploads/2021/05/Initial-Server-Setup-On-Ubuntu-21.04-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/05/Initial-Server-Setup-On-Ubuntu-21.04-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2021/05/Initial-Server-Setup-On-Ubuntu-21.04-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2021/05/Initial-Server-Setup-On-Ubuntu-21.04-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2021/05/Initial-Server-Setup-On-Ubuntu-21.04-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/05/Initial-Server-Setup-On-Ubuntu-21.04.png"/><p>2021年4月22日，Ubuntu 21.04发布。这是自2006年以来的第34次发布。由于Ubuntu 21.04附带9个月的安全更新、关键修复和精选软件更新，因此支持到2022年1月。新版本包括一个重新设计的黑暗主题Yaru，在导航和新的文件图标方面有了可访问性的改进。你在这里是因为你喜欢这个最流行的开源桌面操作系统。此外，你会发现Ubuntu 21.04的新功能，以及在这个版本中你找不到的东西。所以，加入我们这篇文章来回顾一下Ubuntu 21.04 上的<strong>初始服务器设置。和<a href="https://eldernode.com/" target="_blank" rel="noopener"> Eldernode </a>一起庆祝这次发布！如果你正在寻找便宜但重要的<a href="https://eldernode.com/ubuntu-vps/" target="_blank" rel="noopener"> Ubuntu VPS </a>，我们的技术团队会帮助你购买你自己的。</strong></p><h2><span class="ez-toc-section" id="All_about_Ubuntu_2104_Hirsute_Hippo"/> <strong>所有关于Ubuntu 21.04多毛河马</strong>T3】</h2><p>首先，我们来多了解一下<a href="https://blog.eldernode.com/tag/ubuntu/" target="_blank" rel="noopener">Ubuntu</a>21.04‘多毛河马’。虽然新的Ubuntu版本包括最新的GNOME版本，但Ubuntu 21.04不<strong>不</strong>包括GNOME 40。但将来可能会在Ubuntu 21.04上安装GNOME 40。另外，<strong>在Ubuntu 21.04上没有GTK4 </strong>可用。它带有一个新的桌面图标实现。为了根据您的需求策划Ubuntu桌面体验，Ubuntu 21.04拥有大量<strong>附加设置</strong>。</p><p>你可以在Ubuntu 21.04上使用<strong> Mozilla Firefox </strong>、<strong>雷鸟</strong>和<strong> LibreOffice </strong>的更新版本。新版本的<em> GNOME图像查看器</em>、<em>字符应用</em>、<em>磁盘使用分析器</em>、<em>系统监视器</em>也在这个版本中可用。这个新版本中还有其他一些变化，如默认的Wayland、私有主目录、Raspberry Pi计算模块4上的Wi-Fi +蓝牙支持、Linux 5.11内核、智能卡认证支持、APT分阶段更新等等。</p><p> </p><p><img data-lazyloaded="1" src="../Images/11fbfb133c996b9205c4e3fbc5083efd.png" decoding="async" loading="lazy" class="size-full wp-image-30883 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/05/image_2021-05-11_18-14-29.png" alt="Initial Server Setup On Ubuntu 21.04" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/05/image_2021-05-11_18-14-29.png 720w, https://blog.eldernode.com/wp-content/uploads/2021/05/image_2021-05-11_18-14-29-300x220.png 300w" data-sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/05/image_2021-05-11_18-14-29.png"/></p><h3/><h3><span class="ez-toc-section" id="Prerequisites_to_Ubuntu_2104_Initial_Server_Setup"/><strong>Ubuntu 21.04初始服务器设置的先决条件</strong> <span class="ez-toc-section-end"/></h3><p>为了让本教程更好地工作，请考虑以下先决条件:</p><p>_拥有Sudo权限的非root用户。</p><p>_至少2GB的可用存储空间。</p><p>_访问包含您要安装的Ubuntu Server版本的DVD或USB闪存驱动器。</p><p>_如果你打算在安装Ubuntu Server的同时安装你想保留的数据，请确保你有一个最新的备份。</p><p>_如果您正在远程访问Ubuntu Server 21.04，请参考<a href="https://blog.eldernode.com/tutorial-connect-to-ssh-on-linux/" target="_blank" rel="noopener">在Linux服务器上连接到ssh</a>以查看如何通过SSH访问终端。</p><h2><span class="ez-toc-section" id="Initial_Server_Setup_with_Ubuntu_2104_Step_to_step"/><strong>Ubuntu 21.04初始服务器设置步骤</strong>步骤<span class="ez-toc-section-end"/></h2><p>可以<a href="https://ubuntu.com/tutorials/upgrading-ubuntu-desktop#download" target="_blank" rel="noopener">下载</a>直接安装<strong> Ubuntu 21.04(多毛河马)</strong>。也可以从20.10升级到Ubuntu 21.04。升级比全新安装要容易得多，因为它会保留您的所有文件、应用和应用设置。</p><p>让我们来看一下这个指南中的步骤，以便用Ubuntu 21.04成功地进行初始服务器设置。一旦你完成本教程，你可以使用服务器的任何服务，如网络服务器，<a href="https://blog.eldernode.com/how-to-install-lamp-on-ubuntu-20-04/" target="_blank" rel="noopener">灯</a>服务器，<a href="https://blog.eldernode.com/install-lemp-stack-ubuntu20/" target="_blank" rel="noopener"> LEMP </a>服务器，VPN服务器，<a href="https://blog.eldernode.com/install-mysql-on-linux-ubuntu-20-04/" target="_blank" rel="noopener"> MySQL </a>服务器，或任何所需的服务。</p><h3><span class="ez-toc-section" id="Step_1_Update_and_Upgrade_Ubuntu_2104"/> <strong>第一步:更新升级Ubuntu 21.04</strong>T3】</h3><p>像往常一样，建议您从更新系统开始。所以，通过SSH或者控制台登录你的Ubuntu 21.04系统。为此，请运行以下命令:</p><pre><code class="language-bash">sudo apt update</code></pre><pre><code class="language-bash">sudo apt upgrade</code></pre><h3><span class="ez-toc-section" id="Step_2_Create_a_new_user_on_Ubuntu_2104"/> <strong>第二步:在Ubuntu 21.04 </strong> <span class="ez-toc-section-end"/>上创建新用户</h3><p>正如我们在先决条件一节中提到的，您需要使用拥有超级用户特权的用户。现在，运行下面的命令让<strong>为系统管理创建一个账户</strong>，并启用Sudo访问:</p><pre><code class="language-bash">sudo adduser newuser</code></pre><p>创建新用户后，您需要将创建的用户添加到Sudo组，以获得所有Sudo权限:</p><pre><code class="language-bash">sudo usermod -aG sudo newuser</code></pre><p><strong>记住</strong>在上面的命令中用<strong> newuser </strong>替换你喜欢的名字。</p><p>接下来，系统会提示您输入一个<strong>新密码</strong>。尝试选择一个强密码，并确保其安全。使用下面的命令为用户更改和创建新密码:</p><pre><code class="language-bash">sudo passwd newuser</code></pre><p><em> <strong>注意</strong> : </em>在Linux中输入密码时，你将看不到星星或圆点，看起来好像什么也没输入。</p><h3><span class="ez-toc-section" id="Step_3_SSH_Configuration"/> <strong>步骤三:SSH配置</strong> <span class="ez-toc-section-end"/></h3><p>为了保护您的系统免受bot和hack的攻击，您必须更改默认的SSH端口。因此，要更改默认端口编辑<strong> OpenSSH </strong>配置文件<strong> /etc/ssh/sshd_config </strong>并做如下更改:</p><pre><code class="language-bash">nano /etc/ssh/sshd_config</code></pre><p>因为默认的ssh端口总是在攻击者身上，所以更改它们是个好主意:</p><pre><code class="language-bash">before edit: #port 22</code></pre><p><strong>取消对</strong>端口22的注释，并添加您喜欢的端口:</p><pre><code class="language-bash">port 2245</code></pre><p>另外，您可以<strong>禁用Root SSH登录</strong>。运行以下命令以禁用通过ssh的root登录:</p><pre><code class="language-bash">PermitRootLogin no</code></pre><p>当你完成并更改端口后，按下<strong> Ctrl + x </strong>并按下<strong> Enter </strong>两次以<strong>保存</strong>并退出文件。</p><h3><span class="ez-toc-section" id="Step_4_Configure_Firewall"/> <strong>步骤4:配置防火墙</strong> <span class="ez-toc-section-end"/></h3><p>在本指南的最后一步，您将使用FirewallD配置防火墙。要从默认存储库中安装所需的软件包，请运行:</p><pre><code class="language-bash">sudo apt install firewalld</code></pre><p>安装防火墙后，使用下面的命令<strong>启动防火墙服务</strong>并使其在系统启动时自动启动:</p><pre><code class="language-bash">sudo systemctl start firewall</code></pre><pre><code class="language-bash">sudo systemctl enable firewalld</code></pre><p>默认情况下，防火墙允许远程用户进行SSH访问。如果您希望添加您喜欢的端口，您需要添加<strong>防火墙和</strong>，因为您可能需要允许其他服务通过防火墙到达远程用户。使用下面的命令给<strong>添加ssh新端口</strong>:</p><pre><code class="language-bash">firewall-cmd --permanent --add-port=2245/tcp</code></pre><p>你可以直接提供一个类似“<strong> http </strong>或者“<strong> https </strong>的服务名来允许。<strong>防火墙</strong>使用<strong> /etc/services </strong>文件来确定服务对应的端口:</p><pre><code class="language-bash">firewall-cmd --permanent --add-service=http firewall-cmd --permanent --add-service=https</code></pre><p>您可能会发现在<strong> /etc/services </strong>文件中没有定义任何服务名。所以，你需要防火墙规则直接使用端口号。例如，要允许TCP端口2080连接到您的防火墙:</p><pre><code class="language-bash">firewall-cmd --permanent --add-port=2080/tcp</code></pre><p>进行任何更改后重新加载更改。为此，请运行:</p><pre><code class="language-bash">firewall-cmd --reload</code></pre><p>最后，您可以查看所有允许的服务和端口:</p><pre><code class="language-bash">firewall-cmd --permanent --list-all</code></pre><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>在本文中，您学习了Ubuntu 21.04 <strong>的初始服务器设置。</strong>遵循上述步骤有助于提高服务器的安全性和可用性。如果您已经完成了所有的说明和基本设置，您就可以开始享受新设置的服务器了。向你在<a href="https://community.eldernode.com/"> Eldernode社区</a>的朋友发送反馈，或者询问他们关于Ubuntu 21.04的新测试。</p></div></div>    
</body>
</html>