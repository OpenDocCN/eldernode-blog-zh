<html>
<head>
<title>How to Install Icinga 2 on Linux Ubuntu 20.04 LTS - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在Linux Ubuntu 20.04上安装Icinga 2 LTS-elder node博客</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/install-icinga-2-on-linux-ubuntu-20-04/#0001-01-01">https://blog.eldernode.com/install-icinga-2-on-linux-ubuntu-20-04/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/b7267f491515238ebd5234ba24f1839e.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/12/How-to-Install-Icinga-2-on-Linux-Ubuntu-20.04-LTS.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="How to Install Icinga 2 on Linux Ubuntu 20.04 LTS" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/12/How-to-Install-Icinga-2-on-Linux-Ubuntu-20.04-LTS.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/12/How-to-Install-Icinga-2-on-Linux-Ubuntu-20.04-LTS-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/12/How-to-Install-Icinga-2-on-Linux-Ubuntu-20.04-LTS-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/12/How-to-Install-Icinga-2-on-Linux-Ubuntu-20.04-LTS-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/12/How-to-Install-Icinga-2-on-Linux-Ubuntu-20.04-LTS-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/12/How-to-Install-Icinga-2-on-Linux-Ubuntu-20.04-LTS-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/12/How-to-Install-Icinga-2-on-Linux-Ubuntu-20.04-LTS.png"/><p>Icinga 2软件是一款免费的网络监控软件，以开源形式提供。这个软件作为网络监控软件，检查网络的所有可用资源，并在出现问题时迅速通知用户。Icinga 2是Icinga的修改版本，由于其可伸缩性和实时监控工具，在IT专业人员中非常受欢迎。该软件与任何操作系统兼容，可以测量广域网，并提供带有颜色代码的图形。在本文中，我们试图向您介绍<strong>如何在Linux Ubuntu 20.04 LTS </strong>上安装Icinga 2。如果你想买一个<a href="https://eldernode.com/ubuntu-vps/" target="_blank" rel="noopener"> Ubuntu VPS </a>服务器，你可以在<a href="https://eldernode.com/" target="_blank" rel="noopener"> Eldernode </a>看到可用的包。</p><h2><span class="ez-toc-section" id="Tutorial_Install_Icinga_2_on_Linux_Ubuntu_2004_LTS"/>教程在Linux Ubuntu 20.04 LTS上安装Icinga 2<span class="ez-toc-section-end"/></h2><p>Icinga 2包含一个高度互动的可视化监控界面，方便访问监控。对于一个开源应用程序来说，这也是相当创新的，因为它使用了开源API技术。这使得Icinga 2能够高速控制其网络。在这篇文章的续篇中，加入我们在Linux <a href="https://blog.eldernode.com/tag/ubuntu/" target="_blank" rel="noopener"> Ubuntu </a> 20.04 LTS上安装Icinga 2的教程。</p><p>您必须首先使用以下命令更新必要的程序:</p><pre><code class="language-bash">sudo apt update &amp;&amp; sudo apt upgrade</code></pre><p>然后，您需要运行以下命令来安装安装过程中需要的程序:</p><pre><code class="language-bash">sudo apt install -y vim apt-transport-https wget gnupg</code></pre><p>在安装Icinga 2之前，您需要做的最后一步是添加Icinga封闭库。因此，您必须将Icinga存储库下面的相同映像添加到服务器数据包管理配置中:</p><pre><code class="language-bash">wget -O - https://packages.icinga.com/icinga.key | sudo apt-key add -  . /etc/os-release; if [ ! -z ${UBUNTU_CODENAME+x} ]; then DIST="${UBUNTU_CODENAME}"; else DIST="$(lsb_release -c| awk '{print $2}')"; fi;  echo "deb https://packages.icinga.com/ubuntu icinga-${DIST} main" | sudo tee /etc/apt/sources.list.d/${DIST}-icinga.list  echo "deb-src https://packages.icinga.com/ubuntu icinga-${DIST} main" | sudo tee -a /etc/apt/sources.list.d/${DIST}-icinga.list</code></pre><p>最后，您需要被服务器更新以应用更改:</p><pre><code class="language-bash">sudo apt update</code></pre><h2><span class="ez-toc-section" id="Install_Icinga_2_on_Linux_Ubuntu_2004"/>在Linux Ubuntu 20.04上安装Icinga 2<span class="ez-toc-section-end"/></h2><p>安装完必要的程序后，就可以使用apt包管理器通过执行以下命令来安装Icinga 2了:</p><pre><code class="language-bash">sudo apt install icinga2 -y</code></pre><p>Icinga 2在没有安装和运行插件的情况下无法检查服务。因此，您需要使用以下命令，并安装提供各种插件的监控插件项目:</p><pre><code class="language-bash">sudo apt install monitoring-plugins -y</code></pre><p>干得好！现在，您需要使用以下命令启动并激活icinga2:</p><pre><code class="language-bash">sudo systemctl enable --now icinga2</code></pre><p>下一步你需要安装<a href="https://blog.eldernode.com/install-mysql-on-linux-ubuntu-20-04/"> MySQL </a>或者MariaDB并配置DB IDO MySQL。要做到这一点，你可以参考文章<a href="https://blog.eldernode.com/mariadb-installation-on-ubuntu/">教程在Ubuntu上安装Mariadb】。</a></p><p>现在您需要使用以下命令安装DB IDO:</p><pre><code class="language-bash">sudo apt install icinga2-ido-mysql -y</code></pre><p>将会打开一个窗口，询问您是否想要启用<strong> Icinga2的ido-mysql功能</strong>。所以你必须选择<strong> &lt;是的&gt; </strong>。</p><p>然后询问您是否想用<strong> dbconfig-common </strong>为<strong> Icinga2的ido-mysql </strong>配置数据库。你必须选择<strong>T6【否】T7</strong>来回答这个问题。</p><p>现在您需要为Icinga2创建一个数据库和用户:</p><pre><code class="language-bash">$ mysql -u root -p    MariaDB [(none)]&gt; CREATE DATABASE icinga;  MariaDB [(none)]&gt; GRANT SELECT, INSERT, UPDATE, DELETE, DROP, CREATE VIEW, INDEX, EXECUTE ON icinga.* TO 'icinga'@'localhost' IDENTIFIED BY 'icinga';  MariaDB [(none)]&gt; FLUSH PRIVILEGES;  MariaDB [(none)]&gt; quit</code></pre><p>成功安装数据库并创建用户后，现在必须通过执行以下命令进入Icinga 2 IDO设计。如果要求您输入密码，您可以输入root。</p><pre><code class="language-bash">$ mysql -u root -p icinga &lt; /usr/share/icinga2-ido-mysql/schema/mysql.sql  Enter password: &lt;Enter-your-root-password&gt;</code></pre><h3><span class="ez-toc-section" id="How_to_enable_the_IDO_MySQL_module"/>如何启用IDO MySQL模块<span class="ez-toc-section-end"/></h3><p>这个模块创建一个新的配置文件，可以安装在<strong>/etc/icing a2/features-available/I do-MySQL . conf</strong>中。为此，请执行以下命令:</p><pre><code class="language-bash">$ sudo vim /etc/icinga2/features-available/ido-mysql.conf    /**  * The db_ido_mysql library implements IDO functionality  * for MySQL.  */    library "db_ido_mysql"    object IdoMysqlConnection "ido-mysql" {  user = "icinga",  password = "icinga",  host = "localhost",  database = "icinga"  }</code></pre><p>现在，您应该使用以下命令来启用ido-mysql配置文件，这些命令代表icinga2属性:</p><pre><code class="language-bash">$ sudo icinga2 feature enable ido-mysql  Enabling feature ido-mysql. Make sure to restart Icinga 2 for these changes to take effect</code></pre><p>最后，用下面的命令重新启动Icinga 2:</p><pre><code class="language-bash">sudo systemctl restart icinga2</code></pre><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>Icinga是一个监视系统，它监视网络资源的可用性，通知用户关机，并生成性能数据用于报告。该软件可扩展，可以控制多个位置的大型复杂环境。在这篇文章中，我们试图教你如何在Linux Ubuntu 20.04 LTS上安装Icinga 2。</p></div></div>    
</body>
</html>