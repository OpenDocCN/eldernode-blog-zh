<html>
<head>
<title>Tutorial Making Dedicated Server to Multiplayer Game on Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>在Unity上制作多人游戏专用服务器的教程</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/making-dedicated-server-to-multiplayer-game/#0001-01-01">https://blog.eldernode.com/making-dedicated-server-to-multiplayer-game/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/ce66accacf4537fcd3858aba36483798.png" data-src="https://blog.eldernode.com/wp-content/uploads/2022/05/Tutorial-Making-Dedicated-Server-to-Multiplayer-Game-on-Unity.webp" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Tutorial Making Dedicated Server to Multiplayer Game on Unity" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/05/Tutorial-Making-Dedicated-Server-to-Multiplayer-Game-on-Unity.webp 2069w, https://blog.eldernode.com/wp-content/uploads/2022/05/Tutorial-Making-Dedicated-Server-to-Multiplayer-Game-on-Unity-300x164.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/05/Tutorial-Making-Dedicated-Server-to-Multiplayer-Game-on-Unity-1024x561.webp 1024w, https://blog.eldernode.com/wp-content/uploads/2022/05/Tutorial-Making-Dedicated-Server-to-Multiplayer-Game-on-Unity-768x421.webp 768w, https://blog.eldernode.com/wp-content/uploads/2022/05/Tutorial-Making-Dedicated-Server-to-Multiplayer-Game-on-Unity-1536x842.webp 1536w, https://blog.eldernode.com/wp-content/uploads/2022/05/Tutorial-Making-Dedicated-Server-to-Multiplayer-Game-on-Unity-2048x1122.webp 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/05/Tutorial-Making-Dedicated-Server-to-Multiplayer-Game-on-Unity.webp"/><p>在网站启动之初，你可以使用托管甚至共享服务器，但过一段时间，随着网站的知名度和吸引高访客，共享服务器将无法满足您的网站的需求，你应该考虑使用专用服务器。专用服务器是为特定任务而嵌入的计算机。在这篇文章中，我们将教你关于在Unity上制作多人游戏专用服务器的教程。如果你想购买一台<a href="https://eldernode.com/dedicated-server/"> <strong>专用服务器</strong> </a>，你可以查看<a href="https://eldernode.com/"> Eldernode </a>网站上提供的套装。</p><h2><span class="ez-toc-section" id="Making_Dedicated_Server_to_Multiplayer_Game_on_Unity"/> <strong>在Unity上制作多人游戏专用服务器</strong> <span class="ez-toc-section-end"/></h2><h3><span class="ez-toc-section" id="What_is_Dedicated_Server"/> <strong>什么是专用服务器？</strong>T3】</h3><p><a href="https://blog.eldernode.com/tag/dedicated-server/">专用服务器</a>是一种专门提供给客户的网络托管服务。它在数据中心24小时不间断运行，并连接到万维网。此外，它是一个专门用于托管网站、数据和应用程序的计算机硬件。当用户使用专用服务器时，所有资源(如内存、RAM和CPU)都完全属于他们自己，他们不会与其他用户共享这些资源。由于服务器应该可以使用很长时间，并且硬件稳定性非常重要，因此使用特殊技术来延长服务器组件的寿命。</p><h3><span class="ez-toc-section" id="Dedicated_Server_Usage_Cases"/> <strong>专用服务器使用案例</strong> <span class="ez-toc-section-end"/></h3><p>1 –&gt;用于电子邮件服务器、数据库服务器、流程服务器等。</p><p>2 -&gt;用于工程、医学等各种技术学科。</p><p>3 –&gt;用于存储信息</p><p>4 –&gt;托管网站</p><p>5 –&gt;计算机网络的控制、管理和评估</p><h3><span class="ez-toc-section" id="What_is_Unity"/> <strong>什么是团结？</strong>T3】</h3><p>Unity是一个跨平台的2D/3D游戏引擎，也是一个面向开发人员的强大IDE，主要用于为计算机、控制台、移动设备等开发视频游戏和模拟器。它可以提供许多使游戏运行的最重要的内部功能。这个游戏引擎为游戏构建、平台开发和活跃的社区提供了强大的可视化界面。</p><p>苹果开发者大会于2005年6月首次推出Unity作为独特的Mac OS X游戏引擎，由Unity技术团队开发。此后，它逐渐发展到支持各种桌面、移动、控制台和虚拟现实操作系统。</p><h3><span class="ez-toc-section" id="Requirements"/> <strong>要求</strong> <span class="ez-toc-section-end"/></h3><p>在这一节，我们将解释如何在Unity上为多人游戏制作专用服务器。您应该设置一个简单的构建脚本，它有四种不同的方法:</p><pre><code class="language-bash">BuildAll()  {  BuildWindowsServer();  BuildLinuxServer();  BuildWindowsClient();  }</code></pre><p>您不需要每次去构建设置并选择一堆选项来构建您的项目，您可以使用脚本化的方法来为您做所有的事情。</p><p>以下脚本仅执行该构建脚本中的build-all方法。</p><pre><code class="language-bash">echo "Starting build..."  "c:\Program Files\Unity\Hub\Editor\2022.5.23f1\Editor\Unity.exe" -quit -batchmode -projectPath "C:\Users\Neil\Dev\shrinewars" -executeMethod BuildScript.BuildAll  echo "Finished build!"</code></pre><p>所有这一切的最终结果将是三个不同的版本，一个用于<strong> Windows服务器</strong>，一个用于<strong> Linux服务器</strong>，一个用于<strong> Windows客户端</strong>。为此，您应该部署一个Linux服务器。你需要在Unity上买一个多人专用的服务器。在下一节，我们将教你如何购买一个多人专用服务器。</p><h2><span class="ez-toc-section" id="How_to_Buy_a_Dedicated_Server_for_Multiplayer_Game_on_Unity"/> <strong>如何在Unity上购买多人游戏专用服务器</strong> <span class="ez-toc-section-end"/></h2><p>首先，你应该去<a href="https://eldernode.com/"> Eldernode </a>网站，点击<strong>专用服务器</strong>。</p><p> </p><p><img data-lazyloaded="1" src="../Images/1f59187954e650624b6a7393cfbda4af.png" decoding="async" loading="lazy" class="aligncenter wp-image-17965 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/11/how-to-buy-dedicated-server.png" alt="how to buy dedicated server" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/11/how-to-buy-dedicated-server.png 1336w, https://blog.eldernode.com/wp-content/uploads/2020/11/how-to-buy-dedicated-server-300x139.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/11/how-to-buy-dedicated-server-1024x474.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/11/how-to-buy-dedicated-server-768x355.png 768w" data-sizes="(max-width: 1336px) 100vw, 1336px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/11/how-to-buy-dedicated-server.png"/></p><p> </p><p>现在从可用的专用服务器位置中选择您的<strong>专用服务器位置</strong>。我们会选择英国。</p><p> </p><p><img data-lazyloaded="1" src="../Images/dd7ad10b4ab81f0cb8c453cd6fe5c60a.png" decoding="async" loading="lazy" class="aligncenter wp-image-37007 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/05/2.-Choose-Dedicated-server-location.webp" alt="Choose-Dedicated-server-location" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/05/2.-Choose-Dedicated-server-location.webp 1024w, https://blog.eldernode.com/wp-content/uploads/2022/05/2.-Choose-Dedicated-server-location-300x136.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/05/2.-Choose-Dedicated-server-location-768x349.webp 768w" data-sizes="(max-width: 1024px) 100vw, 1024px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/05/2.-Choose-Dedicated-server-location.webp"/></p><p> </p><p>然后你需要选择你的<strong>专用服务器计划</strong>并点击<strong>订单</strong>。</p><p> </p><p><img data-lazyloaded="1" src="../Images/3b515f1f28911eee8e98a020851b165d.png" decoding="async" loading="lazy" class="aligncenter wp-image-37008 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/05/3.-Dedicated-server-plans.webp" alt="Dedicated-server-plans" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/05/3.-Dedicated-server-plans.webp 1024w, https://blog.eldernode.com/wp-content/uploads/2022/05/3.-Dedicated-server-plans-300x135.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/05/3.-Dedicated-server-plans-768x347.webp 768w" data-sizes="(max-width: 1024px) 100vw, 1024px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/05/3.-Dedicated-server-plans.webp"/></p><p> </p><p>在这一步，您应该配置您想要的选项并继续<strong>检查</strong>。填写相关信息后点击<strong>继续</strong>。</p><p> </p><p><img data-lazyloaded="1" src="../Images/52cf6bd493a052269a32eb9651472e26.png" decoding="async" loading="lazy" class="aligncenter wp-image-37009 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/05/4.-configure-your-options.webp" alt="configure-your-options" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/05/4.-configure-your-options.webp 1024w, https://blog.eldernode.com/wp-content/uploads/2022/05/4.-configure-your-options-300x147.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/05/4.-configure-your-options-768x377.webp 768w" data-sizes="(max-width: 1024px) 100vw, 1024px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/05/4.-configure-your-options.webp"/></p><p> </p><p>最后一步，点击<strong>结账</strong>并付款。</p><p> </p><p><img data-lazyloaded="1" src="../Images/2e7bfaefbad6dc5762c0c77776934567.png" decoding="async" loading="lazy" class="aligncenter wp-image-37010 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/05/5.-Dedicated-server-payment.webp" alt="Dedicated-server-payment" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/05/5.-Dedicated-server-payment.webp 1024w, https://blog.eldernode.com/wp-content/uploads/2022/05/5.-Dedicated-server-payment-300x147.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/05/5.-Dedicated-server-payment-768x377.webp 768w" data-sizes="(max-width: 1024px) 100vw, 1024px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/05/5.-Dedicated-server-payment.webp"/></p><p> </p><p>一旦您付款，我们将在最短的时间内为您提供所需的服务。</p><h2><span class="ez-toc-section" id="Make_Dedicated_Server_to_Multiplayer_Game_on_Unity"/> <strong>在Unity上制作多人游戏专用服务器</strong> <span class="ez-toc-section-end"/></h2><p>在此部分，导航至<strong> Unity项目</strong>。如果你设置了编辑器脚本，你会在顶部看到<strong>构建</strong>选项。</p><p>现在点击<strong>构建</strong>部分中的<strong>构建服务器(Linux) </strong>。然后它会开始自动构建一切。构建完成后，如果你回到<strong> vs代码</strong>，你可以看到构建文件夹。</p><p> </p><p><img data-lazyloaded="1" src="../Images/b9487acd6541b24055541adbc8f3fc84.png" decoding="async" loading="lazy" class="aligncenter wp-image-37011 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/05/12.-Build-Server-Linux.webp" alt="Making Dedicated Server to Multiplayer Game" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/05/12.-Build-Server-Linux.webp 1024w, https://blog.eldernode.com/wp-content/uploads/2022/05/12.-Build-Server-Linux-300x143.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/05/12.-Build-Server-Linux-768x365.webp 768w" data-sizes="(max-width: 1024px) 100vw, 1024px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/05/12.-Build-Server-Linux.webp"/></p><p> </p><p>您应该在文件资源管理器中打开该文件夹。为此，双击<strong>构建</strong>文件夹并选择<strong>在文件浏览器中显示</strong>:</p><p> </p><p><img data-lazyloaded="1" src="../Images/13b999578300b57c1e0f7709caa5fe49.png" decoding="async" loading="lazy" class="aligncenter wp-image-37012 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/05/14.-7-zip-file.webp" alt="Making Dedicated Server to Multiplayer Game" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/05/14.-7-zip-file.webp 1024w, https://blog.eldernode.com/wp-content/uploads/2022/05/14.-7-zip-file-300x130.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/05/14.-7-zip-file-768x333.webp 768w" data-sizes="(max-width: 1024px) 100vw, 1024px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/05/14.-7-zip-file.webp"/></p><p> </p><p>上传的话可以用<strong> 7-zip </strong>压缩成zip文件。选择<strong> 7-Zip </strong>然后点击<strong>添加到“server . Zip”</strong>:</p><p> </p><p><img data-lazyloaded="1" src="../Images/16eae808aa0623006c22648727cc5ca7.png" decoding="async" loading="lazy" class="aligncenter wp-image-37016 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/05/how-to-extract-7zip-file.webp" alt="how to extract 7zip file" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/05/how-to-extract-7zip-file.webp 698w, https://blog.eldernode.com/wp-content/uploads/2022/05/how-to-extract-7zip-file-300x205.webp 300w" data-sizes="(max-width: 698px) 100vw, 698px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/05/how-to-extract-7zip-file.webp"/></p><p> </p><p>如果你点击它，Eldernode会给你一个<strong>公共IP </strong>和一个<strong>用户名</strong>。您可以使用它们通过<strong> SSH客户端</strong>进行连接。要做到这一点，请在您的终端中复制IP。</p><p>然后运行以下命令连接到该服务器:</p><pre><code class="language-bash">ssh -i ~/Downloads/sshkeypair.pem <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="2c494f1e01595f495e6c1e1c15021d1e1b021e1b0214">[email protected]</a></code></pre><p>将询问您是否要继续连接，按<strong>是</strong>。</p><p>在这一部分，您应该上传您的构建zip文件。为此，请输入以下命令:</p><pre><code class="language-bash">scp -i ~Downloads/sshkeypair.pem Builds/Linux/Server.zip <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="284d4b1a055d5b4d5a681a181106191a1f061a1f0610">[email protected]</a>:.</code></pre><p><em> <strong>注意:</strong> </em>记得更换你的IP地址。</p><p>冒号和圆点表示您希望在Linux服务器上放置这个zip文件的位置。在这里，它被放置在根的右边。</p><p>如果您想返回到您的终端，请使用以下命令:</p><pre><code class="language-bash">ls   server.zip</code></pre><p>您可以使用以下命令<strong>解压缩上传的文件</strong>:</p><pre><code class="language-bash">unzip Server.zip</code></pre><p>要检查那里有什么，只需键入以下命令:</p><pre><code class="language-bash">ls   Server.zip</code></pre><p>要进入<strong>服务器文件夹</strong>，只需运行以下命令:</p><pre><code class="language-bash">cd Server/</code></pre><p>现在您应该看到<strong>服务器。x86_64 </strong>是您将作为服务器运行的。</p><p>在此步骤中，返回管理控制台，配置实例防火墙，仅允许来自一个或两个端口777的流量。为此，转到<strong>网络</strong>部分，点击<strong>添加角色</strong>。</p><p>请注意，如果您使用使用TCP的心灵感应传输，您应该只添加一个角色，并指定要打开的协议和端口，如下所示。就是这样！您已经设置了防火墙。</p><p>现在回到Linux服务器终端。然后，您应该通过输入以下命令来运行服务器:</p><pre><code class="language-bash">./Server.x86_64</code></pre><p>你应该使它可执行。为此，请键入以下内容:</p><pre><code class="language-bash">chmod +x ./Server.x86_64</code></pre><p>请记住，再次尝试运行上面的命令。</p><p>在输出中，您可以看到Unity正在初始化一切，并且服务器启动的心灵感应传输也已初始化，它正在侦听端口7777。</p><p>现在导航到Unity并点击play。要以客户端身份加入服务器，您必须将IP粘贴到<strong> localhost </strong>部分，然后点击<strong>客户端</strong>。</p><p> </p><p><img data-lazyloaded="1" src="../Images/31d1022846fe54b646d7b7321a5e1cc6.png" decoding="async" loading="lazy" class="aligncenter wp-image-37013 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/05/19.-Join-server-as-client.webp" alt="Join-server-as-client" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/05/19.-Join-server-as-client.webp 1024w, https://blog.eldernode.com/wp-content/uploads/2022/05/19.-Join-server-as-client-300x171.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/05/19.-Join-server-as-client-768x437.webp 768w" data-sizes="(max-width: 1024px) 100vw, 1024px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/05/19.-Join-server-as-client.webp"/></p><p> </p><p>您可以看到您已连接到服务器，如果客户端准备好了，您可以四处移动。然后，点击<strong>客户端就绪</strong>。</p><p> </p><p><img data-lazyloaded="1" src="../Images/f00e49e6944682cc45874be6c4ceb222.png" decoding="async" loading="lazy" class="aligncenter wp-image-37015 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/05/20.-Connect-successfully-to-server.webp" alt="Connect-successfully-to-server" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/05/20.-Connect-successfully-to-server.webp 1024w, https://blog.eldernode.com/wp-content/uploads/2022/05/20.-Connect-successfully-to-server-300x161.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/05/20.-Connect-successfully-to-server-768x413.webp 768w" data-sizes="(max-width: 1024px) 100vw, 1024px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/05/20.-Connect-successfully-to-server.webp"/></p><p> </p><p>接下来，我们将对多个客户端进行尝试。为此，使用<strong> ParrelSync </strong>并点击<strong>克隆管理器</strong>。克隆管理器窗口打开后，点击<strong>在新编辑器中打开</strong>。</p><p> </p><p><img data-lazyloaded="1" src="../Images/666ac80a8ea8c4665c915298a8865eb5.png" decoding="async" loading="lazy" class="aligncenter wp-image-37014 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/05/21.-Clones-Manager.webp" alt="Clones-Manager" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/05/21.-Clones-Manager.webp 512w, https://blog.eldernode.com/wp-content/uploads/2022/05/21.-Clones-Manager-300x253.webp 300w" data-sizes="(max-width: 512px) 100vw, 512px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/05/21.-Clones-Manager.webp"/></p><p> </p><p>新编辑器打开后，点击两者上的<b>播放</b>，粘贴<b> IP </b>。然后点击<b>客户端</b>和<b>客户端</b>。现在，您有两个客户端连接到云上的一个服务器。</p><p>如果只在本地主机上运行，会有明显的延迟。</p><p>您可以通过许多调整来做到这一点，例如使用UDP而不是TCP，以及不使用默认的网络转换。</p><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>Unity是开始学习游戏的最佳选择，因为它以图形界面的形式提供了许多有用的功能。同时是游戏开发的专业游戏引擎。我们解释了为你的游戏设置一个专用服务器所需的所有步骤。在这篇文章中，我们学习了如何在Unity上制作多人游戏的专用服务器。如有疑问，可在评论中联系我们。</p></div></div>    
</body>
</html>