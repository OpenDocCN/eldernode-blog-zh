<html>
<head>
<title>How to Make File and directory undeletable in Linux Even By Root</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何使文件和目录在Linux中不可删除，即使是通过Root</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/make-file-directory-undeletable-linux/#0001-01-01">https://blog.eldernode.com/make-file-directory-undeletable-linux/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/63f7202bd9c595c31faeb4523071b1e6.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2186.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="How to Make File and directory undeletable in Linux" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2186.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2186-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2186-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2186-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2186-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2186-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2186.png"/><p>一个Linux系统管理员需要知道一些Linux技巧。在本文中，您将学习如何使文件和目录不可删除。</p><p>如您所知，<span> <strong> root </strong> </span>是默认情况下可以修改系统上所有目录和文件的帐户或用户名，在包括Linux在内的类Unix操作系统上。</p><p>在本教程中，你将会看到如何让Linux中的<span> <a href="https://www.ssh.com/iam/user/root/" target="_blank" rel="noopener noreferrer">根用户</a> </span>无法删除目录或文件。</p><p> </p><p> </p><h2><span>如何使文件和目录不可删除Linux </span></h2><p>在Linux提示<span><a href="https://eldernode.com/tag/linux-tips-and-tricks/" target="_blank" rel="noopener noreferrer"/><span>中，学习<strong>使文件和目录不可删除</strong>对你来说非常有用，因为你可以将这个提示应用于所有重要的配置文件，这样就不会有人意外或故意删除它。</span> </span></p><p>要使文件不可修改，可以使用下面的命令使<strong> /backups/passwd </strong>文件不可修改(或不可删除)。之后，您将无法创建指向该文件的链接，也无法将任何数据写入该文件。</p><p>另外，请注意，要设置或删除该属性，您需要超级用户权限。所以使用<span> <strong> sudo </strong> </span>命令。</p><pre><code class="language-bash">sudo chattr +i /backups/passwd  OR  sudo chattr +i -V /backups/passwd</code></pre><p>同样，使用<strong> lsattr命令</strong>，查看文件的属性</p><pre><code class="language-bash">$ lsattr /backups/passwd   </code></pre><figure id="attachment_27505" class="wp-caption aligncenter" aria-describedby="caption-attachment-27505"/><p>现在让我们以普通用户和root用户的身份尝试删除不可变文件。</p><pre><code class="language-bash">rm /backups/passwd  sudo rm /backups/passwd    </code></pre><p><span> <a href="https://eldernode.com/linux-vps/">购买Linux虚拟私有服务器</a> </span></p><pre><code class="language-bash"/></pre><h3><span>如何在Linux中递归地使目录不可删除</span></h3><p>这里我们有<strong> <span> -R标志</span> </strong>，来递归地改变目录及其内容的属性。</p><pre><code class="language-bash">$ sudo chattr +i -RV /backups/</code></pre><p>然后，使用<span> <strong> -i </strong> </span>符号删除上述属性，使文件再次可变。</p><pre><code class="language-bash">sudo chattr -i /backups/ passwd</code></pre><p> </p><p>干得好！现在您知道了如何使文件和目录不被检测到，即使是在Linux中被root用户检测到。</p><p> </p><p>亲爱的用户，我们希望你喜欢这个教程，你可以在评论区提出关于这个培训的问题，或者解决<span> <a href="https://eldernode.com/"> Eldernode </a> </span>培训领域的其他问题，请参考<span> <a href="https://eldernode.com/ask" target="_blank" rel="noopener noreferrer">提问页面</a> </span>部分并在其中提出你的问题。</p></div></div>    
</body>
</html>