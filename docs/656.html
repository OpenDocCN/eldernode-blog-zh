<html>
<head>
<title>How to Install Rkhunter on Ubuntu 20.04 - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在Ubuntu 20.04 - Eldernode博客上安装Rkhunter</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/install-rkhunter-on-ubuntu/#0001-01-01">https://blog.eldernode.com/install-rkhunter-on-ubuntu/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/81acb102e8acc015658a1972aeb6b89e.png" data-src="https://blog.eldernode.com/wp-content/uploads/2021/03/How-to-Install-Rkhunter-on-Ubuntu-20.04.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="How to Install Rkhunter on Ubuntu 20.04" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/03/How-to-Install-Rkhunter-on-Ubuntu-20.04.png 2069w, https://blog.eldernode.com/wp-content/uploads/2021/03/How-to-Install-Rkhunter-on-Ubuntu-20.04-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/03/How-to-Install-Rkhunter-on-Ubuntu-20.04-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2021/03/How-to-Install-Rkhunter-on-Ubuntu-20.04-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2021/03/How-to-Install-Rkhunter-on-Ubuntu-20.04-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2021/03/How-to-Install-Rkhunter-on-Ubuntu-20.04-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/03/How-to-Install-Rkhunter-on-Ubuntu-20.04.png"/><p>Rkhunter是一个用于Linux系统的基于Unix/Linux的开源扫描工具。这个在GPL下发布的工具可以扫描你系统上的后门、rootkits和本地漏洞。Rkhunter还扫描隐藏文件、二进制文件上的错误权限设置、内核中的可疑字符串。在本文中，我们将教你如何在Ubuntu 20.04 上安装Rkhunter。需要注意的是，如果你想购买一台<strong> <a href="https://eldernode.com/ubuntu-vps/" target="_blank" rel="noopener"> Ubuntu VPS </a> </strong>服务器，你可以访问<a href="https://eldernode.com/"> Eldernode </a>中提供的软件包。</p><h2><span class="ez-toc-section" id="Tutorial_Install_Rkhunter_on_Ubuntu_2004_step_by_step"/> <strong>教程逐步在Ubuntu 20.04上安装rk hunter</strong><span class="ez-toc-section-end"/></h2><h3><span class="ez-toc-section" id="Install_Rkhunter_on_Ubuntu_2004_Ubuntu_1804"/> <strong>在Ubuntu 20.04上安装rk hunter | Ubuntu 18.04</strong><span class="ez-toc-section-end"/></h3><p>在本节中，我们将讨论如何在<a href="https://blog.eldernode.com/tag/ubuntu/"> Ubuntu </a> 20.04上安装Rkhunter。由于Rkhunter包在标准的Ubuntu存储库中可用，您可以使用以下命令安装它们:</p><pre><code class="language-bash">apt install rkhunter -y</code></pre><h2><span class="ez-toc-section" id="How_to_Configure_Rkhunter_on_Ubuntu_2004"/> <strong>如何在Ubuntu 20.04上配置rk hunter</strong><span class="ez-toc-section-end"/></h2><p>在您的系统上成功安装Rkhunter后，您现在必须配置Rkhunter，以便能够使用它来扫描您的系统。为此，您需要用您喜欢的编辑器打开<strong> /etc/Rkhunter.conf </strong>配置文件。然后进行如下更改:</p><pre><code class="language-bash">vim /etc/rkhunter.conf</code></pre><p>现在，您应该在配置文件中将<strong> UPDATE_MIRRORS </strong>的值设置为<strong> 1 </strong>。这样做将导致在使用<strong>–更新</strong>选项检查Rkhunter更新日期文件时，镜像文件也被检查更新。</p><pre><code class="language-bash">UPDATE_MIRRORS=1</code></pre><p>在下一步中，您需要将值<strong> MIRRORS_MODE </strong>设置为<strong> 0 </strong>。这个选项告诉Rkhunter在选择<strong>-更新</strong>或<strong>-版本</strong>命令行选项时使用哪个镜像。请注意，MIRRORS_MODE有三个值:</p><p>0–使用任何镜像</p><p>1–仅使用本地镜像</p><p>2–仅使用远程镜像</p><pre><code class="language-bash">MIRRORS_MODE=0</code></pre><p>现在，您应该将<strong> WEB_CMD </strong>值设置为null，“”。请注意，该选项必须设置为Rkhunter从互联网下载文件时使用的命令。</p><pre><code class="language-bash">WEB_CMD=""</code></pre><h3><span class="ez-toc-section" id="How_to_Enable_regular_scan_and_updates_with_Cron"/> <strong>如何使用Cron </strong> <span class="ez-toc-section-end"/>启用定期扫描和更新</h3><p>你要知道的一点是，Rkhunter脚本安装在Cron.d日常目录下，用于定期扫描和更新。所以脚本每天都由Cron执行。因此，您需要编辑<strong>/etc/default/rk hunter . conf</strong>文件，并应用以下更改。您可以通过将<strong> CRON_DAILY_RUN </strong>设置为“<strong> true </strong>”来启用Rkhunter扫描检查，以便每天运行:</p><pre><code class="language-bash">CRON_DAILY_RUN="true"</code></pre><p>现在，您还可以再次将<strong> CRON_DB_UPDATE </strong>设置为<strong> true </strong>来启用对Rkhunter数据库的每周更新:</p><pre><code class="language-bash">CRON_DB_UPDATE="true"</code></pre><p>如果您想要启用自动数据库更新，也可以将<strong> APT_AUTOGEN </strong>的值设置为<strong> true </strong>:</p><pre><code class="language-bash">APT_AUTOGEN="true"</code></pre><p><em> <strong>注意:</strong> </em>完成上述所有更改后，<strong>保存</strong>配置文件并退出。</p><p>您可以运行下面的命令来检查任何无法识别的配置选项。应该注意的是，如果发现任何配置问题，就会显示出来，并且返回代码会设置为1。</p><pre><code class="language-bash">rkhunter -C</code></pre><p>或者</p><pre><code class="language-bash">rkhunter --config-check</code></pre><h3><span class="ez-toc-section" id="Update_Rkhunter_text_data_files"/> <strong>更新Rkhunter文本数据文件</strong> <span class="ez-toc-section-end"/></h3><p>完成前面的步骤后，现在可以运行以下命令来更新Rkhunter文本数据文件。应该注意的是，这些文件是Rkhunter用来检测系统上的可疑活动的。所以它们必须是最新的:</p><pre><code class="language-bash">rkhunter --update</code></pre><p><em> <strong>注意:</strong> </em>由于从<a href="https://blog.eldernode.com/tag/security/">安全</a>风险的角度来看，运行带有<strong>–更新</strong>的Rkhunter可能不是一个好主意，您应该让您的软件包管理员负责更新它。</p><p>您也可以通过运行以下命令来获取Rkhunter版本:</p><pre><code class="language-bash">rkhunter --versioncheck</code></pre><h2><span class="ez-toc-section" id="How_to_Use_Rkhunter_and_Perform_System_Check"/> <strong>如何使用Rkhunter并执行系统检查</strong> <span class="ez-toc-section-end"/></h2><p>完成上述所有步骤以正确配置Rkhunter后，您现在应该运行以下命令对您的系统执行扫描测试:</p><pre><code class="language-bash">rkhunter --check</code></pre><p>有趣的是，为了避免每次检查时都按ENTER键，您可以使用以下命令跳过<strong>–sk</strong>或<strong>–skip-keypress</strong>选项:</p><pre><code class="language-bash">rkhunter --check --sk</code></pre><p>您也可以使用<strong>–rwo</strong>或<strong>–仅报告警告</strong>选项来仅显示警告信息:</p><pre><code class="language-bash">rkhunter --check --rwo</code></pre><p>你要知道<strong> Rkhunter登录文件</strong>如下:</p><pre><code class="language-bash">/var/log/rkhunter.log</code></pre><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>Rkhunter是一个基于Unix的shell脚本，可以扫描本地系统中的rootkits、后门和可能的本地漏洞。在本文中，我们首先尝试教你如何在Ubuntu 20.04上安装Rkhunter。然后我们看了如何配置和使用Rkhunter。应该注意的是，Rkhunter还可以控制本地系统命令、启动文件、网络接口的任何更改，以及监听应用程序。</p></div></div>    
</body>
</html>