<html>
<head>
<title>Set IP static on Ubuntu 20.04 LTS Server with netplan - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>在Ubuntu 20.04 LTS服务器上设置静态IP</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/set-ip-static-on-ubuntu-20-04-lts-server-with-netplan/#0001-01-01">https://blog.eldernode.com/set-ip-static-on-ubuntu-20-04-lts-server-with-netplan/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/571ab6f6fadb227f6fb1fc91af60e912.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/05/Set-IP-static-on-Ubuntu-20.04-LTS-Server-with-netplan.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Set IP static on Ubuntu 20.04 LTS Server with netplan" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/05/Set-IP-static-on-Ubuntu-20.04-LTS-Server-with-netplan.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/05/Set-IP-static-on-Ubuntu-20.04-LTS-Server-with-netplan-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/05/Set-IP-static-on-Ubuntu-20.04-LTS-Server-with-netplan-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/05/Set-IP-static-on-Ubuntu-20.04-LTS-Server-with-netplan-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/05/Set-IP-static-on-Ubuntu-20.04-LTS-Server-with-netplan-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/05/Set-IP-static-on-Ubuntu-20.04-LTS-Server-with-netplan-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/05/Set-IP-static-on-Ubuntu-20.04-LTS-Server-with-netplan.png"/><p>【更新日期:2021-01-30】静态IP是固定不变的IP地址。您可以为使用IP地址的设备设置静态IP地址。由于在Ubuntu 20.04中网络配置是由netplan控制和管理的，所以和我们一起来回顾一下如何用netplan 在ubuntu 20.04 LTS服务器上<strong>设置IP static。Netplan支持通过YAML文件在系统上轻松配置网络。并处理YAML，为<a href="https://en.wikipedia.org/wiki/NetworkManager" target="_blank" rel="noopener noreferrer">网络管理器</a>或systemd-network系统的呈现器生成所需的配置。要购买您自己的<a href="https://eldernode.com/linux-vps/" target="_blank" rel="noopener"> Linux VPS </a>，请访问<a href="https://eldernode.com/" target="_blank" rel="noopener"> Eldernode </a>并根据您的需求找到最合适的软件包。</strong></p><p>为了让本教程更好地发挥作用，请考虑以下<strong>先决条件</strong>:</p><p>拥有<span> <span> sudo </span> </span>权限的非root用户。</p><p>要进行设置，请遵循我们在Ubuntu 20.04 上的<a href="https://blog.eldernode.com/initial-server-setup-on-ubuntu-20/" target="_blank" rel="noopener noreferrer">初始服务器设置。</a></p><h2><span class="ez-toc-section" id="Tutorial_Set_IP_static_on_Ubuntu_2004_LTS_Server_with_netplan"/> <span>教程用netplan </span> <span class="ez-toc-section-end"/>在Ubuntu 20.04 LTS服务器上设置IP静态</h2><p><strong>使用netplan实用程序作为新的命令行网络配置，帮助您在<a href="https://blog.eldernode.com/tag/ubuntu/" target="_blank" rel="noopener"> Ubuntu </a>系统中轻松管理和配置网络设置。</strong></p><h3><span class="ez-toc-section" id="How_to_check_Interface_name"/> <span>如何查看界面</span> <span>娜</span> <span>我</span> <span class="ez-toc-section-end"/></h3><p>第一步，你需要检查Ubuntu 20.04 LTS服务器上的所有接口。输入下面的命令来获取<strong> N </strong>网络<strong> I </strong>接口<strong> C </strong>控制器名称。</p><pre><code class="language-bash">ip addr</code></pre><p>当您输入命令时，您可以看到您的接口名称。稍后您需要网络配置的名称。</p><p><img data-lazyloaded="1" src="../Images/397bdf96df84c1e638da19e36c5f15af.png" decoding="async" loading="lazy" class="aligncenter wp-image-6918 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/05/Set-ip-static-on-ubuntu-20-1.jpg" alt="set ip static on ubuntu 20.04 lts server -1" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/05/Set-ip-static-on-ubuntu-20-1.jpg 1920w, https://blog.eldernode.com/wp-content/uploads/2020/05/Set-ip-static-on-ubuntu-20-1-300x169.jpg 300w, https://blog.eldernode.com/wp-content/uploads/2020/05/Set-ip-static-on-ubuntu-20-1-1024x576.jpg 1024w, https://blog.eldernode.com/wp-content/uploads/2020/05/Set-ip-static-on-ubuntu-20-1-768x432.jpg 768w, https://blog.eldernode.com/wp-content/uploads/2020/05/Set-ip-static-on-ubuntu-20-1-1536x864.jpg 1536w" data-sizes="(max-width: 1920px) 100vw, 1920px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/05/Set-ip-static-on-ubuntu-20-1.jpg"/></p><p> </p><h3><span class="ez-toc-section" id="How_to_Set_the_IP_address_on_Ubuntu_2004_server"/>如何在Ubuntu 20.04服务器上设置IP地址<span class="ez-toc-section-end"/></h3><p>转到<span> /etc/netplan </span>目录，检查YAML文件的名称。</p><pre><code class="language-bash">cd /etc/netplan</code></pre><p>之后，你可以使用<em> <span> ls </span> </em>命令来查看YAML文件。</p><pre><code class="language-bash">ls</code></pre><p>是时候在Ubuntu 20.04 LTS服务器上设置IP静态了。</p><pre><code class="language-bash">Sudo nano 00-installer-config.yaml</code></pre><p><span> <span> <strong>记住</strong> </span> : </span>不要忘记编辑你的yaml文件。</p><p>像这样键入您的静态IP和其他信息</p><pre><code class="language-bash">network       ethernets:         ens160:          dhcp4: no            addresses: [192.168.100.120/24]            gateway4: 192.168.100.1            nameservers:              addresses: [8.8.8.8, 1.1.1.1]          dhcp6: no       version: 2</code></pre><p>请注意下面的图片，你会看到一些空间和一些规则。如果不考虑规则，netplan无法检测到您的配置。</p><p>在文件上添加IP静态和其他信息后，保存并退出。</p><p><span> <strong> <span>点</span> : </strong> </span>用<strong> Ctrl + x </strong>键按两次回车键即可保存并退出。</p><p><img data-lazyloaded="1" src="../Images/d0a7443ff6af6ccd08e3376fb9bb062a.png" decoding="async" loading="lazy" class="aligncenter wp-image-6919 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/05/Set-ip-static-on-ubuntu-20-2.jpg" alt="set ip static on ubuntu 20.04 lts server -2" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/05/Set-ip-static-on-ubuntu-20-2.jpg 1920w, https://blog.eldernode.com/wp-content/uploads/2020/05/Set-ip-static-on-ubuntu-20-2-300x169.jpg 300w, https://blog.eldernode.com/wp-content/uploads/2020/05/Set-ip-static-on-ubuntu-20-2-1024x576.jpg 1024w, https://blog.eldernode.com/wp-content/uploads/2020/05/Set-ip-static-on-ubuntu-20-2-768x432.jpg 768w, https://blog.eldernode.com/wp-content/uploads/2020/05/Set-ip-static-on-ubuntu-20-2-1536x864.jpg 1536w" data-sizes="(max-width: 1920px) 100vw, 1920px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/05/Set-ip-static-on-ubuntu-20-2.jpg"/></p><p> </p><p>使用以下命令应用配置。</p><pre><code class="language-bash">sudo netplan apply</code></pre><p>现在你可以通过ping你的IP或者<em> <span> ip地址</span> </em>命令来检查网络配置。</p><p><img data-lazyloaded="1" src="../Images/447ead26c79610a5144e758ade385c47.png" decoding="async" loading="lazy" class="aligncenter wp-image-6920 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/05/Set-ip-static-on-ubuntu-20-3.jpg" alt="set ip static on ubuntu 20.04 lts server -3" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/05/Set-ip-static-on-ubuntu-20-3.jpg 1920w, https://blog.eldernode.com/wp-content/uploads/2020/05/Set-ip-static-on-ubuntu-20-3-300x169.jpg 300w, https://blog.eldernode.com/wp-content/uploads/2020/05/Set-ip-static-on-ubuntu-20-3-1024x576.jpg 1024w, https://blog.eldernode.com/wp-content/uploads/2020/05/Set-ip-static-on-ubuntu-20-3-768x432.jpg 768w, https://blog.eldernode.com/wp-content/uploads/2020/05/Set-ip-static-on-ubuntu-20-3-1536x864.jpg 1536w" data-sizes="(max-width: 1920px) 100vw, 1920px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/05/Set-ip-static-on-ubuntu-20-3.jpg"/></p><p> </p><p>此外，你可以在Eldernode Youtube频道上看到该视频。</p><p/><p> </p><p> </p><h2><span class="ez-toc-section" id="Conclusion"/> <span>结论</span> <span class="ez-toc-section-end"/></h2><p>在本文中，您了解了如何使用netplan在Ubuntu 20.04 LTS服务器上设置IP static。从现在开始，您可以通过使用静态IP来避免网络问题，从而着眼于更大的基础设施。如果你有兴趣了解更多，可以找到我们的相关文章<a href="https://blog.eldernode.com/find-server-public-ip-linux/" target="_blank" rel="noopener">如何在Linux终端</a>中找到服务器公共IP地址。</p></div></div>    
</body>
</html>