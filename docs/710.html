<html>
<head>
<title>Tutorial Setup Discourse On Ubuntu 20.04 - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>关于Ubuntu 20.04 - Eldernode博客的教程设置讨论</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/setup-discourse-on-ubuntu-20-04/#0001-01-01">https://blog.eldernode.com/setup-discourse-on-ubuntu-20-04/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/2ef8a59a21e5cc0ce4029d5b432ad849.png" data-src="https://blog.eldernode.com/wp-content/uploads/2021/04/Tutorial-Setup-Discourse-On-Ubuntu-20.04.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Tutorial Setup Discourse On Ubuntu 20.04" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/04/Tutorial-Setup-Discourse-On-Ubuntu-20.04.png 2069w, https://blog.eldernode.com/wp-content/uploads/2021/04/Tutorial-Setup-Discourse-On-Ubuntu-20.04-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/04/Tutorial-Setup-Discourse-On-Ubuntu-20.04-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2021/04/Tutorial-Setup-Discourse-On-Ubuntu-20.04-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2021/04/Tutorial-Setup-Discourse-On-Ubuntu-20.04-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2021/04/Tutorial-Setup-Discourse-On-Ubuntu-20.04-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/04/Tutorial-Setup-Discourse-On-Ubuntu-20.04.png"/><p>Discourse是一个免费开源的讨论平台。在普通人文和社会科学中，话语描述了一种可以通过语言表达的正式思维方式。Discourse是一个社交边界和现代论坛解决方案，用于为您的团队和客户创建社区论坛、长篇聊天室和邮件列表。使用这款功能丰富的软件可以帮助您讨论成千上万的网站，从而提高用户参与度。加入我们这篇文章来回顾一下关于Ubuntu 20.04 的<strong>教程设置。要购买一个全面管理但便宜的<a href="https://eldernode.com/ubuntu-vps/" target="_blank" rel="noopener"> Ubuntu VPS </a>，在<a href="https://eldernode.com/" target="_blank" rel="noopener"> Eldernode </a>上选择一个包并订购你需要的东西。</strong></p><h2><span class="ez-toc-section" id="How_To_Setup_Discourse_On_Ubuntu_2004_step_by_step"/> <strong>如何在Ubuntu 20.04上设置话语【循序渐进】</strong> <span class="ez-toc-section-end"/></h2><p>Discourse用Ember.js编写，使用<a href="https://blog.eldernode.com/install-postgresq-ubuntu-18-04/"> PostgreSQL </a>做数据库后端。这是一个大项目，假设对其底层技术(如Ruby和JavaScript)有一定程度的熟悉。让我们浏览一下本指南的步骤，并回顾一下关于<a href="https://blog.eldernode.com/tag/ubuntu/"> Ubuntu </a> 20.04的安装和设置过程。</p><h3><span class="ez-toc-section" id="Prerequisites_to_Install_Discourse_On_Ubuntu_Linux"/> <strong>安装Ubuntu Linux的先决条件</strong> <span class="ez-toc-section-end"/></h3><p>为了让本教程更好地工作，请考虑以下先决条件:</p><p>_拥有Sudo权限的非root用户。</p><p>_要进行设置，请遵循我们在Ubuntu 20.04 上的<a href="https://blog.eldernode.com/initial-server-setup-on-ubuntu-20/" target="_blank" rel="noopener">初始服务器设置。</a></p><p>_现代单核CPU，双核推荐。</p><p>_至少2 GB内存(带交换)。</p><p>_有效的域名指向您的服务器。</p><p>_ 64位Linux兼容<strong> Docker </strong>。</p><p>_至少10 GB磁盘空间。</p><p>_ Docker安装在您的服务器上。</p><p>_一个<a href="https://blog.eldernode.com/how-to-find-the-smtp-address/" target="_blank" rel="noopener"> SMTP邮件</a>服务器。如果没有邮件服务器，可以使用Gmail SMTP服务器。</p><p>_使用指向您的服务器IP地址的A记录注册域名或子域(如“forum.example.com”)。</p><h2><span class="ez-toc-section" id="How_to_Install_Discourse_Forum_On_Ubuntu_2004_Ubuntu_1804"/> <strong>如何在Ubuntu 20.04上安装话语论坛| Ubuntu 18.04 </strong> <span class="ez-toc-section-end"/></h2><p>当你准备好了上述先决条件，你就准备好了安装话语。按照以下步骤成功完成:</p><p>第一步:</p><p>和往常一样，你建议首先更新你的服务器。以下命令更新您的所有软件包:</p><pre><code class="language-bash">sudo apt update</code></pre><pre><code class="language-bash">sudo apt upgrade -y</code></pre><p>第二步:</p><p>由于最新版本的<strong> Docker </strong>可以在Ubuntu 20.04默认库中获得，所以使用下面的命令来安装它:</p><pre><code class="language-bash">apt-get install docker.io -y</code></pre><p>确保Docker正在安装以启动其服务。然后，运行以下命令，使Docker在重启时<strong>启动</strong>:</p><pre><code class="language-bash">systemctl start docker</code></pre><pre><code class="language-bash">systemctl enable docker</code></pre><p>第三步:</p><p>在这一步中，您将<strong>下载话语</strong>。在此之前，创建<strong> /var/discourse </strong>目录，了解你的discourse相关文件在哪里:</p><pre><code class="language-bash">sudo mkdir /var/discourse</code></pre><p>然后，运行下面的命令，从Git Hub存储库中下载最新版本的Discourse :</p><pre><code class="language-bash">sudo git clone https://github.com/discourse/discourse_docker.git /var/discourse</code></pre><p>第四步:</p><p>一旦Discourse被下载，你就可以安装和配置它。因此，转到<strong> /var/discourse </strong>目录并运行以下命令:</p><pre><code class="language-bash">cd /var/discourse</code></pre><p>现在，您可以开始使用附带的安装脚本了。为此，请键入:</p><pre><code class="language-bash">sudo ./discourse-setup</code></pre><p><strong> <em>输出注意事项1 </em> : </strong>你会被问到关于<strong>的主机名对于你的话语？</strong>“由话语装置脚本。</p><p>因此，您需要输入<strong> discourse.your_domain </strong>，或者您为您的平台选择的任何主机名，比如community.example.com。</p><p>不要忘记将“<strong>社区</strong>”替换为您的首选子域，将“<strong>example.com</strong>”替换为您的实际域名。</p><p><strong> <em>注意</em> : </strong>如果你不希望在一个子域上主持演讲，在这种情况下，你也可以只输入根域(“example.com”)。</p><p><strong> <em>输出备注2 </em> : </strong>还有，问你管理员账号的<strong>邮箱地址？</strong></p><p>要通过这一步，请选择您想用作对话管理员帐户的电子邮件地址。您选择的电子邮件地址将成为对话管理员的默认地址。请注意，当您从其控制面板设置话语时，您将再次使用此电子邮件地址。</p><p><strong> <em>输出注意事项3 </em> : </strong>你将再面临四个与<strong> SMTP服务器设置</strong>相关的问题。</p><p>1_ SMTP服务器地址？</p><p>2_ SMTP用户名？</p><p>3_ SMTP端口？</p><p>4_ SMTP密码？</p><p>因此，您需要为这些问题输入您的SMTP服务器详细信息。然后，Discourse安装脚本将要求您确认所有这些设置。要开始安装过程，请确认您的设置。此外，该脚本将生成一个名为app.yml的配置文件</p><p>如果愿意，您可以在初始设置后使用以下命令更改或编辑这些设置:</p><pre><code class="language-bash">sudo nano /var/discourse/containers/app.yml</code></pre><h3><span class="ez-toc-section" id="How_to_Setup_Discourse_on_Ubuntu_2004"/> <strong>如何在Ubuntu 20.04上设置话语</strong> <span class="ez-toc-section-end"/></h3><p>如果正确通过了上述所有步骤，那么Discourse应该已经安装并配置好了。在本节中，您可以看到如何启动它。要注册管理员帐户并访问Discourse界面，请打开浏览器并访问<strong> discourse.your_domain </strong>。</p><p>如果你遇到了“<strong> 502错误网关</strong>”错误，这意味着话语还没有完成引导。几分钟后刷新页面以解决此错误。否则，您应该查看以下屏幕:</p><p> </p><p><img data-lazyloaded="1" src="../Images/5eb08538df87ec4526c7349e6d594e5e.png" decoding="async" loading="lazy" class="size-large wp-image-28361 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/04/reg-1-1024x771.png" alt="Registering an Administrator Account on Discourse" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/04/reg-1-1024x771.png 1024w, https://blog.eldernode.com/wp-content/uploads/2021/04/reg-1-300x226.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/04/reg-1-768x578.png 768w, https://blog.eldernode.com/wp-content/uploads/2021/04/reg-1.png 1220w" data-sizes="(max-width: 1024px) 100vw, 1024px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/04/reg-1-1024x771.png"/></p><p> </p><p>显示以下屏幕时，在必填字段中填入以下信息:</p><p>_ <strong>电子邮件</strong>:从下拉菜单中选择您之前提供的电子邮件地址。</p><p>_ <strong>用户名</strong>:选择一个用户名。</p><p>_ <strong>密码</strong>:选择强密码。</p><p> </p><p><img data-lazyloaded="1" src="../Images/934952e7a4a5d7447f8d31bef396fcca.png" decoding="async" loading="lazy" class="size-full wp-image-28365 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/04/reg-admin-ac-1.png" alt="Register Admin Account on Discourse" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/04/reg-admin-ac-1.png 980w, https://blog.eldernode.com/wp-content/uploads/2021/04/reg-admin-ac-1-300x222.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/04/reg-admin-ac-1-768x568.png 768w" data-sizes="(max-width: 980px) 100vw, 980px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/04/reg-admin-ac-1.png"/></p><p> </p><p>点击<strong>注册</strong>按钮，使用您之前输入的电子邮件地址创建一个新的管理员帐户。</p><p>然后，您将被要求确认您的电子邮件。所以，检查你的收件箱确认电子邮件。如果您没有收到，请尝试单击<strong>重新发送激活电子邮件</strong>按钮。</p><p> </p><p><img data-lazyloaded="1" src="../Images/55daea6b4e57dd5c1e795b3fa1043018.png" decoding="async" loading="lazy" class="size-full wp-image-28367 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/04/confrm-email-3.jpg" alt="Email confirmation on Discourse - Discourse On Ubuntu" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/04/confrm-email-3.jpg 960w, https://blog.eldernode.com/wp-content/uploads/2021/04/confrm-email-3-300x133.jpg 300w, https://blog.eldernode.com/wp-content/uploads/2021/04/confrm-email-3-768x339.jpg 768w" data-sizes="(max-width: 960px) 100vw, 960px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/04/confrm-email-3.jpg"/></p><p> </p><p>一旦您的管理员帐户注册完成，设置向导将启动并引导您完成Discourse的基本配置。如果你希望<strong>跳过</strong>这一步，现在，你可以点击<b>，也许以后再点击</b>。</p><p> </p><p><img data-lazyloaded="1" src="../Images/37eb13d22cf2a20f93427756321f4c94.png" decoding="async" loading="lazy" class="size-large wp-image-28368 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/04/welcom-1-1024x981.png" alt="Welcome to your Discourse" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/04/welcom-1-1024x981.png 1024w, https://blog.eldernode.com/wp-content/uploads/2021/04/welcom-1-300x287.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/04/welcom-1-768x736.png 768w, https://blog.eldernode.com/wp-content/uploads/2021/04/welcom-1.png 1215w" data-sizes="(max-width: 1024px) 100vw, 1024px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/04/welcom-1-1024x981.png"/></p><p> </p><p>当您完成或跳过设置向导时，您将重定向到全新的Discourse论坛，在那里您将看到Discourse Admin快速入门指南。</p><p>在这里，您可以看到关于下一步该做什么以及如何进一步定制您的Discourse安装的更多信息。快速入门指南的标签为<strong>请先阅读我的内容</strong>，包含进一步定制您的Discourse安装的提示:</p><p> </p><p><img data-lazyloaded="1" src="../Images/6612e633706bc1932a9afd168796a79c.png" decoding="async" loading="lazy" class="size-large wp-image-28350 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/04/6n8CGqb-1024x363.png" alt="Discourse Admin Quick Start Guide" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/04/6n8CGqb-1024x363.png 1024w, https://blog.eldernode.com/wp-content/uploads/2021/04/6n8CGqb-300x106.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/04/6n8CGqb-768x273.png 768w, https://blog.eldernode.com/wp-content/uploads/2021/04/6n8CGqb.png 1147w" data-sizes="(max-width: 1024px) 100vw, 1024px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/04/6n8CGqb-1024x363.png"/></p><p> </p><h3><span class="ez-toc-section" id="Upgrade_Discourse_on_Linux_Ubuntu_2004"/> <strong>关于Linux Ubuntu 20.04的升级论述</strong> <span class="ez-toc-section-end"/></h3><p>如果你正确地完成了以上所有部分，你的话语平台现在就可以使用了。使用以下命令升级Discourse，从Git repo中获取最新版本的代码，并重新构建应用程序:</p><pre><code class="language-bash">cd /var/discourse</code></pre><pre><code class="language-bash">sudo git pull</code></pre><p>如果您对<strong> containers/app.yml </strong>进行了更改，您将需要重新构建您的Discourse应用程序。每次进行更改时，运行:</p><pre><code class="language-bash">sudo ./launcher rebuild app</code></pre><p>只要你愿意，你可以随时在浏览器中更新话语。打开你最喜欢的浏览器，访问<em>http://discourse . your _ domain/admin/upgrad</em>e，然后点击<strong>升级到最新版本</strong>，按照说明操作:</p><p> </p><p><img data-lazyloaded="1" src="../Images/97860142c283d5c1292586e5817e7288.png" decoding="async" loading="lazy" class="size-large wp-image-28351 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/04/up-1024x409.jpg" alt="Upgrade Discourse - Discourse On Ubuntu" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/04/up-1024x409.jpg 1024w, https://blog.eldernode.com/wp-content/uploads/2021/04/up-300x120.jpg 300w, https://blog.eldernode.com/wp-content/uploads/2021/04/up-768x307.jpg 768w, https://blog.eldernode.com/wp-content/uploads/2021/04/up.jpg 1216w" data-sizes="(max-width: 1024px) 100vw, 1024px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/04/up-1024x409.jpg"/></p><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>在本文中，您学习了如何在Ubuntu 20.04上安装和设置Discourse。你也知道怎么升级。从现在开始，享受你的论坛由话语和部署自己的在线论坛。如果您使用Discourse，请在<a href="https://community.eldernode.com/" target="_blank" rel="noopener"> Eldernode Community </a>上向您的朋友发送反馈。</p></div></div>    
</body>
</html>