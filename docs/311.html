<html>
<head>
<title>How to install LEMP on CentOS 8 - Install Linux, Nginx, MySQL, PHP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在CentOS 8上安装LEMP——安装Linux、Nginx、MySQL、PHP</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/install-lemp-on-centos-8/#0001-01-01">https://blog.eldernode.com/install-lemp-on-centos-8/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/bd6a1d210037b741b7e85acef46e9783.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2262.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="How to install LEMP on CentOS 8" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2262.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2262-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2262-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2262-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2262-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2262-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2262.png"/><p>在本文中，我们将学习如何在CentOS 8上安装LEMP。我们将逐步完成建立LEMP堆栈的过程，使用<a href="https://mariadb.org/" target="_blank" rel="noopener noreferrer"> MariaDB </a>作为数据库管理系统。</p><p> </p><p id="prerequisites"><strong>先决条件</strong></p><p>为了让这个指南更有用，你需要以<span> sudo </span>用户的身份访问<a href="https://eldernode.com/initial-set-up-centos-8/" target="_blank" rel="noopener noreferrer"> CentOS 8 </a>服务器。</p><h2><span class="ez-toc-section" id="How_to_install_LEMP_on_CentOS_8"/> <span>如何在CentOS 8上安装LEMP</span>T3】</h2><h3 id="step-1-—-install-nginx"><span class="ez-toc-section" id="1-_Install_Nginx"/> <span> 1- </span>安装Nginx <span class="ez-toc-section-end"/></h3><p>要安装<span> Nginx </span>包，运行下面的。</p><pre><code class="language-bash">sudo dnf install nginx</code></pre><p>要启用并启动服务器，请在安装完成后运行以下命令。</p><pre><code class="language-bash">sudo systemctl start nginx  </code></pre><p>如果firewalld处于活动状态，运行以下命令以允许外部访问端口<span> 80 </span> (HTTP):</p><pre><code class="language-bash">sudo firewall-cmd --permanent --add-service=<span class="highlight">http  </span></code></pre><p>要使更改生效，请重新加载防火墙配置</p><pre><code class="language-bash">sudo firewall-cmd --reload</code></pre><p>如果添加新的防火墙规则，您可以通过从web浏览器访问服务器的公共IP地址或域名来测试服务器是否启动并运行。这样，下面的页面就会出现。</p><p><img data-lazyloaded="1" src="../Images/94ad14a8272a4159a3b5808b24d16ccc.png" decoding="async" loading="lazy" class="aligncenter wp-image-8677 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/07/nginx_default_page-1.jpg" alt="" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/07/nginx_default_page-1.jpg 819w, https://blog.eldernode.com/wp-content/uploads/2020/07/nginx_default_page-1-300x168.jpg 300w, https://blog.eldernode.com/wp-content/uploads/2020/07/nginx_default_page-1-768x431.jpg 768w" data-sizes="(max-width: 819px) 100vw, 819px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/07/nginx_default_page-1.jpg"/></p><p> </p><p><span> <strong>阅读更多:</strong> </span></p><p/><p/><p><span> <strong>和</strong> </span></p><p/><h3/><h3/><h3/><h3><span class="ez-toc-section" id="2-_Install_MariaDB"/> <span> 2- </span>安装MariaDB <span class="ez-toc-section-end"/></h3><p>要安装MariaDB，请键入:</p><pre><code class="language-bash">sudo dnf install mariadb-server</code></pre><p>安装完成后，使用以下命令启用并启动MariaDB服务器:</p><pre><code class="language-bash">sudo systemctl start mariadb</code></pre><p>建议您运行MariaDB预安装的安全脚本，以提高数据库服务器的安全性。通过以下命令，启动交互式脚本。</p><pre><code class="language-bash">sudo mysql_secure_installation</code></pre><p>您将被要求输入当前的<strong>数据库根</strong>密码。密码为空，在提示下按<span>键输入</span>。下一个提示希望您设置一个<strong>数据库root </strong>密码。您不需要设置密码，因为MariaDB对根用户使用特殊的认证方法，这通常比使用密码更安全。键入<span> N </span>并按下<span>键进入</span></p><p> </p><h3><span class="ez-toc-section" id="3-_Install_PHP-FPM"/> <span> 3- </span>安装PHP-FPM <span class="ez-toc-section-end"/></h3><p>键入以下命令进行安装。</p><pre><code class="language-bash">sudo dnf install php-fpm php-mysqlnd</code></pre><p>完成安装后，您应该编辑<span> /etc/php-fpm.d/www.conf </span>文件来调整一些设置。为了方便编辑这些文件，你需要安装<span> nano </span>。</p><pre><code class="language-bash">sudo dnf install nano  </code></pre><p>然后，使用<span> nano </span>或您选择的编辑器打开<span>/etc/PHP-fpm . d/www . conf<span>c</span>T3】配置文件:</span></p><pre><code class="language-bash">sudo nano /etc/php-fpm.d/www.conf  </code></pre><p>确保将这两个值从<span> apache </span>更改为Nginx:</p><p> </p><pre><code class="language-bash">…  ; RPM: apache user chosen to provide access to the same directories as httpd  user = <span>nginx</span>  ; RPM: Keep a group allowed to write in log dir.  group = <span>nginx</span>  …</code></pre><p>编辑后，保存并关闭文件。并运行下面的命令来启用和启动<span> php-fpm </span></p><pre><code class="language-bash">sudo systemctl start php-fpm</code></pre><p>是时候重启Nginx web服务器了，它会加载由<span> php-fpm </span>安装创建的配置文件:</p><pre><code class="language-bash">sudo systemctl restart nginx</code></pre><p> </p><p><span> <a href="https://eldernode.com/linux-vps/" target="_blank" rel="noopener noreferrer">购买Linux虚拟私有服务器</a> </span></p><h3/><h3><span class="ez-toc-section" id="4-_Test_PHP_with_Nginx"/> <span> 4- </span>用Nginx测试PHP<span class="ez-toc-section-end"/></h3><p>您需要在Nginx的文档根目录下修改默认的所有者和组，以便能够使用常规的非根系统用户在该位置创建和修改文件:</p><pre><code class="language-bash">sudo chown -R <span class="highlight">noodi</span>.<span class="highlight">noodi</span> /usr/share/nginx/html/</code></pre><p>在<span> /usr/share/nginx/html </span>目录下创建一个名为<span>info.php</span>的新PHP文件:</p><pre><code class="language-bash">nano /usr/share/nginx/html/<span class="highlight">info.php  </span></code></pre><p>要查看服务器上运行的当前PHP环境的信息，请使用下面的PHP代码。</p><pre><code class="language-bash"><span>&lt;?php</span>    <span>phpinfo</span>();    </code></pre><p>将此内容复制到您的<span>info.php</span>文件中，并务必保存。</p><p>要测试您的web服务器是否正确显示PHP脚本生成的内容，请使用您的浏览器并访问您的服务器主机名或IP地址，然后输入<span> /info.php <span> : </span> </span></p><pre><code class="language-bash">http://<span>server_host_or_IP</span>/info.php</code></pre><p>您可能会看到如下页面。</p><p><img data-lazyloaded="1" src="../Images/7212b86a42e8207e4aa6a303e8523cc3.png" decoding="async" loading="lazy" class="aligncenter wp-image-8685 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/07/phpinfo.jpg" alt="" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/07/phpinfo.jpg 951w, https://blog.eldernode.com/wp-content/uploads/2020/07/phpinfo-300x242.jpg 300w, https://blog.eldernode.com/wp-content/uploads/2020/07/phpinfo-768x620.jpg 768w" data-sizes="(max-width: 951px) 100vw, 951px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/07/phpinfo.jpg"/></p><p> </p><p>亲爱的用户，我们希望这篇教程能对你有所帮助，如果你有任何问题或想查看我们的用户关于这篇文章的对话，请访问<a href="https://eldernode.com/ask" target="_blank" rel="noopener noreferrer">提问页面</a>。也为了提高你的知识，有这么多有用的教程为<a href="https://eldernode.com/blog/" target="_blank" rel="noopener noreferrer">老年节点培训</a>准备。</p><p><strong>同样，参见</strong></p><p><a href="https://eldernode.com/how-to-install-lamp-on-ubuntu-20-04/" target="_blank" rel="noopener noreferrer">如何在Ubuntu 20.04上安装lamp</a></p><p><strong>Also, see</strong></p><p class="fjpost-title px-0"><a href="https://eldernode.com/how-to-install-lamp-on-ubuntu-20-04/" target="_blank" rel="noopener noreferrer">How to install lamp on Ubuntu 20.04</a></p></div></div>    
</body>
</html>