<html>
<head>
<title>How to Install and Connect PostgreSQL 12 on Ubuntu 22.04</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在Ubuntu 22.04上安装和连接PostgreSQL 12</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/install-and-connect-postgresql-12-on-ubuntu-22-04/#0001-01-01">https://blog.eldernode.com/install-and-connect-postgresql-12-on-ubuntu-22-04/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/fe71a9cd20bf0b9eb7bfe29bbff82b4a.png" data-src="https://blog.eldernode.com/wp-content/uploads/2022/07/How-to-Install-and-Connect-PostgreSQL12-on-Ubuntu-22.04-2-1.webp" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="How-to-Install-and-Connect-PostgreSQL12-on-Ubuntu-22.04-2" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/07/How-to-Install-and-Connect-PostgreSQL12-on-Ubuntu-22.04-2-1.webp 2069w, https://blog.eldernode.com/wp-content/uploads/2022/07/How-to-Install-and-Connect-PostgreSQL12-on-Ubuntu-22.04-2-1-300x164.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/07/How-to-Install-and-Connect-PostgreSQL12-on-Ubuntu-22.04-2-1-1024x561.webp 1024w, https://blog.eldernode.com/wp-content/uploads/2022/07/How-to-Install-and-Connect-PostgreSQL12-on-Ubuntu-22.04-2-1-768x421.webp 768w, https://blog.eldernode.com/wp-content/uploads/2022/07/How-to-Install-and-Connect-PostgreSQL12-on-Ubuntu-22.04-2-1-1536x842.webp 1536w, https://blog.eldernode.com/wp-content/uploads/2022/07/How-to-Install-and-Connect-PostgreSQL12-on-Ubuntu-22.04-2-1-2048x1122.webp 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/07/How-to-Install-and-Connect-PostgreSQL12-on-Ubuntu-22.04-2-1.webp"/><p>除了数据库，还有维护数据库的服务，称为数据库管理或DBMS。其中一个DBMSs正在调用PostgreSQL。本文将帮助你熟悉PostgreSQL，并学习如何在Ubuntu 22.04 上安装和连接PostgreSQL 12。可以在<a href="https://eldernode.com/"> Eldernode </a>网站上查看购买<a href="https://eldernode.com/ubuntu-vps/"> <strong> Ubuntu VPS </strong> </a>服务器包。</p><h2><span class="ez-toc-section" id="Tutorial_Install_and_Connect_PostgreSQL_14_on_Ubuntu_2204"/> <strong>教程在Ubuntu 22.04上安装连接PostgreSQL 14</strong><span class="ez-toc-section-end"/></h2><h3><span class="ez-toc-section" id="Introduction_to_PostgreSQL"/><strong>PostgreSQL简介</strong> <span class="ez-toc-section-end"/></h3><p>PostgreSQL 是一个基于SQL的免费开源数据库管理系统。该数据库支持SQL和JSON进行关系和非关系查询，以便使用SQL进行开发。PostgreSQL可以包括各种高级信息和性能优化特性。</p><h3><span class="ez-toc-section" id="Features_Provided_in_PostgreSQL_12"/><strong>PostgreSQL 12</strong>中提供的特性<span class="ez-toc-section-end"/></h3><p>–&gt;改进分布式数据的高性能和工作负载。</p><p>–&gt;查询并行化和逻辑迭代。</p><p>–&gt;上面写的工作量。</p><p>–&gt;同步方面的进步。</p><p>–&gt;安全性增强。</p><p>在本文的剩余部分，我们将一步步教你如何在<a href="https://blog.eldernode.com/tag/ubuntu/"> Ubuntu </a> 22.04上安装和连接PostgreSQL 12。</p><h2><span class="ez-toc-section" id="How_to_Install_PostgreSQL_on_Ubuntu_2204"/> <strong>如何在Ubuntu 22.04上安装PostgreSQL</strong><span class="ez-toc-section-end"/></h2><p>首先<strong>更新和升级</strong>您的系统:</p><pre><code class="language-bash">sudo apt update  sudo apt -y install vim bash-completion wget  sudo apt -y upgrade</code></pre><p>然后<strong>重启</strong>你的系统:</p><pre><code class="language-bash">sudo reboot</code></pre><p>现在<strong>使用以下命令导入GPG密钥</strong>:</p><pre><code class="language-bash">curl -fsSL https://www.postgresql.org/media/keys/ACCC4CF8.asc|sudo gpg --dearmor -o /etc/apt/trusted.gpg.d/postgresql.gpg</code></pre><p>您必须<strong>将新版本的PostgreSQL </strong>添加到操作系统的默认包存储库中:</p><pre><code class="language-bash">apt policy postgresql</code></pre><p>输入用于签署包裹的<strong> GPG密钥</strong>:</p><pre><code class="language-bash">curl -fsSL https://www.postgresql.org/media/keys/ACCC4CF8.asc|sudo gpg --dearmor -o /etc/apt/trusted.gpg.d/postgresql.gpg</code></pre><p>使用以下命令<strong>在Ubuntu 22.04上添加PostgreSQL存储库</strong>:</p><pre><code class="language-bash">echo "deb http://apt.postgresql.org/pub/repos/apt/ `lsb_release -cs`-pgdg main" |sudo tee /etc/apt/sources.list.d/pgdg.list</code></pre><p>运行以下命令，向系统通知新添加的存储库:</p><pre><code class="language-bash">sudo apt update</code></pre><p>现在<strong>用下面的命令在Ubuntu 22.04上安装PostgreSQL 12 </strong>:</p><pre><code class="language-bash">sudo apt install postgresql-12 postgresql-client-12</code></pre><p>您可以使用以下命令检查PostgreSQL状态:</p><pre><code class="language-bash">systemctl status postgresql.service</code></pre><p>使用以下命令设置每次系统重新启动后启动:</p><pre><code class="language-bash">systemctl status <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="c8b8a7bbbcafbaadbbb9a488f9fae5a5a9a1a6e6bbadbabea1abad">[email protected]</a></code></pre><p> </p><h3><span class="ez-toc-section" id="How_to_Test_PostgreSQL_Connection"/> <strong>如何测试PostgreSQL连接</strong> <span class="ez-toc-section-end"/></h3><p>注意，postgres用户是在安装过程中自动创建的。首先，使用以下命令赋予您的帐户sudo权限:</p><pre><code class="language-bash">sudo su - postgres  <mark class="has-inline-color has-vivid-cyan-blue-color"/></code></pre><p>现在您需要将用户密码重置为强密码:</p><pre><code class="language-bash">psql -c "alter user postgres with password 'StrongAdminPassw0rd'"</code></pre><p>然后通过输入以下命令启动PostgreSQL:</p><pre><code class="language-bash">psql  </code></pre><p>要获取连接详细信息，请使用以下命令:</p><pre><code class="language-bash">\conninfo</code></pre><p>现在，您应该使用以下命令创建一个测试数据库和用户:</p><pre><code class="language-bash">CREATE DATABASE mytestdb;</code></pre><pre><code class="language-bash">CREATE USER mytestuser WITH ENCRYPTED PASSWORD '<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b9f4c0eacdcb89d7dee9f9eaea">[email protected]</a>';</code></pre><p>若要将数据库mytestdb上的所有权限授予mytestuser，请运行以下命令:</p><pre><code class="language-bash">GRANT ALL PRIVILEGES ON DATABASE mytestdb to mytestuser;</code></pre><p>您可以通过运行以下命令列出创建的数据库:</p><pre><code class="language-bash">\l</code></pre><p>然后通过运行以下命令连接到数据库:</p><pre><code class="language-bash">\c mytestdb</code></pre><p>您可以使用createuser来创建用户:</p><pre><code class="language-bash">createuser myuser --password</code></pre><p>要使用createdb创建数据库，请使用以下命令:</p><pre><code class="language-bash">createdb mydb -O myuser</code></pre><p>最后，运行以下命令:</p><pre><code class="language-bash">psql -l</code></pre><pre><code class="language-bash"/></pre><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>PostgreSQL是维护数据库的服务之一。在本文中，您熟悉了PostgreSQL 14中的新特性，还学习了如何在Ubuntu 22.04上安装和连接PostgreSQL 12，我们还研究了PostgreSQL 14的配置方法。</p></div></div>    
</body>
</html>