<html>
<head>
<title>Answer To MySQL Queries Troubleshooting - Eldernode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>MySQL查询故障排除答案- Eldernode</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/mysql-queries-troubleshooting/#0001-01-01">https://blog.eldernode.com/mysql-queries-troubleshooting/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/ac9d5df44ed2340a2f23076d6861327e.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/08/IMG_1994.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Answer To MySQL Queries Troubleshooting" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/08/IMG_1994.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/08/IMG_1994-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/08/IMG_1994-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/08/IMG_1994-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/08/IMG_1994-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/08/IMG_1994-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/08/IMG_1994.png"/><p>在下面的MySQL教程中，在这篇文章中，我们将回答MySQL查询故障排除。在您诊断MySQL设置时，加入我们的故障排除资源和起点。我们将回顾许多MySQL 用户遇到的一些问题，并为解决具体问题提供指导。</p><p>为了让这个指南更好地发挥作用，尝试购买和使用<a href="https://eldernode.com/linux-vps/" target="_blank" rel="noopener noreferrer"> VPS </a>或<a href="https://eldernode.com/linux-hosting/" target="_blank" rel="noopener noreferrer"> Linux虚拟主机</a>。</p><h2>MySQL查询故障排除答案</h2><p>让我们回顾一下本指南，了解更多关于MySQL 的信息。</p><p>作为用户，一旦开始对数据发出查询，您可能会遇到问题。在一些数据库系统中，包括<a href="https://blog.eldernode.com/database-correction-with-database-management/" target="_blank" rel="noopener noreferrer"> MySQL </a>，查询语句中必须以分号(<span>T3)结尾； </span>)进行查询完成，如下例:</p><pre><code class="language-bash">SHOW * FROM table_name;</code></pre><p>然后，如果您未能在查询末尾包含分号，提示将在新的一行继续，直到您通过输入分号并按下<strong> ENTER </strong>完成查询。</p><p>此外，一些用户可能会发现他们的查询非常慢。找出哪个查询语句导致速度变慢的一个方法是启用并查看MySQL的慢速查询日志。为此，打开您的<strong> mysqld.cnf </strong>文件，该文件用于配置MySQL服务器的选项。该文件通常存储在<strong> /etc/mysql/mysql.conf.d/ </strong>目录下:</p><pre><code class="language-bash">sudo nano /etc/mysql/mysql.conf.d/mysqld.cnf</code></pre><p>滚动浏览文件，直到看到以下几行:</p><p class="code-label" title="/etc/mysql/mysql.conf.d/mysqld.cnf">/etc/MySQL/MySQL。conf文件。d/mysqld。法国国家足球队</p><p title="/etc/mysql/mysql.conf.d/mysqld.cnf"/><div title="/etc/mysql/mysql.conf.d/mysqld.cnf"><pre><code class="language-bash">. . .  #slow_query_log         = 1  #slow_query_log_file    = /var/log/mysql/mysql-slow.log  #long_query_time = 2  #log-queries-not-using-indexes  . . .</code></pre></div><div title="/etc/mysql/mysql.conf.d/mysqld.cnf"><div class="fjpost-info"><p> </p><p>看看这些注释掉的指令，它们为慢速查询日志提供了MySQL的默认配置选项。具体来说，他们每个人都做了以下工作:</p><p><strong>慢速查询日志</strong>:设置为1启用慢速查询日志。</p><p><strong>慢速查询日志文件</strong>:这定义了MySQL将记录任何慢速查询的文件。在本例中，它指向/var/log/mysql-slow.log文件</p><p><strong> long_query_time </strong>:通过将该指令设置为2，它将MySQL配置为记录任何耗时超过2秒的查询。</p><p><strong>log _ queries _ not _ using _ indexes</strong>:这告诉MySQL也将任何不带索引运行的查询记录到/var/log/mysql-slow.log文件中。此设置不是慢速查询日志运行所必需的，但它有助于发现低效的查询。</p><p> </p><p>通过删除前导井号(<span> <strong> # </strong> </span>)来取消对这些行的注释。该部分现在将如下所示:</p></div></div><div title="/etc/mysql/mysql.conf.d/mysqld.cnf"><p class="code-label" title="/etc/mysql/mysql.conf.d/mysqld.cnf">/etc/MySQL/MySQL。conf文件。d/mysqld。法国国家足球队</p></div><div title="/etc/mysql/mysql.conf.d/mysqld.cnf"><pre><code class="language-bash">. . .  slow_query_log = 1  slow_query_log_file = /var/log/mysql-slow.log  long_query_time = 2  log_queries_not_using_indexes  . . .</code></pre></div><div title="/etc/mysql/mysql.conf.d/mysqld.cnf"><p><strong> <span>注意</span> : </strong>如果运行的是<strong> MySQL </strong> 8+，默认情况下这些注释行不会在<span> <strong> mysqld.cnf </strong> </span>文件中。在这种情况下，将下列行添加到文件的底部:</p><p class="code-label" title="/etc/mysql/mysql.conf.d/mysqld.cnf">/etc/MySQL/MySQL。conf文件。d/mysqld。法国国家足球队</p><div title="/etc/mysql/mysql.conf.d/mysqld.cnf"><pre><code class="language-bash">. . .  slow_query_log = 1  slow_query_log_file = /var/log/mysql-slow.log  long_query_time = 2  log_queries_not_using_indexes</code></pre><p> </p><p>当您启用慢速查询日志时，可以保存并关闭该文件。然后重启<strong> MySQL </strong>服务:</p><pre><code class="language-bash">sudo systemctl restart mysql</code></pre><p>有了这些设置，您可以通过查看慢速查询日志来找到有问题的查询语句。你可以少用<span> <strong>，</strong> </span>这样做:</p><pre><code class="language-bash">sudo less /var/log/mysql_slow.log</code></pre><p>此外，MySQL包括<span> <strong>解释</strong> </span>语句，该语句提供了关于MySQL如何执行查询的信息。【MySQL官方文档中的这一页提供了关于如何使用<span> <strong>解释</strong> </span>来突出低效查询的见解。</p></div></div><h2>结论</h2></div></div>    
</body>
</html>