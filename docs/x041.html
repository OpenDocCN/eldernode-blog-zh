<html>
<head>
<title>4 Steps to Secure Your Server with OpenVAS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用OpenVAS保护服务器的4个步骤</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/4-steps-to-secure-your-server-with-openvas/#0001-01-01">https://blog.eldernode.com/4-steps-to-secure-your-server-with-openvas/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/cd85a443971ec2165f425589e07c2bbb.png" data-src="https://blog.eldernode.com/wp-content/uploads/2022/10/4-Steps-to-Secure-Your-Server-with-OpenVAS.webp" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="4 Steps to Secure Your Server with OpenVAS" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/10/4-Steps-to-Secure-Your-Server-with-OpenVAS.webp 2069w, https://blog.eldernode.com/wp-content/uploads/2022/10/4-Steps-to-Secure-Your-Server-with-OpenVAS-300x164.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/10/4-Steps-to-Secure-Your-Server-with-OpenVAS-1024x561.webp 1024w, https://blog.eldernode.com/wp-content/uploads/2022/10/4-Steps-to-Secure-Your-Server-with-OpenVAS-768x421.webp 768w, https://blog.eldernode.com/wp-content/uploads/2022/10/4-Steps-to-Secure-Your-Server-with-OpenVAS-1536x842.webp 1536w, https://blog.eldernode.com/wp-content/uploads/2022/10/4-Steps-to-Secure-Your-Server-with-OpenVAS-2048x1122.webp 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/10/4-Steps-to-Secure-Your-Server-with-OpenVAS.webp"/><p>如果你是网络或网站管理员，你应该注意安全规则和原则的执行。但是您可能无法控制和监控所有漏洞。漏洞扫描器是在自动安全管理中发挥重要作用的工具。最著名的安全扫描器之一是OpenVAS，它具有扫描各种漏洞的能力。本文将介绍用OpenVAS保护您的服务器的4个步骤。如果你打算<a href="https://eldernode.com/vps/">购买VPS </a>服务器，你可以查看<a href="https://eldernode.com/"> Eldernode </a>网站上提供的套装。</p><h2><span class="ez-toc-section" id="What_is_OpenVAS"/> <strong>什么是OpenVAS？</strong>T3】</h2><p><a href="https://blog.eldernode.com/install-and-configure-openvas-on-ubuntu/"> OpenVAS </a>代表开放漏洞评估系统，是一款开源的免费扫描工具。它可以检测各种服务器和网络设备的安全问题。这个扫描器是在GNU/GPL许可下提供的，它从一个有着悠久历史和每日更新的提要中获取检测漏洞的测试。Greenbone Network在2006年开发了OpenVAS。web服务器使用OpenVAS来防止对网站或服务器的未授权访问。它还允许用户访问各种Web应用程序。</p><h2><span class="ez-toc-section" id="OpenVAS_Capabilities"/> <strong> OpenVAS功能</strong> <span class="ez-toc-section-end"/></h2><p>以下是一些高级OpenVAS功能:</p><p>–未经认证的测试</p><p>–各种高级和低级互联网协议</p><p>–针对大规模扫描的性能调整</p><p>–强大的内部编程语言</p><h2><span class="ez-toc-section" id="Securing_Your_Server_with_OpenVAS"/> <strong>使用OpenVAS </strong>保护您的服务器安全T3】</h2><p>在这一步中，我们将向您介绍使用OpenVAS保护您的服务器的4个步骤。这4个步骤是OpenVAS安装、OpenVAS配置、OpenVAS监控和OpenVAS管理。</p><h3><span class="ez-toc-section" id="1-_Installing_OpenVAS_on_your_Server"/> <strong> 1-在您的服务器上安装open vas</strong><span class="ez-toc-section-end"/></h3><p>首先，使用以下命令更新您的系统软件包:</p><pre><code class="language-bash">sudo apt update</code></pre><p>一些OpenVAS组件在默认的存储库中可用，但是最好使用PPAs来维护软件包的更新版本。因此，首先，您应该安装python-software-properties包，它允许您轻松地使用PPA。为此，请运行以下命令:</p><pre><code class="language-bash">sudo apt install python-software-properties</code></pre><p>现在使用下面的命令将最新的稳定版本添加到系统中:</p><pre><code class="language-bash">sudo add-apt-repository ppa:openvas/openvas6</code></pre><p>再次更新您的系统:</p><pre><code class="language-bash">sudo apt update</code></pre><p>是时候<strong>安装OpenVAS </strong>了。只需输入以下命令来安装所需的组件:</p><pre><code class="language-bash">sudo apt install openvas-manager openvas-scanner openvas-administrator openvas-cli greenbone-security-assistant sqlite3 xsltproc texlive-latex-base texlive-latex-extra texlive-latex-recommended htmldoc alien rpm nsis fakeroot</code></pre><h3><span class="ez-toc-section" id="2-_Configuring_OpenVAS_on_your_Server"/> <strong> 2-在您的服务器上配置open vas</strong><span class="ez-toc-section-end"/></h3><p>OpenVAS的SSL证书可以使用默认可用的包装工具生成。您应该使用管理权限调用它，如下所示，以将其放在文件系统的受限部分:</p><pre><code class="language-bash">sudo openvas-mkcert</code></pre><p>出现提示时，您可以按<strong> Enter </strong>接受默认值。然后为名为“marilyn”的用户创建另一个客户端证书:</p><pre><code class="language-bash">sudo openvas-mkcert-client -n marilyn -i</code></pre><p>在这一步中，您需要构建数据库信息，以便我们的本地工具能够识别不同类型的威胁和漏洞。为此，请通过运行以下命令来更新网络漏洞测试数据库:</p><pre><code class="language-bash">sudo openvas-nvt-sync</code></pre><p>然后，您将看到最新的定义被下载到您的本地设备。</p><p>使用下面的命令停止管理器和扫描仪应用程序，以便能够暂时调用命令而不发生冲突:</p><pre><code class="language-bash">sudo service openvas-manager stop</code></pre><pre><code class="language-bash">sudo service openvas-scanner stop</code></pre><p>您可以在不使用init文件中的参数的情况下启动scanner程序，通常使用以下命令调用这些参数:</p><pre><code class="language-bash">sudo openvassd</code></pre><p>现在，使用以下命令重建扫描器生成的数据库:</p><pre><code class="language-bash">sudo openvasmd --rebuild</code></pre><p>通过输入以下命令，下载并更新您的安全内容自动化协议数据，即SCAP数据:</p><pre><code class="language-bash">sudo openvas-scapdata-sync</code></pre><p>现在，您应该对证书数据运行类似的同步操作，如下所示:</p><pre><code class="language-bash">sudo openvas-certdata-sync</code></pre><p>如果这是您第一次运行上述命令，您可能会得到以下错误:</p><pre><code class="language-bash">Error: no such table: meta</code></pre><p>此错误可能是由于丢失了一些其他版本中打包的一些文件。您可以从管理器组件的RPM包中获得它们。要将它下载到您的主目录中，只需输入以下命令:</p><pre><code class="language-bash">cd  wget http://www6.atomicorp.com/channels/atomic/fedora/18/i386/RPMS/openvas-manager-4.0.2-11.fc18.art.i686.rpm</code></pre><p>然后借助以下命令提取并展开RPM中的目录结构:</p><pre><code class="language-bash">rpm2cpio openvas* | cpio -div</code></pre><p>接下来，为新文件创建一个目录，以便OpenVAS可以找到它们。然后将文件移动到该目录，如下所示:</p><pre><code class="language-bash">sudo mkdir /usr/share/openvas/cert</code></pre><pre><code class="language-bash">sudo cp ./usr/share/openvas/cert/* /usr/share/openvas/cert</code></pre><p>使用以下命令再次运行证书同步命令:</p><pre><code class="language-bash">sudo openvas-certdata-sync</code></pre><p>使用以下命令从主目录中删除提取的RPM数据和目录:</p><pre><code class="language-bash">rm -rf ~/openvas* ~/usr ~/etc</code></pre><h3><span class="ez-toc-section" id="3-_Monitoring_the_Vulnerabilities_using_OpenVAS"/> 3-使用OpenVAS监控漏洞<span class="ez-toc-section-end"/></h3><p>首先，您应该使用<strong>open vas/green bone</strong>Security Assistant web界面创建一个目标。为此，导航到<strong>配置</strong>部分，选择<strong>目标</strong>并点击所示图标创建一个新目标:</p><p> </p><p><img data-lazyloaded="1" src="../Images/d57546018679a797663d5893b5b1aa9f.png" decoding="async" loading="lazy" class="aligncenter wp-image-40273 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/10/1-Create-target-OpenVAS.webp" alt="Create-target-OpenVAS" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/10/1-Create-target-OpenVAS.webp 966w, https://blog.eldernode.com/wp-content/uploads/2022/10/1-Create-target-OpenVAS-300x84.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/10/1-Create-target-OpenVAS-768x215.webp 768w" data-sizes="(max-width: 966px) 100vw, 966px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/10/1-Create-target-OpenVAS.webp"/></p><p> </p><p>您将看到一个对话框，您应该在其中输入目标名称和目标IP主机。输入信息后，将其他设置设为默认值，并点击<strong>创建</strong>:</p><p> </p><p><img data-lazyloaded="1" src="../Images/a243317ce3aa551e6b9707b817436bfb.png" decoding="async" loading="lazy" class="aligncenter wp-image-40274 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/10/2-OpenVAS-dialog-screen.webp" alt="OpenVAS-dialog-screen" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/10/2-OpenVAS-dialog-screen.webp 720w, https://blog.eldernode.com/wp-content/uploads/2022/10/2-OpenVAS-dialog-screen-300x184.webp 300w" data-sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/10/2-OpenVAS-dialog-screen.webp"/></p><p> </p><p>您应该在可用目标列表中看到新创建的目标。</p><p>在此步骤中，您应该在OpenVAS中配置扫描任务。扫描任务定义将要扫描的目标、扫描选项、扫描配置以及每台主机同时扫描的目标和nvt。为此，导航到<strong>扫描</strong>，选择<strong>任务</strong>，点击显示的<strong>蓝色图标</strong>，选择<strong>新任务</strong>:</p><p> </p><p><img data-lazyloaded="1" src="../Images/edba5b1eaf5157900949924da3d145dc.png" decoding="async" loading="lazy" class="aligncenter wp-image-40275 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/10/3-Configure-new-task.webp" alt="Configure-new-task" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/10/3-Configure-new-task.webp 967w, https://blog.eldernode.com/wp-content/uploads/2022/10/3-Configure-new-task-300x81.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/10/3-Configure-new-task-768x206.webp 768w" data-sizes="(max-width: 967px) 100vw, 967px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/10/3-Configure-new-task.webp"/></p><p> </p><p>现在您将看到一个对话框，您应该在其中输入任务名称并选择之前创建的任务名称。然后勾选<strong>安排一次</strong>复选框，将其他设置设为默认，点击<strong>创建</strong>:</p><p> </p><p><img data-lazyloaded="1" src="../Images/a664264becdddac93b061d640b858bde.png" decoding="async" loading="lazy" class="aligncenter wp-image-40276 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/10/4-Create-new-task-OpenVAS.webp" alt="Create-new-task-OpenVAS" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/10/4-Create-new-task-OpenVAS.webp 720w, https://blog.eldernode.com/wp-content/uploads/2022/10/4-Create-new-task-OpenVAS-300x183.webp 300w" data-sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/10/4-Create-new-task-OpenVAS.webp"/></p><p> </p><p>您将在任务列表中看到新创建的任务。</p><p>您可以通过单击显示的开始按钮运行OpenVAS漏洞扫描:</p><p> </p><p><img data-lazyloaded="1" src="../Images/ddb5c07c8fad4848143a8abbf6c04ef9.png" decoding="async" loading="lazy" class="aligncenter wp-image-40277 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/10/5-Run-scan-task-OpenVAAS.webp" alt="Run-scan-task-OpenVAS- Secure your server with OpenVAS" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/10/5-Run-scan-task-OpenVAAS.webp 960w, https://blog.eldernode.com/wp-content/uploads/2022/10/5-Run-scan-task-OpenVAAS-300x44.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/10/5-Run-scan-task-OpenVAAS-768x113.webp 768w" data-sizes="(max-width: 960px) 100vw, 960px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/10/5-Run-scan-task-OpenVAAS.webp"/></p><p> </p><p>扫描任务将针对选定的目标运行。如果您重新加载页面，您可以检查进度。</p><p>完成后，您可以看到状态变为<strong> Done: </strong></p><p> </p><p><img data-lazyloaded="1" src="../Images/d5e6fe44b7bcb6f6b51d25c088d53fbb.png" decoding="async" loading="lazy" class="aligncenter wp-image-40278 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/10/6-Vulnerability-scan-finish-OpenVAS.webp" alt="Vulnerability-scan-finish-OpenVAS- Secure your server with OpenVAS" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/10/6-Vulnerability-scan-finish-OpenVAS.webp 956w, https://blog.eldernode.com/wp-content/uploads/2022/10/6-Vulnerability-scan-finish-OpenVAS-300x147.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/10/6-Vulnerability-scan-finish-OpenVAS-768x376.webp 768w" data-sizes="(max-width: 956px) 100vw, 956px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/10/6-Vulnerability-scan-finish-OpenVAS.webp"/></p><p> </p><h3><span class="ez-toc-section" id="4-_Managing_the_OpenVAS"/> <strong> 4-管理OpenVAS </strong> <span class="ez-toc-section-end"/></h3><p>您需要设置OpenVAS用户和端口，因为您需要一个用户来进入服务。创建一个名为“marilyn”的用户，其管理员角色如下所示:</p><pre><code class="language-bash">sudo openvasad -c add_user -n admin -r Admin</code></pre><p>您将被要求提供新帐户的密码。</p><p>现在用root权限从您想要的文本编辑器中打开下面的文件:</p><pre><code class="language-bash">sudo nano /etc/default/greenbone-security-assistant</code></pre><p>顶部的参数指定了web界面将监听的地址。要允许它侦听来自互联网的连接，您应该将值从127.0.0.1更改为您的VPS的公共IP地址:</p><pre><code class="language-bash">&lt;pre&gt; GSA_ADDRESS=&lt;span class=“highlight”&gt;your_server_IP_address&lt;/span&gt; &lt;/pre&gt;</code></pre><p><strong>保存</strong>并关闭文件。</p><p>某些服务正在以某些容量运行，借助以下命令终止所有正在运行的OpenVAS scanner进程:</p><pre><code class="language-bash">sudo killall openvassd</code></pre><p>您可以使用以下命令检查进程是否仍在运行:</p><pre><code class="language-bash">ps aux | grep openvassd | grep -v grep</code></pre><p>如果服务被返回，您应该等待进程完成。</p><p>该过程完成后，通过运行以下命令重新启动所有服务:</p><pre><code class="language-bash">sudo service openvas-scanner start</code></pre><pre><code class="language-bash">sudo service openvas-manager start</code></pre><pre><code class="language-bash">sudo service openvas-administrator restart</code></pre><pre><code class="language-bash">sudo service greenbone-security-assistant restart</code></pre><p>就是这样！我们提供不同的<a href="https://eldernode.com/linux-vps/"> Linux VPS </a>服务器包。如果你正在寻找一个经济的Linux VPS服务器，我们的网站是最好的选择之一。</p><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>OpenVAS是一个工具集合，这些工具协同工作，使用已知漏洞和弱点的数据库对客户端计算机执行测试。在本文中，我们向您介绍了使用OpenVAS保护服务器的4个步骤。我希望这篇文章能帮助你用OpenVAS保护你的服务器，并对你有用。如果您有任何问题或建议，可以在评论区联系我们。</p></div></div>    
</body>
</html>