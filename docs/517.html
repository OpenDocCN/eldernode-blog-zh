<html>
<head>
<title>How To Install The Django on Ubuntu 18.04 LTS - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在Ubuntu 18.04上安装Django LTS-elder node博客</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/install-django-ubuntu-18/#0001-01-01">https://blog.eldernode.com/install-django-ubuntu-18/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/eb311ba42d2ac2cea0e7d17fc129486a.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/09/IMG_1973.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="How To Install the Django on Ubuntu 18.04" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/09/IMG_1973.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/09/IMG_1973-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/09/IMG_1973-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/09/IMG_1973-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/09/IMG_1973-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/09/IMG_1973-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/09/IMG_1973.png"/><p>【更新日期:2021-01-07】Django是一个用于开发动态网站和应用程序的Python Web框架。作为一名开发人员，您需要Django在提供更高安全性的同时，快速完成应用程序。在本文中，你将学习如何在Ubuntu 18.04 LTS版上安装Django。为了减少常见的安全错误并创建Python web应用程序，让我们了解一下这个免费的开源软件，像大公司一样享受它的特性。另外，你可以购买自己的<a href="https://eldernode.com/ubuntu-vps/" target="_blank" rel="noopener"> Ubuntu VPS </a>或者在<a href="https://eldernode.com/" target="_blank" rel="noopener"> Eldernode </a>上找到你考虑的软件包。</p><p>为了让本教程更好地发挥作用，请考虑以下<strong>先决条件</strong>:</p><p>拥有sudo权限的非root用户。</p><p>要设置，请按照我们的<a href="https://eldernode.com/initial-setup-ubuntu-18/" target="_blank" rel="noopener noreferrer">初始设置Ubuntu 18.04 </a></p><h2><span class="ez-toc-section" id="Tutorial_Install_the_Django_on_Ubuntu_1804"/> <strong> <span>教程在Ubuntu 18.04上安装Django</span></strong><span class="ez-toc-section-end"/></h2><p>请和我们一起回顾这份指南。您将在一个<a href="https://blog.eldernode.com/tag/linux/" target="_blank" rel="noopener"> Linux </a> Ubuntu 18.04服务器上运行Django。Django发展了许多大公司。你可以找到诸如华盛顿邮报、讨论、Instagram、Mozilla、Pinterest等名字。</p><p>有3种不同的方法来安装Django。在本文中，我们将回顾这些方法:</p><p><strong> 1- </strong>从软件包全局安装</p><p><strong> 2- </strong>在虚拟环境中安装<span> <em> pip </em> </span></p><p><strong> 3- </strong>开发版用<em> <span> <span> git </span> </span> </em>安装</p><h3 id="global-install-from-packages"><span class="ez-toc-section" id="Install_The_Django_on_Ubuntu_1804_LTS"/>在LTS Ubuntu 18.04上安装Django<span class="ez-toc-section-end"/></h3><p>Django可以在官方的Ubuntu仓库中获得，并且可以和传统的<em> apt </em>包管理器一起安装。</p><p>首先，使用下面的命令更新您的本地包索引。</p><pre><code class="language-bash">sudo apt update</code></pre><p>现在，您可以通过运行以下命令来检查Python版本:</p><pre><code class="language-bash">python3 -V</code></pre><p>然后，要安装Django，键入:</p><pre><code class="language-bash">sudo apt install python3-django</code></pre><p>此外，您可以检查安装是否成功。</p><pre><code class="language-bash">django-admin --version</code></pre><h3 id="install-with-pip-in-a-virtual-environment"><span class="ez-toc-section" id="Install_with_pip_in_a_Virtual_Environment"/>在虚拟环境中安装pip<span class="ez-toc-section-end"/></h3><p>要使用灵活的方式安装Django，创建一个虚拟环境是一个好主意。通过使用<em> venv </em>和<em> virtualenv </em> <span> <span>工具，这将成为可能。</span> </span></p><p>同样，建议您刷新本地包索引:</p><pre><code class="language-bash">sudo apt update</code></pre><p>使用下面的命令查看安装的Python版本。</p><pre><code class="language-bash">python3 -V</code></pre><p>要从Ubuntu库安装<em> pip </em>，请键入:</p><pre><code class="language-bash">sudo apt install python3-pip</code></pre><p>现在用<em> pip </em>安装<em> venv </em>包</p><pre><code class="language-bash">sudo apt install python3-venv</code></pre><p>通过开始一个新项目，你也可以为此创建一个虚拟环境。要开始创建项目并进入该目录，请运行:</p><pre><code class="language-bash">mkdir ~/<span class="highlight">newproject  </span>cd ~/<span class="highlight">newproject</span></code></pre><p>使用Python命令(与您的Python版本兼容)，您可以在项目目录中创建一个虚拟环境。</p><pre><code class="language-bash">python3<span class="highlight">.6</span> -m venv <span class="highlight">my_env</span></code></pre><p>您可以将其名称更改为描述性名称。将以该名称创建一个目录。</p><p>激活隔离环境，将软件包安装到该环境中。</p><pre><code class="language-bash">source my_env/bin/activate</code></pre><p>使用pip在您的新环境中安装Django。另外，请注意，您<strong>不需要</strong>来使用<span> sudo </span>，因为您是在本地安装:</p><pre><code class="language-bash">(my_env) $ pip install django</code></pre><p>现在，您可以通过运行以下命令来验证安装:</p><pre><code class="language-bash">(my_env) $ django-admin --version</code></pre><p>发出deactivate命令，让您离开虚拟环境。</p><pre><code class="language-bash">(my_env) $ deactivate</code></pre><p>只要进入项目目录并激活它，您就可以随时重新激活您的虚拟环境。</p><pre><code class="language-bash">cd ~/<span class="highlight">newproject</span>  source <span class="highlight">my_env</span>/bin/activate</code></pre><h3 id="development-version-install-with-git"><span class="ez-toc-section" id="Development_Version_Install_with_Git"/>用Git安装开发版本<span class="ez-toc-section-end"/></h3><p>在这一步中，您将看到如何通过从Git repo获取代码来安装最新的开发版本，而不是稳定版本。要开发Django的版本，从它的存储库中下载并安装Django。那么，让我们在虚拟环境中完成这项工作。</p><p>首先使用以下命令更新本地包索引:</p><pre><code class="language-bash">sudo apt update</code></pre><p>要检查已安装的Python版本，请输入:</p><pre><code class="language-bash">python3 -V</code></pre><p>要从官方存储库中安装<em> pip </em>,运行</p><pre><code class="language-bash">sudo apt install python3-pip</code></pre><p>安装<em> venv </em>包来创建您的虚拟环境:</p><pre><code class="language-bash">sudo apt install python3-venv</code></pre><p>然后，要将存储库克隆到您的主目录中名为<em> <strong> ~/ </strong> django-dev </em>的目录中，键入:</p><pre><code class="language-bash">git clone git://github.com/django/django ~/<span class="highlight">django-dev</span></code></pre><p>注意，更改到此目录:</p><pre><code class="language-bash">cd ~/<span class="highlight">django-dev</span></code></pre><p>同样，通过使用Python命令(与您的Python版本兼容)，您可以在项目目录中创建一个虚拟环境。</p><pre><code class="language-bash">python3<span class="highlight">.6 </span>-m venv <span class="highlight">my_env</span></code></pre><p>接下来，要激活它:</p><pre><code class="language-bash">source <span class="highlight">my_env</span>/bin/activate</code></pre><p>使用<em> pip </em>安装存储库。<em> -e </em>选项将以“可编辑”模式安装，这在从版本控制安装时是必要的:</p><pre><code class="language-bash">(my_env) $ pip install -e ~/<span class="highlight">django-dev</span></code></pre><p>通过运行以下命令检查安装是否成功:</p><pre><code class="language-bash">django-admin --version</code></pre><h3 id="creating-a-sample-project"><span class="ez-toc-section" id="How_to_Create_a_sample_Project"/>如何创建样本项目<span class="ez-toc-section-end"/></h3><p>安装Django后，您可以构建您的项目。让我们看看如何创建一个项目，并在开发服务器上测试它。</p><p>要为您的项目创建一个目录并在其中进行更改，请运行:</p><pre><code class="language-bash">mkdir ~/django-test  cd ~/django-test  </code></pre><p>现在，您可以通过键入以下命令来创建您的虚拟环境:</p><pre><code class="language-bash">python3.6 -m venv my_env</code></pre><p>然后，为了激活环境:</p><pre><code class="language-bash">source my_env/bin/activate</code></pre><p>安装Django:</p><pre><code class="language-bash">(my_env) $ pip install django</code></pre><p>此外，您可以使用<em> django-admin </em>来构建您的项目。<em> <span> startproject </span> </em>会在你当前的工作目录下创建一个目录，包括:</p><p>一个管理脚本，manage.py，您可以使用它来管理各种特定于Django的任务。<br/>包含实际项目代码的目录(与项目同名)</p><p>然而，为了避免有太多的嵌套目录，让我们告诉Django将管理脚本和内部目录放在<em>当前</em>目录中(注意结束点):</p><pre><code class="language-bash">(my_env) $ django-admin startproject <span class="highlight">djangoproject</span> .</code></pre><p>要迁移数据库(这个例子默认使用SQLite)，让我们使用migrate命令和<em> manage.py </em>。<a href="https://docs.djangoproject.com/en/2.0/topics/migrations/">迁移</a>将您对Django模型所做的任何更改应用到您的数据库模式。</p><p>要迁移数据库，请键入:</p><pre><code class="language-bash">(my_env) $ python manage.py migrate</code></pre><p>输出:</p><pre><code class="language-bash">Operations to perform:    Apply all migrations: admin, auth, contenttypes, sessions  Running migrations:    Applying contenttypes.0001_initial... OK    Applying auth.0001_initial... OK    Applying admin.0001_initial... OK    Applying admin.0002_logentry_remove_auto_add... OK    Applying admin.0003_logentry_add_action_flag_choices... OK    Applying contenttypes.0002_remove_content_type_name... OK    Applying auth.0002_alter_permission_name_max_length... OK    Applying auth.0003_alter_user_email_max_length... OK    Applying auth.0004_alter_user_username_opts... OK    Applying auth.0005_alter_user_last_login_null... OK    Applying auth.0006_require_contenttypes_0002... OK    Applying auth.0007_alter_validators_add_error_messages... OK    Applying auth.0008_alter_user_username_max_length... OK    Applying auth.0009_alter_user_last_name_max_length... OK    Applying sessions.0001_initial... OK</code></pre><p><strong>最后，</strong>您可以创建一个管理用户，这样您就可以使用Django管理界面。让我们用<em>创建超级用户</em>命令来做这件事:</p><p>系统将提示您输入用户名、电子邮件地址和密码。</p><pre><code class="language-bash">(my_env) $ python manage.py createsuperuser</code></pre><p><span class="ez-toc-section" id="How_to_modify_ALLOWED_HOSTS_in_the_Django_Settings"/>如何在Django设置中修改ALLOWED _ HOSTS<span class="ez-toc-section-end"/></p><h3 id="modifying-allowed_hosts-in-the-django-settings">修改Django设置中的一个指令，以便能够成功测试您的应用程序。</h3><p>使用以下命令打开设置文件:</p><p>在内部，找到<em> ALLOWED_HOSTS </em>指令。这定义了一个地址或域名的白名单，可以用来连接到Django实例。主机标头不在此列表中的传入请求将引发异常。Django要求您设置这个来防止某类安全漏洞。</p><pre><code class="language-bash">(my_env) $ nano ~/django-test/djangoproject/settings.py</code></pre><p>首先，在方括号中列出与Django服务器相关的IP地址或域名。每一项都应该用引号括起来，用逗号分开。如果希望请求整个域和任何子域，请在条目的开头加上一个句点:</p><p> </p><p>~/django-test/django project/settings . py</p><p class="code-label" title="~/django-test/djangoproject/settings.py">完成后，保存文件并退出编辑器。</p><pre><code class="language-bash">. . .  ALLOWED_HOSTS = ['your_server_ip_or_domain', 'your_second_ip_or_domain', . . .]</code></pre><p><span class="ez-toc-section" id="How_to_test_the_Development_Server"/>如何测试开发服务器<span class="ez-toc-section-end"/></p><h3 id="testing-the-development-server">因为您有了一个用户，所以您可以启动Django开发服务器。但在此之前，ypu应该确保在您的防火墙中打开适当的端口。通过运行以下命令打开端口8000:</h3><p>然后，启动开发服务器:</p><pre><code class="language-bash">(my_env) $ sudo ufw allow 8000</code></pre><p>在web浏览器中访问服务器的IP地址，后跟8000:</p><pre><code class="language-bash">(my_env) $ python manage.py runserver <span class="highlight">your_server_ip</span>:8000</code></pre><p>您应该会看到类似这样的内容:</p><pre><code class="language-bash">http://your_server_ip:8000</code></pre><p><img data-lazyloaded="1" src="../Images/c582ec0d6f9315c5ea1355108355335e.png" decoding="async" loading="lazy" class="size-large wp-image-21973 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2020/10/django_landing_page_18_04-1024x694.png" alt="django landing page" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/10/django_landing_page_18_04-1024x694.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/10/django_landing_page_18_04-300x203.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/10/django_landing_page_18_04-768x520.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/10/django_landing_page_18_04-1536x1041.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/10/django_landing_page_18_04-2048x1388.png 2048w" data-sizes="(max-width: 1024px) 100vw, 1024px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/10/django_landing_page_18_04-1024x694.png"/></p><p> </p><p> </p><p> </p><p><span>此外，要访问管理界面，请在您的网址末尾添加<span> /admin/ </span>:</span></p><p>这将带您进入登录屏幕:</p><pre><code class="language-bash">http://your_server_ip:8000/admin/</code></pre><p><img data-lazyloaded="1" src="../Images/6147c450f216afa975f95b44fb555131.png" decoding="async" loading="lazy" class="size-large wp-image-21975 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2020/10/django-admin-panel-1024x368.png" alt="django admin login page" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/10/django-admin-panel-1024x368.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/10/django-admin-panel-300x108.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/10/django-admin-panel-768x276.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/10/django-admin-panel-1536x553.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/10/django-admin-panel-2048x737.png 2048w" data-sizes="(max-width: 1024px) 100vw, 1024px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/10/django-admin-panel-1024x368.png"/></p><p> </p><p>如果您输入刚刚创建的管理员用户名和密码，您将可以访问网站的主要管理部分:</p><p><img data-lazyloaded="1" src="../Images/c09ff8226b95a9e14047b64fba8912bd.png" decoding="async" loading="lazy" class="size-large wp-image-21976 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2020/10/django-admin-panel-1-1024x368.png" alt="django admin panel page" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/10/django-admin-panel-1-1024x368.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/10/django-admin-panel-1-300x108.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/10/django-admin-panel-1-768x276.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/10/django-admin-panel-1-1536x553.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/10/django-admin-panel-1-2048x737.png 2048w" data-sizes="(max-width: 1024px) 100vw, 1024px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/10/django-admin-panel-1-1024x368.png"/></p><p> </p><p>要解释更多的<strong> <b>，</b> </strong>任何时候你需要停止开发服务器，在你的终端输入CTRL-C。如果您希望构建您的应用程序并定制您的站点，您应该查阅Django文档。</p><p>To explain more<strong><b>, </b></strong>anytime you need to stop the development server, type CTRL-C in your terminal. You should check out the Django documentation if you wish to build your applications and customize your site.</p><p id="google_ads_iframe_/1254144/howtoforge_com-box-3_0__container__"><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></p><h2>在本文中，你学习了如何在Ubuntu 18.04上安装Django。使用Django帮助ypu更容易地创建网站。您可能犯的安全错误，如SQL、注入、XSS、CSRF和点击劫持将被避免。如果你还需要获得最新版本的指南，请关注我们的文章<a href="https://blog.eldernode.com/install-django-on-ubuntu-20/" target="_blank" rel="noopener noreferrer">如何在Ubuntu 20.04上安装Django</a>。</h2><p><span>In this article, you learned How To Install Django on Ubuntu 18.04. Using Django helps ypu create websites easier. Your probable security mistakes such as SQL, Injection, XSS, CSRF, and clickjacking would be avoided. </span>In case you also need to get the guide of the latest version, follow our article on <a href="https://blog.eldernode.com/install-django-on-ubuntu-20/" target="_blank" rel="noopener noreferrer">How to install Django on Ubuntu 20.04</a>.</p></div></div>    
</body>
</html>