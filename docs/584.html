<html>
<head>
<title>How To Install Samba On Ubuntu 20.04 - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在Ubuntu 20.04 - Eldernode博客上安装Samba</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/install-samba-on-ubuntu-20-04/#0001-01-01">https://blog.eldernode.com/install-samba-on-ubuntu-20-04/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/6e6f23ef051919b400eed3bd49e406bf.png" data-src="https://blog.eldernode.com/wp-content/uploads/2021/02/How-To-Install-Samba-On-Ubuntu-20.04.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="How To Install Samba On Ubuntu 20.04" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/02/How-To-Install-Samba-On-Ubuntu-20.04.png 2069w, https://blog.eldernode.com/wp-content/uploads/2021/02/How-To-Install-Samba-On-Ubuntu-20.04-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/02/How-To-Install-Samba-On-Ubuntu-20.04-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2021/02/How-To-Install-Samba-On-Ubuntu-20.04-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2021/02/How-To-Install-Samba-On-Ubuntu-20.04-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2021/02/How-To-Install-Samba-On-Ubuntu-20.04-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/02/How-To-Install-Samba-On-Ubuntu-20.04.png"/><p>Samba是用于Linux和Unix的免费标准Windows互操作性程序套件。它是根据GNU通用公共许可证授权的。作为将Linux/Unix服务器和桌面无缝集成到Active Directory环境中的一个重要组件，您可以将它用作域控制器或常规域成员。作为网络管理员，Samba在设置、配置以及选择系统和设备方面为您提供了灵活性和自由度。在本文中，你将学习如何在Ubuntu 20.04 上安装Samba。如果你正准备购买一台新的<a href="https://eldernode.com/linux-vps/" target="_blank" rel="noopener"> Linux VPS </a>或者你需要拥有自己的<a href="https://eldernode.com/ubuntu-vps/" target="_blank" rel="noopener"> Ubuntu VPS </a>服务器，你可以以你能想象的最快速度购买你需要的东西。</p><p> </p><p>为了让本教程更好地发挥作用，请考虑以下<strong>先决条件</strong>:</p><p>拥有sudo权限的非root用户。</p><p>要设置，请遵循我们在Ubuntu 20.04 上的<a href="https://blog.eldernode.com/initial-server-setup-on-ubuntu-20/" target="_blank" rel="noopener">初始服务器设置。</a></p><h2><span class="ez-toc-section" id="Tutorial_Install_Samba_On_Ubuntu_2004"/> <strong>教程在Ubuntu 20.04上安装Samba</strong><span class="ez-toc-section-end"/></h2><p>Samba使运行Unix的计算机能够参与进来，使用与Microsoft Windows相同的网络协议进行通信，并且从Windows客户机的角度看，在网络上表现为另一个Windows系统。Samba允许您访问共享文件、打印机和其他网络资源。它还能让你从笔记本电脑上访问桌面文件，并与Windows和macOS用户共享文件。如果你想在同一子网上配置Windows和Ubuntu机器，它们应该能够通过网络通信。</p><p>和我们一起来看看在Ubuntu 20.04上设置Samba文件服务器的步骤。</p><h2><span class="ez-toc-section" id="Step_by_Step_To_Install_Samba_On_Ubuntu_2004_1804"/> <strong>逐步在Ubuntu上安装Samba 20.04 | 18.04</strong><span class="ez-toc-section-end"/></h2><h3><span class="ez-toc-section" id="How_to_install_Samba"/> <strong>如何安装桑巴:</strong> <span class="ez-toc-section-end"/></h3><p>首先，运行以下命令来安装Samba:</p><pre><code class="language-bash">sudo apt update</code></pre><pre><code class="language-bash">sudo apt install samba</code></pre><p>您现在可以检查是否已经成功安装了<strong/>。因此，键入:</p><pre><code class="language-bash">whereis samba</code></pre><p>一旦您查看下面的<em>输出</em>，这意味着一切正常。</p><pre><code class="language-bash">samba: /usr/sbin/samba /usr/lib/samba /etc/samba /usr/share/samba /usr/share/man/man7/samba.7.gz /usr/share/man/man8/samba.8.gz</code></pre><h3><span class="ez-toc-section" id="How_to_setup_Samba"/> <strong>如何设置桑巴</strong> <span class="ez-toc-section-end"/></h3><p>这样你就可以<strong>创建一个目录</strong>给它共享。Som运行:</p><pre><code class="language-bash">mkdir /home/&lt;username&gt;/sambashare/</code></pre><p>一旦你运行上面的命令，它将在你的主目录下创建一个新的文件夹<strong> <em> sambashare </em> </strong>，你稍后将共享它。</p><p>Samb的配置文件位于ar<strong><em>/etc/samba/SMB . conf</em></strong>。使用下面的命令编辑文件，将新目录添加为共享目录。</p><pre><code class="language-bash">sudo nano /etc/samba/smb.conf</code></pre><p>然后，您必须将下列行添加到文件的底部:</p><pre><code class="language-bash">[sambashare]</code></pre><pre><code class="language-bash">comment = Samba on Ubuntu</code></pre><pre><code class="language-bash">path = /home/username/sambashare</code></pre><pre><code class="language-bash">read only = no</code></pre><pre><code class="language-bash">browsable = yes</code></pre><p> </p><p><strong>注意</strong>:看一下增加的内容的附加说明:</p><p><em>评论</em>:简要描述你的份额。</p><p><em>路径</em>:你共享的目录。</p><p><em>只读</em>:只有当该指令的值为<em>否</em>时，才授予修改共享文件夹内容的权限。</p><p><em>可浏览</em>:设置为yes时，文件管理器如Ubuntu的默认文件管理器会将此共享列在“网络”下</p><p> </p><p>现在，你可以按下<em> Ctrl-O </em>保存，按下<em> Ctrl-X </em>退出<em> nano </em>文本编辑器。</p><p>当您配置了新的共享时，您可以保存它并重新启动Samba以使它生效:</p><pre><code class="language-bash">sudo service smbd restart</code></pre><p>运行以下命令来更新防火墙规则，以允许Samba流量:</p><pre><code class="language-bash">sudo ufw allow samba</code></pre><h3><span class="ez-toc-section" id="How_to_setup_User_Account_and_connect_to_share"/> <strong>如何设置用户账号并连接共享</strong> <span class="ez-toc-section-end"/></h3><p>Samba不使用系统帐户密码，因此您需要为您的用户帐户设置一个Samba密码:</p><pre class="p-heading--three"><code class="language-bash">sudo smbpasswd -a username</code></pre><p><strong>注意</strong>:要保存用户名，它应该属于一个系统账户。</p><p><img data-lazyloaded="1" src="../Images/76aca134a0183c7056aa0075f2478e50.png" decoding="async" loading="lazy" class="size-full wp-image-23870 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/02/samba.png" alt="Add a Samba user" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/02/samba.png 968w, https://blog.eldernode.com/wp-content/uploads/2021/02/samba-300x171.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/02/samba-768x437.png 768w" data-sizes="(max-width: 968px) 100vw, 968px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/02/samba.png"/></p><h3 class="u-no-padding--top u-no-margin--bottom"><span class="ez-toc-section" id="How_to_connect_to_share"/> <strong>如何连接分享</strong> <span class="ez-toc-section-end"/></h3><p>因为你正在使用Ubuntu，你应该打开默认的文件管理器，点击<em>连接到服务器</em>。然后输入<em>SMB://IP-address/samba share</em>。</p><p>请注意，<em> ip地址</em>是Samba服务器的ip地址，而<em> sambashare </em>是共享的名称。</p><p>最后，系统会提示您输入凭据。所以，输入它们来连接。</p><h2><span class="ez-toc-section" id="Conclusion"/> <strong>结论</strong> <span class="ez-toc-section-end"/></h2><p>在本文中，您了解了如何在Ubuntu 20.04上安装Samba。从现在开始，您可以共享一个或多个目录树和一个或多个分布式文件系统树。如果您在网络上的Windows客户端中的服务器上安装了打印机，您也可以共享它们。如果你愿意，可以在<a href="https://blog.eldernode.com/install-samba-on-linux-windows/">如何在Linux/Windows上安装Samba</a>上阅读更多关于Samba的内容。</p></div></div>    
</body>
</html>