<html>
<head>
<title>Performance tuning and optimize Debian 10/9/8 - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>性能调优和优化Debian 10/9/8 - Eldernode博客</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/performance-tuning-and-optimize-debian/#0001-01-01">https://blog.eldernode.com/performance-tuning-and-optimize-debian/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/00777bc346575b0022c61c7a4aa70e61.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/11/Performance-tuning-and-optimize-Debian.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Performance tuning and optimize Debian" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/11/Performance-tuning-and-optimize-Debian.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/11/Performance-tuning-and-optimize-Debian-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/11/Performance-tuning-and-optimize-Debian-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/11/Performance-tuning-and-optimize-Debian-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/11/Performance-tuning-and-optimize-Debian-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/11/Performance-tuning-and-optimize-Debian-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/11/Performance-tuning-and-optimize-Debian.png"/><p>Debian是世界上最大和最广泛的合作项目。Debian GNU/Linux项目成功的最重要原因是这个Linux发行版是由1000多名程序员编写的。在本文中，我们打算提供关于<strong>性能调优和优化Debian </strong>的信息。如果您需要购买<a href="https://eldernode.com/linux-vps/"> Linux VPS </a>服务器，可以访问<a href="https://eldernode.com/"> Eldernode </a>中的软件包。</p><h2><span class="ez-toc-section" id="Performance_tuning_and_optimize_Debian_1098"/>性能调优和优化Debian 10/9/8 <span class="ez-toc-section-end"/></h2><p>Debian GNU/ <a href="https://blog.eldernode.com/tag/linux/" target="_blank" rel="noopener noreferrer"> Linux </a>套件目前包括超过50，000个甚至是为8处理器架构设计的软件包。通过改变Debian操作系统的源代码并对其进行修改，到目前为止，已经发布了120多种新的Linux发行版，所有这些发行版都被称为基于Debian，它代表了这个操作系统的强大。在本文中，我们打算通过应用一系列设置来提高Debian发行版的性能。</p><h3><span class="ez-toc-section" id="How_to_install_Tuned_on_Debian_1098"/>如何在Debian 10/9/8上安装Tuned<span class="ez-toc-section-end"/></h3><p>您可以使用以下命令在Debian中轻松安装和激活优化的软件包:</p><pre><code class="language-bash">sudo apt update    sudo apt install tuned tuned-utils tuned-utils-systemtap</code></pre><p>在Debian中使用以上命令安装调优的包之后，现在必须输入<strong> systemctl start tuned </strong>命令来启动。然后，您可以使用<strong> $ systemctl status tuned </strong>命令查看以下输出。在命令后的第二行和第三行，您可以检查服务的激活状态:</p><p>———————————————————————————————————–</p><p>$ systemctl状态已调整</p><p>●tuned . service–动态系统调优守护进程<br/>加载:<strong>加载</strong>(/usr/lib/systemd/System/tuned . service；已启用；厂商预置:<strong>使能</strong> ) <br/>激活:<strong>激活</strong>(运行中)自世界协调时Tue 2020-11-06 04:10:52；6天前<br/>docs:man:tuned(8)<br/>man:tuned . conf(5)<br/>man:tuned-ADM(8)<br/>main PID:936(tuned)<br/>c group:/system . slice/tuned . service<br/>└─936/usr/bin/python 2-es/usr/sbin/tuned-l-p<br/>…..</p><p>———————————————————————————————————–</p><h3><span class="ez-toc-section" id="How_to_Select_a_Tuning_Profile_on_Debian"/>如何在Debian上选择调优配置文件<span class="ez-toc-section-end"/></h3><p>优化配置文件是基本配置文件，主要包含在基本优化包中。它们针对不同的目标，并提供性能优化，但也有针对低功耗、低延迟等的配置文件。鉴于对配置文件的讨论非常广泛，我们可以简单地说，调优的配置文件分为两类:节能配置文件和性能提升配置文件。在下文中，我们将逐一解释:</p><h4><span class="ez-toc-section" id="Power-saving_profiles"/>省电模式<span class="ez-toc-section-end"/></h4><p>与默认启用的节能机制相比，节能配置文件包含默认情况下通常不启用的节能设置。因为它们会显著影响系统的延迟/性能。此外，性能配置文件在设置功耗时会禁用额外的节能机制。因为它们对吞吐量或延迟有负面影响。</p><h4><span class="ez-toc-section" id="Performance-boosting_profiles"/>性能提升配置文件<span class="ez-toc-section-end"/></h4><p>性能提升概要文件包括我们将在下面解释的方面:</p><p><em> <strong> 1。延迟-性能</strong>T3</em></p><p>低延迟性能调优配置文件。禁用节能机制。CPU调控器被设置为performance并锁定到低C状态(通过PM QoS)。CPU能源性能偏向于性能。</p><p><em> <strong> 2。吞吐量-性能</strong> </em></p><p>典型吞吐量性能调优的配置文件。禁用节能机制并启用sysctl设置，以提高磁盘和网络IO的吞吐量性能。CPU调控器设置为performance，CPU能耗性能偏差设置为performance。增加了磁盘预读值。</p><p><em> <strong> 3。虚拟主机</strong> </em></p><p>基于吞吐量-性能配置文件为虚拟主机优化的配置文件。此外，它还支持更积极的脏页写回。</p><p><em> <strong> 4。虚拟机-性能</strong> </em></p><p>tuned utility是一种调优配置文件交付机制，它使Debian适应某些工作负载特性，例如CPU密集型任务或存储网络吞吐量响应的要求。它提供了许多预配置的调整配置文件，以在许多特定的使用案例中增强性能并降低功耗。您可以编辑这些配置文件或创建新的配置文件，以创建适合您的环境(包括虚拟化环境)的性能解决方案。</p><h3><span class="ez-toc-section" id="Tutorial_select_a_Tuning_Profile_on_Debian"/>教程在Debian上选择一个调优配置文件<span class="ez-toc-section-end"/></h3><p>您可以使用<strong> tuned-adm </strong>命令更改调优的守护程序设置。您可以使用以下命令检查活动的优化配置文件:</p><pre><code class="language-bash">$ tuned-adm active  Current active profile: virtual-guest</code></pre><p>另外，如下所示，您可以使用tuned-adm list命令列出所有可用的优化配置文件:</p><pre><code class="language-bash"><strong>Available profiles:</strong></code></pre><pre><code class="language-bash">- balanced                      - General non-specialized tuned profile</code></pre><pre><code class="language-bash">- desktop                       - Optimize for the desktop use-case</code></pre><pre><code class="language-bash">- latency-performance           - Optimize for deterministic performance at the cost of increased power consumption</code></pre><pre><code class="language-bash">- network-latency               - Optimize for deterministic performance at the cost of increased power consumption, focused on low latency network performance</code></pre><pre><code class="language-bash">- network-throughput            - Optimize for streaming network throughput, generally only necessary on older CPUs or 40G+ networks</code></pre><pre><code class="language-bash">- powersave                     - Optimize for low power consumption</code></pre><pre><code class="language-bash">- throughput-performance        - Broadly applicable tuning that provides excellent performance across a variety of common server workloads</code></pre><pre><code class="language-bash">- virtual-guest                 - Optimize for running inside a virtual guest</code></pre><pre><code class="language-bash">- virtual-host                  - Optimize for running KVM guests</code></pre><pre><code class="language-bash">Current active profile: virtual-guest</code></pre><p>下面是一个最大化吞吐量的示例。请注意，使用tuned-adm profile命令，您可以从一个活动配置文件切换到另一个活动配置文件:</p><pre><code class="language-bash">sudo tuned-adm profile throughput-performance</code></pre><h4><span class="ez-toc-section" id="Learn_how_to_check_the_recommended_tuning_profile_on_Debian"/>了解如何在Debian上查看推荐的调优配置文件<span class="ez-toc-section-end"/></h4><p>根据您的系统规格，可能建议使用基于tuned-adm命令的优化配置文件。该命令可以根据系统是虚拟机还是其他虚拟机来推荐这些规范。</p><pre><code class="language-bash">$ tuned-adm recommend  virtual-guest</code></pre><p>应该注意，您还可以使用以下命令将您的配置文件设置为推荐值:</p><pre><code class="language-bash">sudo tuned-adm profile virtual-guest</code></pre><p>要查看配置文件及其详细信息，请运行以下命令查看结果:</p><pre><code class="language-bash">$ tuned-adm profile_info virtual-guest    Profile name:  virtual-guest    Profile summary:  Optimize for running inside a virtual guest    Profile description:  </code></pre><h3><span class="ez-toc-section" id="Tutorial_Turn_off_the_tuning_profile_on_Debian"/>教程关闭Debian上的调优配置<span class="ez-toc-section-end"/></h3><p>有时，您可能已经做出了更改，但现在您想要撤销这些更改。有两种方法可以做到这一点，你可以去另一个配置文件或禁用调优守护进程。但是要关闭优化活动和您所做的设置，您可以使用以下命令:</p><pre><code class="language-bash">$ tuned-adm off</code></pre><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>在本文中，我们试图详细解释性能调优和优化Debian。我们还试图提供关于如何安装Tuned，如何选择调优配置文件，以及如何在Debian上检查推荐的调优配置文件的教程。</p></div></div>    
</body>
</html>