<html>
<head>
<title>5 Steps to Create HTTPS Server with Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>用Node.js创建HTTPS服务器的5个步骤</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/create-https-server-with-node-js/#0001-01-01">https://blog.eldernode.com/create-https-server-with-node-js/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/dd243afeb4681a80ac53b6738ad224f9.png" data-src="https://blog.eldernode.com/wp-content/uploads/2022/11/5-Steps-to-Create-HTTPS-Server-with-Node-1.webp" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="5 Steps to Create HTTPS Server with Node" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/11/5-Steps-to-Create-HTTPS-Server-with-Node-1.webp 2069w, https://blog.eldernode.com/wp-content/uploads/2022/11/5-Steps-to-Create-HTTPS-Server-with-Node-1-300x164.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/11/5-Steps-to-Create-HTTPS-Server-with-Node-1-1024x561.webp 1024w, https://blog.eldernode.com/wp-content/uploads/2022/11/5-Steps-to-Create-HTTPS-Server-with-Node-1-768x421.webp 768w, https://blog.eldernode.com/wp-content/uploads/2022/11/5-Steps-to-Create-HTTPS-Server-with-Node-1-1536x842.webp 1536w, https://blog.eldernode.com/wp-content/uploads/2022/11/5-Steps-to-Create-HTTPS-Server-with-Node-1-2048x1122.webp 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/11/5-Steps-to-Create-HTTPS-Server-with-Node-1.webp"/><p>如果您要移动任何数据，您应该确保数据和信息是安全的。当数据在服务器和用户之间传输时，保护数据的最有效方法之一是启用HTTPS，也称为SSL证书。每个网站和博客都需要HTTPS。现在是时候用Node.js创建一个HTTPS服务器了。这篇文章将教你用Node.js创建一个HTTPS服务器的5个步骤。如果你想买一个<a href="https://eldernode.com/vps/"> VPS </a>服务器，查看<a href="https://eldernode.com/"> Eldernode </a>网站上提供的软件包。</p><h2><span class="ez-toc-section" id="How_to_Create_HTTPS_Server_with_Nodejs"/> <strong>如何用Node.js创建HTTPS服务器</strong> <span class="ez-toc-section-end"/></h2><p>HTTP是一种用于网络间顺畅通信的协议，但它没有加密。HTTPS代表超文本传输协议安全，是HTTP的加密版本；这被认为是用于通过万维网传输数据的主要协议。它在浏览器和服务器之间的传输过程中对数据进行加密，并且是一种受保护的连接，您可以使用它来连接到重要和敏感的站点。</p><h3><span class="ez-toc-section" id="1-_Generating_a_Self-Signed_Certificate"/> <strong> 1-生成自签名证书</strong> <span class="ez-toc-section-end"/></h3><p>有两种类型的证书，即由<strong>认证机构</strong>签名的证书和<strong>自签名的证书</strong>。SSL证书的可信来源是证书颁发机构。如果你使用它，用户会信任你网站的身份。如果您在生产环境中使用CA签名的证书，自签名证书就可以了。</p><p>首先，打开您的终端，使用下面的命令生成一个签名证书:</p><pre><code class="language-bash">openssl genrsa -out key.pem  </code></pre><pre><code class="language-bash">openssl req -new -key key.pem -out csr.pem  </code></pre><pre><code class="language-bash">openssl x509 -req -days 9999 -in csr.pem -signkey key.pem -out cert.pem  </code></pre><pre><code class="language-bash">rm csr.pem</code></pre><p>现在，您将得到一些选项来填充，除了常用名称和电子邮件地址这两个选项，您可以通过输入“.”将其余选项保留为默认值。</p><p>它将创建两个文件，它们是:</p><p><strong>–&gt;cert . PEM</strong>:自签名证书文件</p><p><strong>–&gt;key . PEM:</strong>证书的私钥</p><p>您应该将这些文件放在与您的<a href="https://blog.eldernode.com/install-node-js-on-windows/"> Node.js </a>服务器文件相同的目录中。</p><h3><span class="ez-toc-section" id="2-_Creating_a_Form_to_Send_a_Message_to_the_Server"/> <strong> 2-创建表单向服务器发送消息</strong> <span class="ez-toc-section-end"/></h3><p>在这一步中，编写index.html文件。您可以通过创建表单，通过POST请求向服务器发送消息:</p><pre><code class="language-bash">&lt;!DOCTYPE html&gt;  &lt;html lang="en"&gt;    &lt;head&gt;      &lt;meta charset="UTF-8"&gt;      &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;      &lt;meta name="viewport" content          ="width=device-width, initial-scale=1.0"&gt;      &lt;title&gt;HTTPS Server&lt;/title&gt;  &lt;/head&gt;    &lt;body&gt;      &lt;h1&gt;Welcome to HTTPS Server&lt;/h1&gt;      &lt;br&gt;&lt;br&gt;      &lt;h3&gt;Enter your message&lt;/h3&gt;        &lt;!-- sending post request to "mssg" with           the message from the textarea --&gt;      &lt;form action="mssg" method="post"&gt;          &lt;textarea name="message" id=""               cols="30" rows="10"&gt;&lt;/textarea&gt;          &lt;button type="submit"&gt;Send&lt;/button&gt;      &lt;/form&gt;  &lt;/body&gt;    &lt;/html&gt;</code></pre><h3><span class="ez-toc-section" id="3-_Creating_an_appjs_File"/> <strong> 3-创建app.js文件</strong> <span class="ez-toc-section-end"/></h3><p>现在使用下面的命令初始化项目:</p><pre><code class="language-bash">npm init</code></pre><p><strong>安装Express </strong>，通过运行以下命令来处理服务器请求:</p><pre><code class="language-bash">npm install express</code></pre><p>然后<strong>安装body-parser </strong>,通过输入下面的命令从POST请求中的表单获取输入:</p><pre><code class="language-bash">npm install body-parser</code></pre><h3><span class="ez-toc-section" id="4-_Setting_Up_hello_world_Example"/> <strong> 4-设置hello world示例</strong> <span class="ez-toc-section-end"/></h3><p>您应该设置一个hello world示例，如下所示。请记住，HTTPS和HTTP的最大区别在于选项参数:</p><pre><code class="language-bash">const https = require('https');  const fs = require('fs');    const options = {    key: fs.readFileSync('key.pem'),    cert: fs.readFileSync('cert.pem')  };    https.createServer(options, function (req, res) {    res.writeHead(200);    res.end("hello world\n");  }).listen(8000);</code></pre><h3><span class="ez-toc-section" id="5-_Starting_the_HTTPS_server_with_Nodejs"/> <strong> 5-用Node.js </strong> <span class="ez-toc-section-end"/>启动HTTPS服务器</h3><p>您可以使用以下命令启动HTTPS服务器:</p><pre><code class="language-bash">node app.js</code></pre><p>打开浏览器，转到运行服务器地址:</p><pre><code class="language-bash">curl -k https://localhost:8000</code></pre><p>您应该会看到一个与HTTPS一起运行的网页:</p><p> </p><p><img data-lazyloaded="1" src="../Images/27b7c80f06fad3ddbefb18238a1438f9.png" decoding="async" loading="lazy" class="aligncenter wp-image-40779 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/11/Web-page-view.webp" alt="Web-page-view" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/11/Web-page-view.webp 454w, https://blog.eldernode.com/wp-content/uploads/2022/11/Web-page-view-300x237.webp 300w" data-sizes="(max-width: 454px) 100vw, 454px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/11/Web-page-view.webp"/></p><p>就是这样！</p><p><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></p><h2>在这篇文章中，我们解释了用Node.js创建HTTPS服务器的5个步骤。我希望这篇教程能帮助你用Node.js创建HTTPS服务器。如果你有任何疑问或问题，可以在评论区联系我们。</h2><p>In this article, we explained 5 steps to create an HTTPS Server with Node.js. I hope this tutorial helps you to create an HTTPS server with Node.js. If you have any questions or problems, you can contact us in the Comments section.</p></div></div>    
</body>
</html>