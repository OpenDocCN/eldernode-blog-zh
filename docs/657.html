<html>
<head>
<title>How To Install ApisCP Control Panel On Centos 7 - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在Centos 7 - Eldernode博客上安装ApisCP控制面板</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/install-apiscp-control-panel-on-centos/#0001-01-01">https://blog.eldernode.com/install-apiscp-control-panel-on-centos/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/62b9cb492d1eee4aba80046b617be452.png" data-src="https://blog.eldernode.com/wp-content/uploads/2021/03/How-To-Install-ApisCP-Control-Panel-On-Centos-7.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="How To Install ApisCP Control Panel On Centos 7" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/03/How-To-Install-ApisCP-Control-Panel-On-Centos-7.png 2069w, https://blog.eldernode.com/wp-content/uploads/2021/03/How-To-Install-ApisCP-Control-Panel-On-Centos-7-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/03/How-To-Install-ApisCP-Control-Panel-On-Centos-7-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2021/03/How-To-Install-ApisCP-Control-Panel-On-Centos-7-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2021/03/How-To-Install-ApisCP-Control-Panel-On-Centos-7-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2021/03/How-To-Install-ApisCP-Control-Panel-On-Centos-7-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/03/How-To-Install-ApisCP-Control-Panel-On-Centos-7.png"/><p>ApisCP是一个开源的100%自托管的托管面板和平台，始于2002年，当时是Apis Networks的面板。ApisCP无代理运行，无需许可证。它能够在安装时进行优化配置，您将面临一个简单的设计。ApisCP支持各种即插即用的DNS集成。此外，自适应防火墙、巨大的API和有限的资源是它受欢迎的一些特征和原因。由于资源许可，单个ApisCP服务器可以管理站点。ApisCP已经为WordPress、Discourse、Ghost、Drupal和Laravel提供了一键式安装和自动更新。在本文中，您将学习如何在Centos 7 上安装ApisCP控制面板。购买您自己的<strong> <a href="https://eldernode.com/centos-vps/" target="_blank" rel="noopener"> CentOS VPS </a> </strong>，同时从<a href="https://eldernode.com/"> Eldernode </a>获得支持、高质量和最优惠的价格。</p><p>为了让本教程更好地发挥作用，请考虑以下<strong>先决条件</strong>:</p><p>_拥有Sudo权限的非root用户。</p><p>_ 1个CPU、2 GB内存和20 GB存储空间。</p><p>_ RHEL/ <a href="https://blog.eldernode.com/tag/centos/">厘斯</a> 7.4或更高。</p><h2><span class="ez-toc-section" id="Tutorial_Install_ApisCP_Control_Panel_On_Centos_7"/> <strong>教程在Centos 7上安装ApisCP控制面板</strong> <span class="ez-toc-section-end"/></h2><p>公平地说，ApisCP是为所有高速组件构建的，因为ApicCP的后端每秒可以处理超过13，000条特权命令。它被称为现代<a href="https://blog.eldernode.com/what-is-hosting-a-website-mean/" target="_blank" rel="noopener">主机</a>的新标准。加入我们这篇文章来回顾一下CentOS 7 上<strong> ApisCP的安装。</strong></p><h2><span class="ez-toc-section" id="How_To_Install_ApisCP_On_CentOS_7_Centos_8"/> <strong>如何在CentOS 7 | Centos 8 </strong> <span class="ez-toc-section-end"/>上安装ApisCP</h2><p>你可能知道自举。一种自启动过程，它应该在没有外部输入的情况下继续进行。您可以使用Bootstrapper充当幂等工具来更新和更正您的服务器。当您使用Bootstrapper时，您可以确保它将有助于您在丢失数据时使服务器正常工作，因为它旨在提供最小的强制更改集。在安装期间和完整性检查期间执行引导，每月运行一次。首先，运行<strong>存根脚本</strong>。您可以使用下面的命令将ApisCP与30天的许可证一起使用。</p><pre><code class="language-bash">curl https://raw.githubusercontent.com/apisnetworks/apnscp-bootstrapper/master/bootstrap.sh | bash</code></pre><p>但是，如果您购买了许可证，它将在安装时通过提供令牌来提供:</p><pre><code class="language-bash">curl https://raw.githubusercontent.com/apisnetworks/apnscp-bootstrapper/master/bootstrap.sh | bash -s - &lt;api token&gt;</code></pre><p>根据功能和提供商容量，引导将需要30到120分钟。如果需要30分钟左右，则表明是高性能的硬件提供商。但是，性能会随着客户端密度的变化而变化。</p><p>在引导实用程序开始阶段2(平台供应)之前，您将有最后一次机会自定义安装。此外，您可以在可选步骤中立即配置SSL。这些值可以在以后用<em>范围更改:在面板中设置</em>。</p><p><em> <strong>注意</strong> </em>:安装后所有设置可能会改变，但不适用于MariaDB和PostgreSQL。</p><h3><span class="ez-toc-section" id="Platform_provisioning_to_install_ApisCP"/> <strong>平台配置安装ApisCP </strong> <span class="ez-toc-section-end"/></h3><p>让我们继续第二阶段。在本节中，您将面临一次或多次重启。但是ApisCP会在重启时自动恢复安装。</p><p> </p><p><img data-lazyloaded="1" src="../Images/19e21dbcd7698ecc6739b75e5d37607d.png" decoding="async" loading="lazy" class="size-large wp-image-26434 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_6823-1024x715.jpg" alt="Installation ApisCP On CentOS" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_6823-1024x715.jpg 1024w, https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_6823-300x209.jpg 300w, https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_6823-768x536.jpg 768w, https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_6823.jpg 1229w" data-sizes="(max-width: 1024px) 100vw, 1024px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_6823-1024x715.jpg"/></p><p> </p><p>您可以使用下面的命令进行操作:</p><pre><code class="language-bash">tail -f /root/apnscp-bootstrapper.log</code></pre><p>当引导程序记录类似的行时，安装完成。</p><pre><code class="language-bash">2021-01-16 03:46:28,096 p=1108 u=root n=ansible | PLAY RECAP *********************************************************************</code></pre><pre><code class="language-bash">2021-01-16 03:46:28,096 p=1108 u=root n=ansible | localhost : ok=1815 changed=722 unreachable=0 failed=0 skipped=553 rescued=1 ignored=15</code></pre><p>要确保全部设置，请检查查看失败=0。安装后，使用正确的ApisCP环境加载新的shell。</p><pre><code class="language-bash">exec $SHELL -i</code></pre><h3><span class="ez-toc-section" id="What_to_do_after_installing_ApisCP_on_CentOS"/> <strong>在CentOS </strong> <span class="ez-toc-section-end"/>上安装ApisCP后做什么</h3><p>安装ApisCP后，具有正确限定的FQDN的域将收到通知。如果没有，管理员用户名/密码/联系人可以在任何时候使用ApisCP的API助手重新配置。</p><pre><code class="language-bash">cpcmd auth:change-username 'NEWUSER'</code></pre><pre><code class="language-bash">cpcmd auth:change-password 'NEWPASSWORD'</code></pre><pre><code class="language-bash">cpcmd common:set-email '<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="8ec0cbd9cecbc3cfc7c2a0cdc1c3">[email protected]</a>'</code></pre><p>将所有3项设置为允许您登录新面板。以管理员身份登录时，将域字段留空。</p><h2><span class="ez-toc-section" id="How_to_Use_ApisCP_on_CentOS_7"/> <strong>如何在CentOS 7上使用API scp</strong><span class="ez-toc-section-end"/></h2><p>到目前为止，您已经成功完成了上述步骤。请加入我们的后续步骤，教您如何在CentOS上使用ApisCP。</p><h3><span class="ez-toc-section" id="How_to_add_your_first_domain_within_ApisCP"/> <strong>如何在ApisCP </strong> <span class="ez-toc-section-end"/>内添加自己的第一个域名</h3><p>当您以管理员身份登录面板时，您将访问<strong> Nexus </strong>。服务可以在Nexus中或从命令行重新配置。</p><p> </p><p><img data-lazyloaded="1" src="../Images/65fa154c6f8d7e94e3bd7a30a4d50a3a.png" decoding="async" loading="lazy" class="size-full wp-image-26459 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_68451.jpg" alt="ApisCP Dashboard" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_68451.jpg 712w, https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_68451-300x177.jpg 300w" data-sizes="(max-width: 712px) 100vw, 712px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_68451.jpg"/></p><p> </p><p><em> AddDomain </em>从<strong>命令行</strong>创建一个站点。可以提供多个参数来改变分配给帐户的服务。管理面板中的nexus是该实用程序的前端。<strong> <em> admin_add_site </em> </strong>是这个命令行实用程序的后端API调用。</p><pre><code class="language-bash">AddDomain -c siteinfo,domain=mydomain.com -c siteinfo,admin_user=myadmin</code></pre><h3><span class="ez-toc-section" id="How_to_Edit_Domains_within_ApisCP"/> <strong>如何在ApisCP </strong>内编辑域名<span class="ez-toc-section-end"/></h3><p>点击Nexus中的<strong> <em>选择</em> </strong>按钮，可以编辑域名。您将使用EditDomain来更改帐户状态，而不删除它。此外，还可以切换服务，并以非破坏性的方式就地进行更改。</p><p><strong>重命名域</strong>一个简单而常见的情况是更改帐户的主域。只需更改siteinfo服务下的domain属性就可以实现这一点。</p><pre><code class="language-bash">EditDomain -c siteinfo,domain=newdomain.com mydomain.com</code></pre><p>此外，您可以更改密码来执行另一个常见操作。</p><pre><code class="language-bash">EditDomain -c auth,tpasswd=newpasswd site12</code></pre><h3><span class="ez-toc-section" id="How_to_Log_into_services_in_ApisCP"/> <strong>如何登录ApisCP中的服务</strong> <span class="ez-toc-section-end"/></h3><p>为了登录所有服务，ApisCP使用<strong> <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="d2a7a1b7a0bcb3bfb792b6bdbfb3bbbc">【电子邮件保护】</a> </strong>符号。这样，您可以在多个域中共享相同的用户名，而不会发生冲突。唯一的限制是主帐户用户名必须唯一。但是如果需要登录控制面板或者远程访问<a href="https://blog.eldernode.com/install-mysql-on-linux-ubuntu-20-04/"> MySQL </a>使用<b> @ </b>或者<b> # </b>加入用户名+域名，域名是必填项。</p><p><b>举例</b>:</p><p>当在eldernode.com上以用户Marilyn的身份登录ssh时，所有这些都是SSH的可接受变体:</p><pre><code class="language-bash">ssh -l <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="5914382b30352037193c353d3c2b37363d3c773a3634">[email protected]</a> eldernode.com</code></pre><pre><code class="language-bash">ssh <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="de93bfacb7b2a7b09ebbb2babbacb0b1babbf0bdb1b3">[email protected]</a>@eldernode.com</code></pre><pre><code class="language-bash">ssh -l <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="773a16051e1b0e1937121b131205191813125914181a">[email protected]</a> eldernode.com</code></pre><pre><code class="language-bash">ssh <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f7ba96859e9b8e99b7929b93928599989392d994989a">[email protected]</a>@eldernode.com</code></pre><p>为了更简单，一个名为<strong> <em>的文件在<strong> <em> ~/中配置</em> </strong>。ssh </em> </strong>可以使用下面的代码行创建。</p><pre><code class="language-bash">Host bar</code></pre><pre><code class="language-bash">        HostName eldernode.com</code></pre><pre><code class="language-bash">        User <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="226f43504b4e5b4c62474e4647504c4d46470c414d4f">[email protected]</a></code></pre><p>因此，<em> ssh吧</em>会使用登录名“Marilyn#eldernode.com”登录“eldernode.com”。考虑FTP的用户名myadmin +域mydomain.com。以下配置将允许使用显式SSL访问FTP服务器。(FTPES)。</p><p><em> <b>注意</b> </em>:如果账户启用了SSH，则支持SFTP</p><p> </p><p><img data-lazyloaded="1" src="../Images/76063780443150f453152206f18fb53f.png" decoding="async" loading="lazy" class="size-full wp-image-26460 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_68471.jpg" alt="Log into services in ApisCP" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_68471.jpg 529w, https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_68471-300x212.jpg 300w" data-sizes="(max-width: 529px) 100vw, 529px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_68471.jpg"/></p><p> </p><p>如果失败，引导程序将继续重试。它还在每次尝试之前从ApisCP的存储库中下载更新的代码。如果您希望停止自动重试，您可以禁用<strong> <em>引导恢复</em> </strong>服务。</p><pre><code class="language-bash">systemctl disable bootstrapper-resume</code></pre><pre><code class="language-bash">cd /usr/local/apnscp/resources/playbooks</code></pre><pre><code class="language-bash">ansible-playbook bootstrap.yml</code></pre><h3><span class="ez-toc-section" id="How_to_update_ApisCP_on_CentOS"/>如何在CentOS上更新API scp<span class="ez-toc-section-end"/></h3><p>您可以将ApisCP配置为自动和手动更新。ApisCP每天晚上使用以下命令进行自我更新:</p><pre><code class="language-bash">cpcmd scope:set cp.nightly-updates 1</code></pre><p>同样，ApisCP可以用<em> upcp手动更新。</em>如果自上次更新以来资源/行动手册发生了变化，则可以使用upcp -b或upcp -a无条件运行行动手册。</p><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>在本文中，您了解了如何在Centos 7上安装ApisCP控制面板。ApisCP使用由ApisCP直接管理的各种服务，只需很少的配置。如果你有兴趣了解更多，请找到我们关于2021年【Linux服务器的<a href="https://blog.eldernode.com/free-control-panel-hosting-for-linux/" target="_blank" rel="noopener"> 4免费控制面板托管的相关文章。</a></p></div></div>    
</body>
</html>