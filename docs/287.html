<html>
<head>
<title>Tutorial WordPress installation with Nginx in Ubuntu 20.04 - Eldernode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>在Ubuntu 20.04中使用Nginx安装WordPress教程- Eldernode</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/wordpress-installation-nginx-ubuntu20/#0001-01-01">https://blog.eldernode.com/wordpress-installation-nginx-ubuntu20/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/109785d6af9469aa0bb511fbf81c3bca.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/07/Tutorial-WordPress-installation-with-Nginx-in-Ubuntu-20.04.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Tutorial WordPress installation with Nginx in Ubuntu 20.04" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/07/Tutorial-WordPress-installation-with-Nginx-in-Ubuntu-20.04.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/07/Tutorial-WordPress-installation-with-Nginx-in-Ubuntu-20.04-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/07/Tutorial-WordPress-installation-with-Nginx-in-Ubuntu-20.04-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/07/Tutorial-WordPress-installation-with-Nginx-in-Ubuntu-20.04-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/07/Tutorial-WordPress-installation-with-Nginx-in-Ubuntu-20.04-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/07/Tutorial-WordPress-installation-with-Nginx-in-Ubuntu-20.04-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/07/Tutorial-WordPress-installation-with-Nginx-in-Ubuntu-20.04.png"/><p>最近你在Ubuntu  20.04上了解了<a href="https://eldernode.com/install-nginx-on-ubuntu-20-04-lts/" target="_blank" rel="noopener noreferrer"> Nginx。关注我们的<strong>教程，在Ubuntu 20.04 </strong>中用Nginx安装WordPress。由于<strong> WordPress </strong>平台是一个开源的内容管理系统，在本文中我们将让你更加熟悉这个广泛使用的软件，使用它强大的功能、漂亮的设计，最重要的是，它可以自由地创建你想要的任何东西。</a></p><p/><p/><h2><span class="ez-toc-section" id="Tutorial_WordPress_installation_with_Nginx_in_Ubuntu_2004"/> <span>教程Ubuntu 20.04中用Nginx安装WordPress</span><span class="ez-toc-section-end"/></h2><div><p>要安装WordPress，你必须在你的Ubuntu 20.04服务器上安装LEMP堆栈。</p><p/></div><p/><h3><span class="ez-toc-section" id="Installing_WordPress_in_Ubuntu_2004"/> <span>在Ubuntu 20.04中安装WordPress</span>T3】</h3><div><span><strong>1-</strong></span><p>当您的服务器上有一个LEMP堆栈时，您需要使用</p><a href="https://linuxize.com/post/wget-command-examples/" target="_blank" rel="noopener noreferrer"><span> wget</span> command</a><p>从WordPress的官方网站下载并设置它。</p></div><div><p>http://wordpress.org/latest.tar.gz</p><p><strong>同样，参见</strong></p><p><span> <strong> 3- </strong> </span>此时，将<span> WordPress </span>文件夹中的内容复制到你网站的文件夹中(如<span>mysite.com</span>)，该文件夹应存储在web服务器的web文档根目录下(<span> /var/www/html/ </span>)。</p></div><p><span> <strong>请注意</strong> </span>:使用<strong> cp命令</strong>时，<span>mysite.com</span>目录不一定要存在，会自动创建。</p><p/><div><span><strong>2- </strong><span>When you passed the previous step, extract the archived file using the <a href="https://eldernode.com/using-tar-command-on-linux/" target="_blank" rel="noopener noreferrer">tar command</a>.</span></span></div><p><span> <strong> 4- </strong> <span>作为webserver用户和组</span> </span> <span> www-data </span> <span> <span>应该拥有它的读、写、执行权限，在网站目录</span></span><span>/var/www/html/my site . com上设置正确的权限</span></p><p/><p/><p><span class="ez-toc-section" id="Creating_a_WordPress_Database_for_Website"/> <span>为网站</span>创建WordPress数据库<span class="ez-toc-section-end"/></p><p><span><span><strong>5-</strong></span>T5】现在，WordPress需要一个数据库来进行网站数据存储。要提供它，为您的站点创建一个，使用</span> MySQL <span>命令登录到<strong> MariaDB </strong> shell，使用</span> -u <span>选项提供用户名和</span> -p <span>作为密码，如果您作为根数据库用户</span> 访问，也可以使用<strong> sudo </strong></p><div><pre><code class="language-bash">ls -l  sudo cp -R wordpress/ /var/www/html/mysite.com  ls -l /var/www/html/mysite.com/    <img data-lazyloaded="1" src="../Images/ca4cb0e94031853e0613b4825fd67535.png" decoding="async" loading="lazy" class="aligncenter wp-image-8986 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/07/copy-wordpress-file-into-web-document-root.jpg" alt="" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/07/copy-wordpress-file-into-web-document-root.jpg 679w, https://blog.eldernode.com/wp-content/uploads/2020/07/copy-wordpress-file-into-web-document-root-300x226.jpg 300w" data-sizes="(max-width: 679px) 100vw, 679px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/07/copy-wordpress-file-into-web-document-root.jpg"/></code></pre></div><p/><p><span><strong>4- </strong><span>As the webserver user and group </span></span><span>www-data</span><span><span> should own it with reading, write, and execute permissions, set correct permissions on the website directory</span></span><span> /var/www/html/mysite.com.</span></p><div><pre><code class="language-bash">sudo chown -R www-data:www-data /var/www/html/mysite.com  sudo chmod -R 775 /var/www/html/mysite.com</code></pre></div><p><span> <span> <strong> 6- </strong> <span>要创建你网站的数据库，在你访问数据库shell时使用以下命令。D </span> </span> </span>数据库用户和密码。</p><p/><h3><strong> <span> 7- </span> </strong>为你的新WordPress安装创建一个【wp-config.php】<span>文件。在这里，您将定义数据库连接和一些其他参数。然后，进入网站的文档根目录</span> /var/www/html/mysite.com <span>并从默认提供的示例文件创建一个</span>wp-config.php<span>文件。</span>T11】</h3><p><strong>同样，参见</strong></p><div><pre><code class="language-bash">sudo mysql -u root -p   OR  sudo mysql -u root		#this also works for root database user  </code></pre></div><p><strong> <span> 8- </span> </strong> <span>创建后打开</span><span/><span>文件a </span>。</p><p>现在，你需要你的WordPress站点连接到你为它创建的数据库。因此，请修改数据库连接设置。</p><p><span><span><strong>6-</strong><span> To create your website’s database, use the following commands when you accessed the database shell. D</span></span></span>atabase user and a password.</p><div><pre><code class="language-bash">MariaDB [(none)]&gt; CREATE DATABASE mysite;  MariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON <strong>mysite</strong>.* TO '<strong>mysiteadmin</strong>'@'localhost' IDENTIFIED BY  '<strong><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="1b487e786e697e4b5b6868537e697e">[email protected]</a>!</strong>';  MariaDB [(none)]&gt; FLUSH PRIVILEGES;  MariaDB [(none)]&gt; EXIT;</code></pre></div><p/><p><span class="ez-toc-section" id="Creating_an_NGINX_Virtual_Server_Block_VirtualHost_for_WordPress_Website"/> <span>为WordPress网站</span> <span class="ez-toc-section-end"/>创建一个NGINX虚拟服务器块(VirtualHost)</p><div><pre><code class="language-bash">cd /var/www/html/mysite.com  sudo mv wp-config-sample.php wp-config.php</code></pre></div><p><span> <strong> 9- </strong> <span>此时，要在<strong> NGINX </strong>配置中为你的站点配置一个虚拟服务器块，让<strong> NGINX </strong>使用你的域名为客户提供你的网站服务。所以，在<strong> /etc/nginx/conf.d/ </strong>目录下创建一个名为</span></span><span>my site . com . conf</span><span><span>的文件。</span> </span></p><p>因此，将以下配置复制并粘贴到文件中。不要忘记</p><p>用你的域名替换<span>mysite.com</span>和<span>www.mysite.com</span>。</p><p><strong><span>8- </span></strong> <span>Open the </span><span>wp-config.php</span><span> file a</span>fter creating.</p><div><p><strong>Now,</strong> you need your WordPress site to connect to the database you created for it. So, modify the database connection settings.</p></div><p/><p><strong>除了上述配置的</strong>:</p><h3>根据<strong>/etc/PHP/7.4/fpm/pool . d/www . conf</strong>池配置文件中<span> listen </span>参数的值的定义，<span> fastcgi_pass </span>参数的值应该指向<strong> PHP-FPM </strong>正在监听的套接字。默认是一个UNIX套接字<strong> /run/php/php7.4-fpm.sock </strong>。</h3><p><span><strong>9- </strong><span>At this point, to configure a virtual server block for your site in the <strong>NGINX</strong> configuration, for <strong>NGINX</strong> to serve your website to clients using your domain name. So, Create a file called </span></span><span>mysite.com.conf</span><span><span> under the <strong>/etc/nginx/conf.d/</strong> directory.</span></span></p><div><pre><code class="language-bash">sudo vim /etc/nginx/conf.d/mysite.com.conf</code></pre></div><div><p>Therefore, copy and paste the following configuration in the file. Do not forget to</p><p><span> <strong> 10- </strong> </span> <span>你应该考虑到NGINX通常会将所有请求路由到默认服务器，所以为了使你的新站点和你打算在同一服务器上建立的其他站点能够很好地加载，请删除<strong>默认</strong>服务器块文件。</span></p><p/></div><div><pre><code class="language-bash">server {          listen 80;          listen [::]:80;          root /var/www/html/<strong>mysite.com</strong>;          index  index.php index.html index.htm;          server_name <strong>mysite.com www.mysite.com</strong>;            error_log /var/log/nginx/mysite.com_error.log;          access_log /var/log/nginx/mysite.com_access.log;                    client_max_body_size 100M;          location / {                  try_files $uri $uri/ /index.php?$args;          }          location ~ \.php$ {                  include snippets/fastcgi-php.conf;                  fastcgi_pass unix:/run/php/php7.4-fpm.sock;                  fastcgi_param   SCRIPT_FILENAME $document_root$fastcgi_script_name;          }  }</code></pre></div><p><strong> <span> 11- </span> </strong> <span>在重启Nginx服务以应用上述更改之前，请检查<strong> NGINX </strong>配置语法是否有任何错误</span></p><p/><div><p><strong>In addition</strong> to the above configuration:</p><p><span class="ez-toc-section" id="Completing_the_WordPress_Installation_via_the_Web_Installer"/> <span>通过网络安装程序完成WordPress的安装</span> <span class="ez-toc-section-end"/></p><p><span> <strong> 12- </strong> </span>打开网页浏览器，用你的域名导航。使用web安装程序完成WordPress的安装。</p></div><p>为安装过程选择您喜欢的<strong>语言</strong>，并在web安装程序加载后点击<strong>继续</strong>。</p><p><span><strong>10-</strong></span> <span>You should consider that NGINX normally routes all requests to the default server, so to enable your new site and other sites you intend to set up on the same server to load well, remove the <strong>default</strong> server block file.</span></p><div><pre><code class="language-bash">sudo rm /etc/nginx/sites-enabled/default  sudo rm /etc/nginx/sites-available/default</code></pre></div><p/><p><strong> <span> 13- </span> </strong>如下图所示，是时候填写你的新网站所需的信息了。然后点击安装WordPress。请注意，您随时可以在以后编辑这些信息。</p><div><pre><code class="language-bash">sudo nginx -t  sudo systemctl restart nginx    </code></pre></div><p/><p/><h3><span class="ez-toc-section" id="Completing_the_WordPress_Installation_via_the_Web_Installer"/><span>Completing the WordPress Installation via the Web Installer</span><span class="ez-toc-section-end"/></h3><p>成功安装WordPress后，<span> <strong> 14- </strong> </span>点击登录按钮进入网站管理员的仪表板。</p><div><pre><code class="language-bash">http://mysite.com/  OR  http://SERVER_IP/</code></pre></div><p>Choose the <strong>language</strong> you prefer for the installation process and click <strong>Continue </strong>after the web installer loads.</p><p/><p><span> <strong> 15- </strong> </span>要访问您网站的管理仪表板，请在网站管理员的登录页面提供您在上面创建的用户名和密码，然后单击登录。</p><p><strong><span>13-</span></strong> As you see below, it is time to fill in the required information about your new website. Then click Install WordPress. Note that you can always edit this information later on.</p><p/><p/><p>就是这样！您已经在<strong> Ubuntu 20.04 </strong>中成功安装了最新版本的<strong> WordPress </strong>和<strong> NGINX </strong>，开始构建您的新网站或博客。</p><p><span><strong>14-</strong></span> Proceed to access the website administrator’s dashboard by clicking on the login button, after WordPress is successfully installed.</p><p/><p>亲爱的用户，我们希望这篇教程能对你有所帮助，如果你有任何问题或想查看我们的用户关于这篇文章的对话，请访问<a href="https://eldernode.com/ask">提问页面</a>。也为了提高你的知识，有这么多有用的教程为<a href="https://eldernode.com/blog/">老年节点培训</a>准备。</p><p><span><strong>15-</strong></span> To access your site’s admin dashboard, at the website admin’s login page, provide your username and password created above and click login.</p><p/><p/><p/><p>That’s it! You have successfully installed the latest version of <strong>WordPress</strong> with <strong>NGINX</strong> in <strong>Ubuntu 20.04</strong>, to start building your new website or blog.</p><p/><p/><div><p>Dear user, we wish this tutorial would be helpful for you, to ask any question or review the conversation of our users about this article, please visit <a href="https://eldernode.com/ask">Ask page</a>. Also to improve your knowledge, there are so many useful tutorials ready for <a href="https://eldernode.com/blog/">Eldernode training</a>.</p></div><p/><p/></div></div>    
</body>
</html>