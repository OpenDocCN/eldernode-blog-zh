<html>
<head>
<title>How To Install LDAP Client On Ubuntu 20.04 - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在Ubuntu 20.04 - Eldernode博客上安装LDAP客户端</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/install-ldap-client-on-ubuntu-20-04/#0001-01-01">https://blog.eldernode.com/install-ldap-client-on-ubuntu-20-04/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/8fa3b9448de0d4401a32e946c1a106ce.png" data-src="https://blog.eldernode.com/wp-content/uploads/2021/01/How-To-Install-LDAP-Client-On-Ubuntu-20.04.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="How To Install LDAP Client On Ubuntu 20.04" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/01/How-To-Install-LDAP-Client-On-Ubuntu-20.04.png 2069w, https://blog.eldernode.com/wp-content/uploads/2021/01/How-To-Install-LDAP-Client-On-Ubuntu-20.04-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/01/How-To-Install-LDAP-Client-On-Ubuntu-20.04-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2021/01/How-To-Install-LDAP-Client-On-Ubuntu-20.04-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2021/01/How-To-Install-LDAP-Client-On-Ubuntu-20.04-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2021/01/How-To-Install-LDAP-Client-On-Ubuntu-20.04-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/01/How-To-Install-LDAP-Client-On-Ubuntu-20.04.png"/><p>轻型目录访问协议是为目录服务开发的核心协议。它被设计用来分发组织成目录信息树的信息列表，该目录信息树存储在LDAP数据库中。用户必须首先验证他们的身份，才能访问存储在LDAP数据库中的信息。你可能因为一个很不可爱的同学很擅长你们共同的项目而被迫容忍他！为了达成目标，你接受这种象征性的关系。此外，LDAP客户机和服务器之间有一种符号关系。事实上，服务器需要客户机向它询问诸如用户名、主目录位置、组成员等问题。客户机需要服务器向它提供信息，它将负责传递这些信息。在本文中，你将学习如何<strong>在Ubuntu 20.04 </strong>上安装LDAP客户端。如果您需要购买一台<a href="https://eldernode.com/dedicated-server/" target="_blank" rel="noopener">专用服务器</a>，我们将与您保持真正的关系，不分昼夜随时为您提供支持。安全购买自己的<a href="https://eldernode.com/ubuntu-vps/" target="_blank" rel="noopener"> Ubuntu VPS </a>。</p><p> </p><p>为了让本教程更好地发挥作用，请考虑以下<strong>先决条件</strong>:</p><p>拥有sudo权限的非root用户。</p><p>要设置，请遵循我们在Ubuntu 20.04 上的<a href="https://blog.eldernode.com/initial-server-setup-on-ubuntu-20/" target="_blank" rel="noopener">初始服务器设置。</a></p><h2><span class="ez-toc-section" id="Tutorial_Install_LDAP_Client_On_Ubuntu_2004"/> <strong>教程在Ubuntu 20.04上安装LDAP客户端</strong>T3】</h2><p>LDAP是一个开源的跨平台协议，用于目录服务认证。有许多不同的实现可用。它用于从分层目录结构中存储和检索数据。</p><h2><span class="ez-toc-section" id="Install_and_Configure_LDAP_Client_on_Ubuntu_204_Ubuntu_1804"/> <strong>在Ubuntu 20.4上安装并配置LDAP客户端| Ubuntu 18.04 </strong> <span class="ez-toc-section-end"/></h2><p>当您配置LDAP服务器并添加用户帐户时，您就可以开始安装和配置LDAP客户端了。</p><p>如果您的网络中没有活动的<a href="https://blog.eldernode.com/private-dns-server-on-ubuntu-20-04/" target="_blank" rel="noopener"> DNS服务器</a>，请将LDAP服务器地址添加到<em> /etc/hosts </em>。</p><pre><code class="language-bash">sudo vim /etc/hosts  192.168.18.50 ldap.example.com</code></pre><p>要在Ubuntu系统上安装LDAP客户端实用程序，请运行:</p><pre><code class="language-bash">sudo apt -y install libnss-ldap libpam-ldap ldap-utils</code></pre><h3><span class="ez-toc-section" id="LDAP_Client_configuration"/> <strong> LDAP客户端配置</strong> <span class="ez-toc-section-end"/></h3><p><em>第一步:</em></p><p>现在，您可以设置LDAP URL。它可以是IP地址或主机名。将提示您输入LDAP服务器的详细信息。自动安装的<strong> ldap-auth-config </strong>包将根据您输入的内容进行大部分配置。</p><p><img data-lazyloaded="1" src="../Images/006708a329a179693c5340221d5eb63b.png" decoding="async" loading="lazy" class="size-full wp-image-23378 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/01/1-2.png" alt="set LDAP URL" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/01/1-2.png 769w, https://blog.eldernode.com/wp-content/uploads/2021/01/1-2-300x110.png 300w" data-sizes="(max-width: 769px) 100vw, 769px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/01/1-2.png"/></p><p><em>第二步:</em></p><p>然后，您应该输入LDAP搜索库的名称，以便设置搜索库的可分辨名称。你可以使用他们域名的组成部分。</p><p><img data-lazyloaded="1" src="../Images/ea504fe82713ca85bdeeab9ba82f8f6d.png" decoding="async" loading="lazy" class="size-full wp-image-23379 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/01/2.png" alt="set a distinguished name of the search base" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/01/2.png 767w, https://blog.eldernode.com/wp-content/uploads/2021/01/2-300x96.png 300w" data-sizes="(max-width: 767px) 100vw, 767px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/01/2.png"/></p><p><em>第三步:</em></p><p>选择要使用的LDAP版本3并点击<strong>确定</strong>。</p><p><img data-lazyloaded="1" src="../Images/289c49ddadb1b15fceb454a70b8b04ea.png" decoding="async" loading="lazy" class="size-full wp-image-23380 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/01/3-1.png" alt="Select LDAP version" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/01/3-1.png 759w, https://blog.eldernode.com/wp-content/uploads/2021/01/3-1-300x104.png 300w" data-sizes="(max-width: 759px) 100vw, 759px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/01/3-1.png"/></p><p><em>第四步:</em></p><p>为了能够使使用Pam的密码实用程序表现得就像您被更改了本地密码一样。因此，要使<em>成为本地根数据库管理员</em>，请按<strong>是</strong>。</p><p><img data-lazyloaded="1" src="../Images/172ac3840bf2f8f60e42ab498e1f8bbb.png" decoding="async" loading="lazy" class="size-full wp-image-23381 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/01/4.png" alt="Make local root Database admin" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/01/4.png 769w, https://blog.eldernode.com/wp-content/uploads/2021/01/4-300x118.png 300w" data-sizes="(max-width: 769px) 100vw, 769px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/01/4.png"/></p><figure class="wp-block-image is-style-default"/><p>第五步:</p><p>在这一步中，您将为<em>回答<strong>否</strong>LDAP数据库需要登录吗？</em>禁用对LDAP数据库的登录要求。</p><p><img data-lazyloaded="1" src="../Images/ad6ecb94e88adafd92709fdbe501980a.png" decoding="async" loading="lazy" class="size-full wp-image-23382 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/01/55.png" alt="Does the LDAP database require login - Install LDAP Client On Ubuntu" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/01/55.png 717w, https://blog.eldernode.com/wp-content/uploads/2021/01/55-300x95.png 300w" data-sizes="(max-width: 717px) 100vw, 717px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/01/55.png"/></p><p><em>第六步:</em></p><p>您需要为root设置<strong> LDAP帐户</strong>。</p><p><img data-lazyloaded="1" src="../Images/a6124acf4bee64a144dcc489a5183772.png" decoding="async" loading="lazy" class="size-full wp-image-23383 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/01/6-1.png" alt="set the LDAP account - Install LDAP Client On Ubuntu 20.04" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/01/6-1.png 598w, https://blog.eldernode.com/wp-content/uploads/2021/01/6-1-300x113.png 300w" data-sizes="(max-width: 598px) 100vw, 598px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/01/6-1.png"/></p><p><em>第七步:</em></p><p>当<strong> ldap-auth-config </strong>试图使用root的ldap帐户登录LDAP目录时，您需要考虑一个密码。</p><p><img data-lazyloaded="1" src="../Images/911c7ef45b4ffcca280f060028c8a961.png" decoding="async" loading="lazy" class="alignnone size-full wp-image-23384" data-src="https://blog.eldernode.com/wp-content/uploads/2021/01/7-2.png" alt="Enter LDAP Root Password" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/01/7-2.png 767w, https://blog.eldernode.com/wp-content/uploads/2021/01/7-2-300x119.png 300w" data-sizes="(max-width: 767px) 100vw, 767px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/01/7-2.png"/></p><p><em>第八步:</em></p><p>您可以在文件<strong> /etc/ldap.config </strong>中找到对话框的结果。如果您需要进行一些更改，请使用您认为合适的命令行编辑器打开并编辑该文件。</p><p>现在，要为NSS配置LDAP配置文件，请键入:</p><pre><code class="language-bash">sudo auth-client-config -t nss -p lac_ldap</code></pre><p><em>第九步:</em></p><p>接下来，要通过更新<strong> PAM </strong>配置来使用LDAP进行身份验证，您必须配置系统。从菜单中选择LDAP，并使用基于LDAP的凭据登录。</p><pre><code class="language-bash">sudo pam-auth-update</code></pre><p><img data-lazyloaded="1" src="../Images/8361265e33271029d1e080eb27a9dc45.png" decoding="async" loading="lazy" class="size-full wp-image-23385 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/01/8.png" alt="Configure PAM Authentication Mechanism - Install LDAP Client On Ubuntu" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/01/8.png 768w, https://blog.eldernode.com/wp-content/uploads/2021/01/8-300x147.png 300w" data-sizes="(max-width: 768px) 100vw, 768px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/01/8.png"/></p><p><em>第十步:</em></p><p>如果您希望自动创建用户的主目录，请在公共会话PAM文件中再执行一次配置。</p><pre><code class="language-bash">sudo vim /etc/pam.d/common-session</code></pre><p>并在其中添加下面一行:</p><pre><code class="language-bash">session required pam_mkhomedir.so skel=/etc/skel umask=077</code></pre><p><em>第十一步:</em></p><p>此时，您可以保存更改并关闭文件。<strong>通过运行以下命令重新启动名称服务Cashe守护进程</strong> (NCSD):</p><pre><code class="language-bash">sudo systemctl restart nscd</code></pre><pre><code class="language-bash">sudo systemctl enable nscd</code></pre><p>在使用复制的情况下，LDAP客户端将需要引用在<strong> /etc/ldap.conf </strong>中指定的多个服务器。按照以下格式指定所有服务器:</p><pre><code class="language-bash">uri ldap://ldap1.example.com ldap://ldap2.example.com</code></pre><p>这意味着请求将超时，如果提供者变得没有响应，消费者将尝试处理它。</p><p>将<em>ldap1.example.com</em>的提供者视为<em>ldap2.example.com</em>的消费者</p><p>最后，使用下面的命令从服务器检查特定用户的LDAP条目。</p><pre><code class="language-bash">getent passwd eldernode</code></pre><p><em>就是那个</em>！一旦您从/etc/passwd文件中查看了特定用户的详细信息，这意味着您的客户机已经被<strong>配置为</strong>使用LDAP服务器进行身份验证。因此，您应该能够使用基于LDAP的凭证登录。</p><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>在本文中，您了解了如何在Ubuntu 20.04上安装LDAP客户端。使用LDAP有助于您拥有与其他目录服务服务器进行应用程序通信的通信语言。用户的信息需要与网络上的其他实体共享，目录服务存储用户、密码和计算机帐户。</p></div></div>    
</body>
</html>