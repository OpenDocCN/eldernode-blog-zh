<html>
<head>
<title>Site security training in IIS - How to Secure a Site in IIS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>IIS中的站点安全培训-如何保护IIS中的站点</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/site-security-training-in-iis/#0001-01-01">https://blog.eldernode.com/site-security-training-in-iis/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/7cc24e2d2fdfab9ad9cad69a752b6f6d.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-9.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Site security training in IIS" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-9.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-9-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-9-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-9-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-9-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-9-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-9.png"/><p>IIS中的站点安全培训。<span>互联网信息服务</span> (IIS)是微软推出的一款灵活的通用web服务器。<span> IIS </span>运行在Windows系统上，交付请求的HTML页面或文件。当调查一个<a href="https://eldernode.com/windows-vps/"> Windows VPS </a>服务器上的站点感染或损坏时，最常见的根本原因是当谈到IIS应该如何访问文件内容时，文件安全性差或配置选择差。防止这种情况的最简单方法是从一个<span>安全站点</span>开始。</p><p>在IIS 中建立一个<span>网站是非常容易的，但是当涉及到安全性或易管理性时，一些默认设置并不是最佳的。首先，一些曾经被认为是必要的实践或标准不再是必要的，或者从来都不是必要的。</span></p><p>我们建议您<span>按照这些步骤</span>到<span>建立一个网站</span>，以确保它的建立是正确和安全的。</p><h2><span class="ez-toc-section" id="Add_site_to_IIS"/>向IIS添加站点<span class="ez-toc-section-end"/></h2><p><span> <strong> 1。</strong> </span>在IIS 中添加一个<strong>网站，打开<span> IIS管理器</span>。</strong></p><p><strong> <span> 2。</span>在<span>站点</span>上右击</strong>。</p><p><span> <strong> 3。</strong>T3选择<span>添加网站</span>。</span></p><p> </p><p><img data-lazyloaded="1" src="../Images/0fc1448d90b1851d59b47c8016e7373c.png" decoding="async" loading="lazy" class="aligncenter wp-image-9921 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-1.png" alt="Site security training in IIS" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-1.png 625w, https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-1-300x251.png 300w" data-sizes="(max-width: 625px) 100vw, 625px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-1.png"/></p><p> </p><p>我们通常建议使用<strong>域名</strong>作为“<span>网站名称</span>，以便于识别。</p><p><span> <strong> 4。</strong> </span>在<span>物理路径</span>下，您需要提供您的网站内容所在的路径，或者使用“…”到<span>导航</span>到并选择文件夹。</p><p><strong> <span>注意:</span></strong>“<span>连接为</span>……”和<span>测试设置</span>……”下的配置选项不需要修改。</p><p>最好<span>将IP地址</span>设置为全部未分配，并在<span>主机名</span> <strong>字段</strong>中输入您计划托管的域名。您只能在此提供一个值。</p><p>创建站点后，可以通过在<span>站点</span>上<strong>右键单击</strong>并转到<span>绑定</span>来添加额外的主机名。</p><p>根据您的需要，您可以选择<span> HTTPS </span>而不是<span> HTTP </span>。</p><p> </p><h4><span class="ez-toc-section" id="Site_security_training_in_IIS"/>IIS中的站点安全培训<span class="ez-toc-section-end"/></h4><p> </p><h2><span class="ez-toc-section" id="How_to_Set_the_Anonymous_User"/>如何设置匿名用户<span class="ez-toc-section-end"/></h2><p>这就是在IIS中设置站点所需做的全部工作。</p><p>该网站可能工作，也可能不工作，网站上的<strong>安全设置</strong>不是最佳的。</p><p>保护你的网站的下一步是<span>配置将访问你的文件的IIS用户</span>。为此，你需要<span>更改相关的匿名用户</span>，并在<strong>网站的内容文件夹</strong>上做一些安全更改。</p><p><strong> <span> 1。</span> </strong>在<strong> IIS </strong>中，选择左侧<span>你的新站点</span>。</p><p><strong> <span> 2。</span>主窗口中的</strong>双击<span>认证</span>。</p><p><strong> <span> 3。</span>T3选择<span>匿名认证</span>。</strong></p><p><span> <strong> 4。</strong> </span>点击<strong>右侧动作栏</strong>上的<span>编辑</span> …。</p><p> </p><p><img data-lazyloaded="1" src="../Images/8786748c89b5e1ed6b3d658b7010d5fc.png" decoding="async" loading="lazy" class="aligncenter wp-image-9922 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-2.png" alt="Site security training in IIS" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-2.png 837w, https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-2-300x152.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-2-768x388.png 768w" data-sizes="(max-width: 837px) 100vw, 837px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-2.png"/></p><p> </p><h2><span class="ez-toc-section" id="What_is_IUSR_in_IIS"/>IIS中的IUSR是什么？<span class="ez-toc-section-end"/></h2><p><strong> IIS中的一个新站点利用</strong><span><a href="https://docs.microsoft.com/en-us/iis/get-started/planning-for-security/understanding-built-in-user-and-group-accounts-in-iis">IUSR</a>账户</span>来访问文件。该帐户是内置的<span>共享帐户</span>，通常由<span> IIS </span>用来访问文件内容。这意味着它将使用应用程序池的身份(用户)来访问<span>文件内容</span>。</p><p>如果您仅计划在<span>上托管一个域</span>，则可以保留此配置；然而，当涉及到托管<span>多个域名</span>时，这是不安全的，因为任何网站都有可能使用同一个帐户从另一个网站访问文件。</p><p>作为一种标准做法，我们建议<span>将</span>从使用<span> IUSR帐户</span>切换到站点，而不是选择“<span>应用程序池标识</span>并点击<span> OK </span>。</p><p>您可以在系统上为每个站点手动创建一个<span>用户</span>。您需要<span>管理额外用户的凭证</span>，需要为两个用户(匿名用户和应用程序池用户)配置权限，以及您的服务器或组织可能有的<span>密码复杂性</span>和<span>轮换要求</span>的可能复杂性。</p><p>就安全性而言，您无需在IIS中进一步配置任何东西。</p><p> </p><h4><span class="ez-toc-section" id="Site_security_training_in_IIS-2"/>IIS中的站点安全培训<span class="ez-toc-section-end"/></h4><p> </p><p>让我们快速地看一下应用程序池的设置。为了<strong>检查<span>应用池</span>上的设置</strong>，在<strong> IIS </strong>中执行以下操作:</p><p><span> <strong> 1。在左侧菜单中选择</strong> </span>选择<span>应用池</span>。</p><p><span> <strong> 2。</strong> </span>然后为您创建的(通常与站点名称相同)站点选择<strong>应用池</strong> <span>。</span></p><p><span> <strong> 3。</strong> </span>点击右边操作栏上的<span>高级设置</span>……。</p><p> </p><p><img data-lazyloaded="1" src="../Images/4edee96dc908273e326df776165d3f11.png" decoding="async" loading="lazy" class="aligncenter wp-image-9923 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-3.png" alt="Site security training in IIS" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-3.png 512w, https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-3-241x300.png 241w" data-sizes="(max-width: 512px) 100vw, 512px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-3.png"/></p><p> </p><p>在这里，相关的设置是<span>标识</span>，默认为<span>应用池标识</span>。这意味着为了访问文件内容，IIS和关联的应用程序池将使用一个隐藏的、基于应用程序池名称的动态用户来访问文件。</p><p>该用户<span>没有关联的密码</span>，只能由IIS使用，并且只能访问专门授予它的文件。</p><p>因此，它消除了管理系统用户和凭证的需求。</p><p> </p><h2><span class="ez-toc-section" id="How_to_Set_Folder_Permissions_in_IIS"/>如何在IIS中设置文件夹权限<span class="ez-toc-section-end"/></h2><p>ApplicationPoolIdentity 用户的权限很少，因此下一步也是最后一步是确保网站文件具有正确的安全设置。</p><p><strong> <span> 1。</span>浏览</strong>到<span>你的文件系统</span>，找到你计划存放<span>站点文件</span>的文件夹。</p><p><span> <strong> 2。</strong> </span> <strong>在<span>文件夹</span>上右击</strong>，进入<span>属性</span>。</p><p><span> <strong> 3。</strong> </span>在<span>属性界面</span>中，选择<span>安全</span>选项卡。</p><p> </p><p><img data-lazyloaded="1" src="../Images/bce04cc12dfa22054e508644fd7d5c16.png" decoding="async" loading="lazy" class="aligncenter wp-image-9924 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-4.png" alt="Site security training in IIS" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-4.png 424w, https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-4-222x300.png 222w" data-sizes="(max-width: 424px) 100vw, 424px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-4.png"/></p><p> </p><p>文件夹上设置了许多不必要且潜在不安全的<span>安全权限</span>。</p><p>为了更好地保护站点，我们建议删除除了<span>系统</span>和<span>管理员</span>之外的所有组，并添加<span>应用程序池身份</span>用户(以及您可能需要的任何其他用户，例如FTP用户)；但是，要做到这一点，您需要禁用继承。</p><p>为此，点击<span>高级</span>，然后点击<span>禁用继承</span>。</p><p> </p><p><img data-lazyloaded="1" src="../Images/4c0ac73f0657fa25504adba994a5aa51.png" decoding="async" loading="lazy" class="aligncenter wp-image-9925 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-5.png" alt="Site security training in IIS" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-5.png 678w, https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-5-300x205.png 300w" data-sizes="(max-width: 678px) 100vw, 678px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-5.png"/></p><p> </p><p>这里你会看到一个弹出窗口，询问你是要复制当前设置还是不做任何设置。</p><p>更容易的是<span>复制当前设置</span>，然后<span>删除</span>不必要的权限。</p><p>所以选择<span>将继承的权限转换成这个对象</span>上的显式权限，然后点击<span>确定</span>。</p><p>此时，要<span>删除</span>不必要的权限，点击<span>编辑</span>并删除除<span>系统</span>和<span>管理员</span>组之外的所有内容。</p><p>接下来，您需要将<span> ApplicationPoolIdentity </span>用户添加到这个文件夹中。为此，点击<span>添加… </span>。</p><p>现在，根据您的服务器配置，您可能会看到一个<span>弹出窗口，要求</span>让您验证到一个active directory域。</p><p>只需点击几次<span>取消</span>按钮，直到出现如下所示的选择<span>用户组</span>屏幕。</p><p> </p><p><img data-lazyloaded="1" src="../Images/e7ebd6b554576e31960fa5827d79cd1b.png" decoding="async" loading="lazy" class="aligncenter wp-image-9926 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-6.png" alt="Site security training in IIS" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-6.png 659w, https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-6-300x164.png 300w" data-sizes="(max-width: 659px) 100vw, 659px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-6.png"/></p><p> </p><p>现在，您需要确保选择的“<span>位置</span>是您的计算机。</p><p>如果不是，点击“<span>地点……</span>，选择<strong>您的电脑</strong>。</p><p> </p><p> </p><p><span> ApplicationPoolIdenti </span> ty用户是隐藏用户，因此无法搜索该用户。</p><p>您必须键入用户名才能添加它。</p><p>您需要键入的<span> <strong>用户名</strong> </span>是:</p><pre><code class="language-bash">IIS AppPool\&lt;applicationpoolname&gt;</code></pre><p>请参见 <span>后面的<span>示例</span>，并相应地填写您的示例:</span></p><p> </p><p><img data-lazyloaded="1" src="../Images/83a6fd202646443b372bf7ff902f077d.png" decoding="async" loading="lazy" class="aligncenter wp-image-9927 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-7.png" alt="Site security training in IIS" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-7.png 655w, https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-7-300x166.png 300w" data-sizes="(max-width: 655px) 100vw, 655px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-7.png"/></p><p> </p><p>键入<span>用户名</span>，点击<span>确定</span>。</p><p>现在您已经添加了用户，默认情况下，该用户仅被授予读取权限，您将希望验证您的<strong>安全设置</strong>看起来与下面的<span>图</span>相似，然后单击<span> OK </span>:</p><p> </p><p><img data-lazyloaded="1" src="../Images/ead7fe143de95acefb8fee6424f71b37.png" decoding="async" loading="lazy" class="aligncenter wp-image-9928 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-8.png" alt="Site security training in IIS" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-8.png 525w, https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-8-242x300.png 242w" data-sizes="(max-width: 525px) 100vw, 525px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/08/Site-security-training-in-IIS-8.png"/></p><p><strong>尊敬的用户</strong>，我们希望您能喜欢这个<a href="https://eldernode.com/category/tutorial/">教程</a>，您可以在评论区提出关于本次培训的问题，或者解决<a href="https://eldernode.com/blog/">老年人节点培训</a>领域的其他问题，请参考<a href="https://eldernode.com/ask">提问页面</a>部分，并尽快提出您的问题。腾出时间给其他用户和专家来回答你的问题。</p><p><span>好运</span>。</p></div></div>    
</body>
</html>