<html>
<head>
<title>Install SSH Server On Linux And Allow Root User Login</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>在Linux上安装SSH服务器，并允许Root用户登录</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/install-ssh-server-on-linux-and-allow-root-user-login/#0001-01-01">https://blog.eldernode.com/install-ssh-server-on-linux-and-allow-root-user-login/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/eed2c5244be94da8e4999645c87a3cfe.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/03/Install-SSH-Server-on-Linux-and-allow-root-user-login.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Install SSH Server on Linux and allow root user login" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/03/Install-SSH-Server-on-Linux-and-allow-root-user-login.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/03/Install-SSH-Server-on-Linux-and-allow-root-user-login-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/03/Install-SSH-Server-on-Linux-and-allow-root-user-login-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/03/Install-SSH-Server-on-Linux-and-allow-root-user-login-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/03/Install-SSH-Server-on-Linux-and-allow-root-user-login-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/03/Install-SSH-Server-on-Linux-and-allow-root-user-login-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/03/Install-SSH-Server-on-Linux-and-allow-root-user-login.png"/><p>[更新] SSH或Secure Shell是一种网络通信协议，使两台计算机能够进行通信。这是安装在Linux服务器上最简单也是最敏感的服务之一，当然，还有安全考虑。作为管理员甚至用户，该网络为您提供了一种通过不安全的网络访问计算机的安全方式。SSH用于在两台计算机之间建立安全直接的连接。此外，为了“登录”并在远程计算机上执行操作，有时为了传输数据，您需要使用SSH。本文介绍了在Linux上安装SSH服务器并允许Root用户登录。通过访问<a href="https://eldernode.com/" target="_blank" rel="noopener"> Eldernode </a>上的各种软件包来选择和订购自己的<strong><a href="https://eldernode.com/linux-vps/" target="_blank" rel="noopener">Linux VP</a></strong>。</p><h2><span class="ez-toc-section" id="Tutorial_Install_SSH_Server_On_Linux_And_Allow_Root_User_Login"/> <strong>教程在Linux上安装SSH服务器并允许Root用户登录</strong> <span class="ez-toc-section-end"/></h2><p>SSH使您能够为Linux提供加密访问的服务。SSH最初是一个Unix应用程序，也在所有的Linux发行版和macOS上实现。但是，如果安装了相关的程序，SSH也可以在Windows上使用。在下文中，您将学习更多关于SSH的知识，以及在Linux上安装SSH的方法。</p><h3><span class="ez-toc-section" id="Prerequisites_to_Install_SSH_on_Linux"/> <strong>在Linux上安装SSH的先决条件</strong> <span class="ez-toc-section-end"/></h3><p>为了让本教程更好地工作，请考虑以下先决条件:</p><p>对您的服务器的根访问权(_ u)</p><p>_终端(Linux)</p><h3><span class="ez-toc-section" id="What_is_SSH_Server_and_Why_you_need_it"/> <strong>什么是SSH服务器，为什么需要它？</strong>T3】</h3><p>安全外壳是操作系统的一部分。它提供安全的网络服务和<a href="https://blog.eldernode.com/how-to-create-strong-password/" target="_blank" rel="noopener">强密码</a>认证和<a href="https://blog.eldernode.com/configure-ssh-authentication-linux/" target="_blank" rel="noopener">公钥认证</a>，以及通过开放网络(如互联网)连接的两台计算机之间的加密数据通信。数据、命令、文本和文件可以用SSH传输。<br/>Shell是基于文本的命令行、终端或控制台。图形用户界面也称为外壳。SSH支持相同的功能，例如登录到远程系统并在其上运行终端会话。您可以使用安全的shell来代替不安全的终端仿真或登录程序，例如Telnet、remote login和remote shell。使用SSH允许您拥有一个加密的连接，并确保在指定的计算机之间是否建立了连接。</p><p>让我们回顾一下SSH和OpenSSH之间的一些区别:</p><p>1-正如你在上面读到的，OpenSSH是免费和开源的。但是SSH是一个封闭源代码的加密网络协议。</p><p>2-虽然SSH是在1995年作为SSH-1协议发布的，并试图取代TELNET、rlogin、ftp和rsh协议，但OpenSSH是在1999年发布的，不是一个协议，而是为自由软件爱好者创建的。</p><p>3-SSH使用最多的命令是<em> ssh </em>、<em> ssh-keygen </em>、<em> ssh-agent </em>、<em> ssh-keyscan </em>、<em> scp </em>、<em> sftp </em>和<em> sshd </em>。而OpenSSH使用最多的命令是<em> Ssh-keygen </em>、<em> ssh-copy-id </em>、<em> ssh-add </em>、<em> ssh-agent </em>、<em> scp </em>、<em> sftp </em>和<em> sshd </em>。</p><h2><span class="ez-toc-section" id="How_To_Install_SSH_Server_On_Linux"/> <strong>如何在Linux上安装SSH服务器</strong>T3】</h2><p>首先，您需要熟悉OpenSSH。OpenSSH是一组免费的开源计算机工具，用于通过使用SSH协议在计算机网络上提供安全和加密的通信。它最初是作为OpenBSD操作系统的一部分开发的，提供安全通信。请注意，OpenSSH不是一个协议，而是一组使用SSH协议的计算机程序。</p><p>为了在服务器上获得SSH，您需要运行OpenSSH包。OpenSSH预装在各种版本的Linux上，适用于客户端和服务器端。但是，您需要使用<a href="https://blog.eldernode.com/tag/ubuntu/" target="_blank" rel="noopener"> Ubuntu </a>作为操作系统，以便能够在Linux上安装OpenSSH并检查它是否已安装。要在<a href="https://blog.eldernode.com/tag/debian/" target="_blank" rel="noopener"> Debian </a>、Ubuntu或Linux Mint上安装OpenSSH，使用下面的命令:</p><pre><code class="language-bash">sudo apt-get install openssh-server openssh-client</code></pre><p>软件包安装完成后，运行以下命令检查服务是否正在运行:</p><pre><code class="language-bash">service sshd status</code></pre><h3><span class="ez-toc-section" id="How_to_configure_OpenSSH_On_Linux"/> <strong>如何在Linux上配置OpenSSH</strong>T3】</h3><p>要开始配置OpenSSH，您需要编辑<strong> /etc/ssh/sshd_config </strong>文件。因此，制作原始文件的副本，然后配置OpenSSH。为此，请打开一个终端并运行下面的命令来制作原始sshd配置文件的副本:</p><pre><code class="language-bash">sudo cp /etc/ssh/sshd_config /etc/ssh/sshd_config.original_copy</code></pre><p>如果我弄错了，你可以在复制的文件上更改你想要的设置，然后重新使用它。</p><h3><span class="ez-toc-section" id="How_to_connect_to_OpenSSH"/> <strong>如何连接OpenSSH </strong> <span class="ez-toc-section-end"/></h3><p>当您正确完成安装和配置步骤后，就该检查您的OpenSSH服务器是否工作正常了。为此，您可以通过运行以下命令来使用Netcat工具:</p><pre><code class="language-bash">nc -v -z 127.0.0.1 22</code></pre><p>此外，您可以使用另一种方式连接到OpenSSH，从您的<b>本地主机</b>通过您的<strong> OpenSSH客户端</strong>进行连接，或者使用Nmap 进行<a href="https://blog.eldernode.com/scan-ports-using-connect-scan-on-nmap/" target="_blank" rel="noopener">端口扫描。</a></p><p>或者在您的客户端计算机中，使用以下命令通过SSH进行连接。</p><pre><code class="language-bash">ssh <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="c4b6a1a9abb0a1b1b7a1b684b6a1a9abb0a1e9adb4e9a5a0a0b6a1b7b7">[email protected]</a></code></pre><p><strong> <em>注意</em> : </strong>使用远程计算机的用户名和<a href="https://blog.eldernode.com/find-server-public-ip-linux/" target="_blank" rel="noopener">的IP地址</a>。</p><p>一旦你面对“<em>你确定要继续连接(是/否)</em>的警告，输入<strong>是</strong>。然后，如果您在远程计算机上键入您的用户的密码，您将登录到远程Linux计算机。</p><p>默认情况下，该服务运行在<strong> TCP端口22 </strong>上，但是您可以更改它。要设置OpenSSH监听<strong> TCP端口13 </strong>，用您喜欢的文本编辑器打开sshd_config文件并运行:</p><pre><code class="language-bash">What ports, IPs and protocols we listen for  Port 13</code></pre><p>要让配置文件中的更改生效，运行以下命令并<strong>重启</strong>OpenSSH服务器:</p><pre><code class="language-bash">sudo /etc/init.d/ssh restart</code></pre><p>重启OpenSSH后，您可以检查配置文件中的更改是否完成，以及OpenSSH服务器是否监听端口13。要再次执行此操作，请使用netcat命令:</p><pre><code class="language-bash">nc -v -z 127.0.0.1 13</code></pre><p>最后，修改<strong> /etc/issue.net </strong>文件的内容，并在sshd配置文件中添加下面一行，如果您希望OpenSSH服务器显示一个漂亮的登录横幅的话:</p><pre><code class="language-bash">Banner /etc/issue.net</code></pre><h2><span class="ez-toc-section" id="How_to_allow_Root_user_login_on_Linux"/> <strong>如何允许Root用户登录Linux </strong> <span class="ez-toc-section-end"/></h2><p>现在，您可以通过打开文件<strong> /etc/ssh/sshd_config </strong>来启用SSH root登录:</p><pre><code class="language-bash">vi /etc/ssh/sshd_config</code></pre><p>然后，搜索下一行，将<em> '#' </em>放在开头，<strong>保存</strong>文件。</p><pre><code class="language-bash">PermitRootLogin no</code></pre><p>接下来，要重新启动<strong> sshd </strong>服务，运行:</p><pre><code class="language-bash">/etc/init.d/sshd restart</code></pre><p>此时，您应该能够以root用户身份登录。</p><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>在本文中，您了解了如何在Linux上安装和使用OpenSSH。然后，您回顾了启用SSH root登录的方法。请注意，如果您在系统上有大量用户帐户，您可以限制SSH用户登录。如果你有兴趣了解更多，请参考<a href="https://blog.eldernode.com/enable-root-login-via-ssh-in-ubuntu-20-04/"> Ubuntu 20.04 </a>和<a href="https://blog.eldernode.com/enable-root-login-via-ssh-in-debian/"> Debian 10 </a>中的通过SSH启用root登录。</p></div></div>    
</body>
</html>