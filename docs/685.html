<html>
<head>
<title>Tutorial Setup Pandora FMS on Debian 10 - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Debian 10 - Eldernode博客上的Pandora FMS安装教程</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/setup-pandora-fms-on-debian-10/#0001-01-01">https://blog.eldernode.com/setup-pandora-fms-on-debian-10/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/7de92079b84eacf8917f84035970655c.png" data-src="https://blog.eldernode.com/wp-content/uploads/2021/03/Tutorial-Setup-Pandora-FMS-on-Debian-10.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Tutorial Setup Pandora FMS on Debian 10" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/03/Tutorial-Setup-Pandora-FMS-on-Debian-10.png 2069w, https://blog.eldernode.com/wp-content/uploads/2021/03/Tutorial-Setup-Pandora-FMS-on-Debian-10-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/03/Tutorial-Setup-Pandora-FMS-on-Debian-10-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2021/03/Tutorial-Setup-Pandora-FMS-on-Debian-10-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2021/03/Tutorial-Setup-Pandora-FMS-on-Debian-10-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2021/03/Tutorial-Setup-Pandora-FMS-on-Debian-10-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/03/Tutorial-Setup-Pandora-FMS-on-Debian-10.png"/><p>Pandora Flexible Monitoring System是一款免费的开源且高度可扩展的IT基础设施监控工具。Pandora FMS是根据GNU通用公共许可证的条款发布的。使用Pandora FMS可以管理系统和应用程序等网络设备。由于Pandora FMS被设计为模块化、多平台和易于定制，因此它支持对网络、服务器、应用程序、数据库、云和虚拟化、日志、用户体验和业务流程的监控。本文介绍了在Debian 10 上设置Pandora FMS的教程<strong>。您可以访问<a href="https://eldernode.com/" target="_blank" rel="noopener"> Eldernode </a>的可用软件包，并以最优惠的价格和支持订购您自己的<strong> <a href="https://eldernode.com/linux-vps/" target="_blank" rel="noopener"> Linux VPS </a> </strong>。</strong></p><h2><span class="ez-toc-section" id="How_To_Setup_Pandora_FMS_on_Debian_10_step_by_step"/>如何一步一步在Debian 10上设置Pandora FMS<span class="ez-toc-section-end"/></h2><p>作为管理员，你需要使用软件来监控计算机网络。使用Pandora FMS，您可以从不同的操作系统、服务器、应用程序和硬件系统中对多个参数的状态和性能进行可视化监控。<a href="https://blog.eldernode.com/tag/linux/" target="_blank" rel="noopener"> Linux </a>是Pandora FMS的首选操作系统，但在Windows下也能完美运行。<a href="https://blog.eldernode.com/tag/centos/" target="_blank" rel="noopener"> CentOS </a> 7是推荐的分布。在<a href="https://blog.eldernode.com/tag/debian/" target="_blank" rel="noopener"> Debian </a> / <a href="https://blog.eldernode.com/tag/ubuntu/" target="_blank" rel="noopener"> Ubuntu </a>和SUSE Linux中都有安装包。</p><h3><span class="ez-toc-section" id="Components_of_Pandora_FMS"/> <strong>潘多拉FMS的组件</strong> <span class="ez-toc-section-end"/></h3><p>潘多拉监控系统有四个组成部分。让我们读更多关于他们的书。</p><p>1-潘多拉FMS服务器</p><p>一个基于Perl的程序，负责执行检查、收集、聚合和处理数据。他们把数据存入数据库。所有服务器都集成到一个多线程应用程序中。</p><p><strong> 2-潘多拉FMS控制台</strong></p><p>一个基于PHP的用户界面来操作和管理<a href="https://blog.eldernode.com/linux-server-monitoring-commands/" target="_blank" rel="noopener">监控</a>系统。它由一个数据库和一个web服务器提供支持。它还负责显示数据库中的信息。</p><p><strong> 3-数据库</strong></p><p>关于监控系统的数据存储在数据库中。</p><p><strong> 4-软件代理</strong></p><p>安装在受监控系统上的应用程序，作为守护程序或服务运行，收集数据并将其发送到Pandora FMS服务器。</p><h3><span class="ez-toc-section" id="Prerequisites_to_Install_and_setup_Pandora_FMS_On_Debian_10"/> <strong>安装设置的先决条件</strong><strong>Debian 10上的潘多拉FMS</strong><span class="ez-toc-section-end"/></h3><p>为了让本教程更好地工作，请考虑以下先决条件:</p><p>_拥有Sudo权限的非root用户。</p><p>_要进行设置，请遵循我们在Debian 10 上的<a href="https://blog.eldernode.com/initial-setup-with-debian-10/" target="_blank" rel="noopener">初始服务器设置。</a></p><p>_要查看系统硬件要求，请查看下表:</p><p> </p><p><img data-lazyloaded="1" src="../Images/f815f6b48c7b5f28e6692396c558d58d.png" decoding="async" loading="lazy" class="aligncenter wp-image-27222 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2021/03/Untitled-6-1.png" alt="Pandora System hardware requirements" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/03/Untitled-6-1.png 633w, https://blog.eldernode.com/wp-content/uploads/2021/03/Untitled-6-1-300x200.png 300w" data-sizes="(max-width: 633px) 100vw, 633px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/03/Untitled-6-1.png"/></p><p> </p><h2><span class="ez-toc-section" id="How_to_Install_Pandora_FMS_on_Debian_10_Debian_9"/> <strong>如何在Debian 10 | Debian 9 </strong> <span class="ez-toc-section-end"/>上安装潘多拉FMS</h2><p>如果您尚未安装Pandora FMS，请阅读本节内容，并按照所需的步骤进行安装。但是如果你的Debian 10服务器上已经安装了Pandora，那么请阅读本文中的<strong>如何用Pandora FMS </strong>监控Debian 10部分，看看如何设置Pandora FMS。</p><p>但是，让我们从将您的系统包更新到更新版本开始。使用以下命令来完成此操作:</p><pre><code class="language-bash">apt-get update -y</code></pre><p>当您更新软件包时，运行下面的命令来安装Pandora FMS所需的所有<strong>依赖项</strong>:</p><pre><code class="language-bash">apt-get install snmp snmpd libnet-telnet-perl libgeo-ip-perl libtime-format-perl libxml-simple-perl libxml-twig-perl libdbi-perl libnetaddr-ip-perl libhtml-parser-perl xprobe2 nmap libmail-sendmail-perl traceroute libio-socket-inet6-perl libhtml-tree-perl libsnmp-perl snmp-mibs-downloader libio-socket-multicast-perl libsnmp-perl libjson-perl -y</code></pre><h3 class="command"><span class="ez-toc-section" id="How_to_Install_LAMP_Server"/> <strong>如何安装LAMP服务器</strong> <span class="ez-toc-section-end"/></h3><p>在这一部分中，您必须安装<a href="https://blog.eldernode.com/install-apache-web-server-debian/" target="_blank" rel="noopener"> Apache服务器</a>、<a href="https://blog.eldernode.com/mariadb-installation-on-debian-10/" target="_blank" rel="noopener"> MariaDB </a>、PHP和其他系统所需的依赖项。因此，键入:</p><pre><code class="language-bash">apt-get install apache2 mariadb-server php php-common php-gmp php-curl php-mbstring php-xmlrpc php-mysql php-gd php-bcmath php-xml php-cli php-zip php-pear php-zip php-sqlite3 php-snmp php-db graphviz php-curl php-ldap dbconfig-common unzip git -y</code></pre><p>所有软件包安装完成后，编辑<strong> php.ini </strong>文件并定义推荐的设置:</p><pre><code class="language-bash">nano /etc/php/7.4/apache2/php.ini</code></pre><p>然后，更改以下几行:</p><pre><code class="language-bash">memory_limit = 256M</code></pre><pre><code class="language-bash">upload_max_filesize = 100M</code></pre><pre><code class="language-bash">max_execution_time = 360</code></pre><pre><code class="language-bash">max_input_vars = 2000</code></pre><pre><code class="language-bash">date.timezone = Europe/Paris</code></pre><h3><span class="ez-toc-section" id="How_to_Configure_MariaDB_Database"/> <strong>如何配置MariaDB数据库</strong> <span class="ez-toc-section-end"/></h3><p>因为默认情况下没有设置MariaDB的root密码，所以运行下面的脚本在您的系统中设置它:</p><pre><code class="language-bash">mysql_secure_installation</code></pre><p>然后回答以下所有问题来设置root密码:</p><p> </p><p><img data-lazyloaded="1" src="../Images/f1b9436d6ce57e2fd43469ed94cf18f5.png" decoding="async" loading="lazy" class="size-full wp-image-27297 alignnone" data-src="https://blog.eldernode.com/wp-content/uploads/2021/03/Untitled-17.png" alt="How to Configure MariaDB Database" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/03/Untitled-17.png 452w, https://blog.eldernode.com/wp-content/uploads/2021/03/Untitled-17-300x129.png 300w" data-sizes="(max-width: 452px) 100vw, 452px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/03/Untitled-17.png"/></p><p>接下来，运行以下命令登录到<strong> MariaDB shell </strong>:</p><pre><code class="language-bash">mysql -u root -p</code></pre><p>出现提示时提供您的root密码，然后使用以下命令启用<strong> mysql_native_password </strong>插件:</p><pre><code class="language-bash">MariaDB [(none)]&gt; USE MySQL;</code></pre><pre><code class="language-bash">MariaDB [(none)]&gt; UPDATE user SET plugin='mysql_native_password' WHERE</code></pre><pre><code class="language-bash">User='root';</code></pre><p>要为Pandora创建一个<strong>数据库</strong>和<strong>用户</strong>，输入:</p><pre><code class="language-bash">MariaDB [(none)]&gt; CREATE DATABASE pandora;</code></pre><pre><code class="language-bash">MariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON pandora.* to <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="deaebfb0bab1acbf9e">[email protected]</a>'localhost'</code></pre><pre><code class="language-bash">IDENTIFIED BY 'pandora';</code></pre><p>然后，要清除特权并退出MariaDB shell，请运行:</p><pre><code class="language-bash">MariaDB [(none)]&gt; FLUSH PRIVILEGES;</code></pre><pre><code class="language-bash">MariaDB [(none)]&gt; EXIT;</code></pre><p>现在，你需要编辑<strong> /etc/mysql/my.cnf </strong>文件并定义<strong> sql_mode </strong>。</p><pre><code class="language-bash">nano /etc/mysql/my.cnf</code></pre><p>添加以下几行:</p><pre><code class="language-bash">[mysqld]</code></pre><pre><code class="language-bash">sql_mode=NO_ENGINE_SUBSTITUTION</code></pre><p>最后，您可以<strong>保存</strong>并关闭文件。使用以下命令<strong>重启</strong>Maria db服务以应用更改:</p><pre><code class="language-bash">systemctl restart mariadb</code></pre><h3><span class="ez-toc-section" id="How_to_download_Pandora_FMS"/> <strong>如何下载潘多拉FMS </strong> <span class="ez-toc-section-end"/></h3><p>要下载Pandora FMS的最新版本，请运行以下命令从Github获取:</p><pre><code class="language-bash">cd /var/www/html/</code></pre><pre><code class="language-bash">git clone https://github.com/pandorafms/pandorafms.git</code></pre><p>然后，您可以对下载的目录授予适当的权限和所有权:</p><pre><code class="language-bash">chown -R www-data:www-data /var/www/html/pandorafms</code></pre><pre><code class="language-bash">chown -R www-data:www-data /var/www/html/pandorafms/pandora_console/</code></pre><pre><code class="language-bash">chmod -R 775 /var/www/html/pandorafms/pandora_console/</code></pre><p>现在，<strong>编辑</strong>潘多拉配置文件:</p><pre><code class="language-bash">nano /var/www/html/pandorafms/pandora_console/include/config.inc.php</code></pre><p>最后，<strong>取消对</strong>的注释，并根据您的数据库设置更改以下行:</p><p> </p><p><img data-lazyloaded="1" src="../Images/4883dd110a94400dbf71b62a4feba029.png" decoding="async" loading="lazy" class="size-full wp-image-27298 alignnone" data-src="https://blog.eldernode.com/wp-content/uploads/2021/03/Untitled-18.png" alt="uncomment and change lines " data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/03/Untitled-18.png 492w, https://blog.eldernode.com/wp-content/uploads/2021/03/Untitled-18-300x165.png 300w" data-sizes="(max-width: 492px) 100vw, 492px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/03/Untitled-18.png"/></p><p>完成后，<strong>保存</strong>并关闭文件。</p><h3><span class="ez-toc-section" id="How_to_Configure_Apache_for_Pandora_FMS"/> <strong>如何为潘多拉FMS配置Apache</strong><span class="ez-toc-section-end"/></h3><p>在这一部分，您可以使用以下命令创建一个新的Apache虚拟主机配置文件:</p><pre><code class="language-bash">nano /etc/apache2/sites-available/pandora.conf</code></pre><p>然后，添加以下几行:</p><pre><code class="language-bash">&lt;VirtualHost *:80&gt;</code></pre><pre><code class="language-bash">ServerAdmin <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="5d3c393034331d38253c302d3138733e3230">[email protected]</a></code></pre><pre><code class="language-bash">ServerName pandora.eldernode.com</code></pre><pre><code class="language-bash">DocumentRoot /var/www/html/pandorafms/pandora_console</code></pre><pre><code class="language-bash">&lt;Directory /var/www/html/pandorafms/pandora_console&gt;</code></pre><pre><code class="language-bash">AllowOverride All</code></pre><pre><code class="language-bash">&lt;/Directory&gt;</code></pre><pre><code class="language-bash">ErrorLog /var/log/apache2/error.log</code></pre><pre><code class="language-bash">CustomLog /var/log/apache2/access.log combined</code></pre><pre><code class="language-bash">&lt;/VirtualHost&gt;</code></pre><p><strong>保存</strong>并关闭文件。使用以下命令启用Pandora虚拟主机:</p><pre><code class="language-bash">a2ensite pandora</code></pre><p>然后，重新加载Apache服务以应用配置更改:</p><pre><code class="language-bash">systemctl restart apache2</code></pre><h2><span class="ez-toc-section" id="How_To_Monitor_Debian_10_With_Pandora_FMS"/> <strong>如何用潘多拉FMS </strong>监控Debian 10<span class="ez-toc-section-end"/></h2><p>Pandora FMS提供了显著的特性，使您能够通过一系列协议和内置服务灵活地监控服务器、应用程序和网络设备及其资源。一旦安装完全完成，您就可以访问潘多拉FMS并开始使用它。</p><p>打开你的网络浏览器，输入网址<strong>http://pandora.eldernode.com/install.php</strong>。如果安装步骤已经成功通过，您可以查看<strong>安装向导</strong>页面:</p><p> </p><p><img data-lazyloaded="1" src="../Images/5383217e25dd9d9a1e5f1c48d5ba6a98.png" decoding="async" loading="lazy" class="size-full wp-image-27259 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/03/1-3.png" alt="Monitor Debian 10 With Pandora FMS " data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/03/1-3.png 465w, https://blog.eldernode.com/wp-content/uploads/2021/03/1-3-300x225.png 300w" data-sizes="(max-width: 465px) 100vw, 465px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/03/1-3.png"/></p><p> </p><p>点击<strong>下一个</strong>按钮，看到如下页面:</p><p> </p><p><img data-lazyloaded="1" src="../Images/4b886c88d247efdb7b3327be72eb5f2b.png" decoding="async" loading="lazy" class="size-full wp-image-27240 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/03/2-1.jpg" alt="license agreement" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/03/2-1.jpg 488w, https://blog.eldernode.com/wp-content/uploads/2021/03/2-1-300x269.jpg 300w" data-sizes="(max-width: 488px) 100vw, 488px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/03/2-1.jpg"/></p><p> </p><p>点击“<strong>是，我接受许可条款</strong>”。您应该会看到以下页面:</p><p> </p><p><img data-lazyloaded="1" src="../Images/79536bce69bfaea27df8a7e58290a0c2.png" decoding="async" loading="lazy" class="size-full wp-image-27243 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/03/3-1.jpg" alt="software dependencies" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/03/3-1.jpg 469w, https://blog.eldernode.com/wp-content/uploads/2021/03/3-1-296x300.jpg 296w" data-sizes="(max-width: 469px) 100vw, 469px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/03/3-1.jpg"/></p><p> </p><p>确保所有的PHP扩展都已安装，然后点击<strong>下一步</strong>按钮。您应该会看到以下页面:</p><p> </p><p><img data-lazyloaded="1" src="../Images/d6238e77cbaa4155fda42548c8c7ae61.png" decoding="async" loading="lazy" class="size-full wp-image-27264 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/03/4-1-1.png" alt="Environment and database setup" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/03/4-1-1.png 459w, https://blog.eldernode.com/wp-content/uploads/2021/03/4-1-1-295x300.png 295w" data-sizes="(max-width: 459px) 100vw, 459px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/03/4-1-1.png"/></p><p>提供您的root用户名、MariaDB root密码、数据库名称、Pandora的路径，然后点击<strong>下一个</strong>按钮。您应该会看到以下页面:</p><p> </p><p><img data-lazyloaded="1" src="../Images/731b148f863d6676a9be3924b651f270.png" decoding="async" loading="lazy" class="size-full wp-image-27250 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/03/5-2.png" alt="Creating Database" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/03/5-2.png 483w, https://blog.eldernode.com/wp-content/uploads/2021/03/5-2-300x247.png 300w" data-sizes="(max-width: 483px) 100vw, 483px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/03/5-2.png"/></p><p> </p><p>这将更改Pandora数据库用户的密码。所以你需要在<strong>config.php</strong>文件中定义你最初的潘多拉数据库密码。打开您的终端并编辑config.php文件:</p><pre><code class="language-bash">nano /var/www/html/pandorafms/pandora_console/include/config.php</code></pre><p>然后，使用您的原始密码更改“<strong> $config["dbpass"] </strong>”字段:</p><pre><code class="language-bash">// Begin of automatic config file</code></pre><pre><code class="language-bash">$config["dbtype"] = "mysql"; //DB type (mysql, postgresql...in future others)</code></pre><pre><code class="language-bash">$config["mysqli"] = true;</code></pre><pre><code class="language-bash">$config["dbname"]="pandora";</code></pre><pre><code class="language-bash">$config["dbuser"]="pandora";</code></pre><pre><code class="language-bash">$config["dbpass"]="pandora";</code></pre><pre><code class="language-bash">$config["dbhost"]="localhost";</code></pre><p><strong>保存</strong>并关闭文件。然后，返回潘多拉安装向导，点击<strong>下一步</strong>按钮。您应该会看到以下页面:</p><p> </p><p><img data-lazyloaded="1" src="../Images/dd1ff070c102d6a928cd98438bd925ae.png" decoding="async" loading="lazy" class="size-full wp-image-27256 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/03/6-1.png" alt="installation complete" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/03/6-1.png 489w, https://blog.eldernode.com/wp-content/uploads/2021/03/6-1-300x160.png 300w" data-sizes="(max-width: 489px) 100vw, 489px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/03/6-1.png"/></p><p> </p><p>最后，再次打开您的终端并删除<strong>install.php</strong>文件:</p><pre><code class="language-bash">rm -rf /var/www/html/pandorafms/pandora_console/install.php</code></pre><p>现在，回到Pandora FMS安装向导，点击“<strong>点击此处访问您的Pandora FMS控制台</strong>”。您应该会看到Pandora FMS登录屏幕:</p><p> </p><p><img data-lazyloaded="1" src="../Images/5fc08dc33a715ac32cdee8f17ce4fce4.png" decoding="async" loading="lazy" class="size-full wp-image-27234 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_6964.jpg" alt="access your Pandora FMS console" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_6964.jpg 1004w, https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_6964-300x163.jpg 300w, https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_6964-768x417.jpg 768w" data-sizes="(max-width: 1004px) 100vw, 1004px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_6964.jpg"/></p><p> </p><p>最后，提供默认的管理员用户名admin和密码pandora。点击<strong>登录</strong>按钮。您应该会在以下屏幕上看到Pandora仪表板:</p><p> </p><p><img data-lazyloaded="1" src="../Images/320d674b79317300956a2e4e73340bcb.png" decoding="async" loading="lazy" class="size-full wp-image-27235 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_6966.png" alt="Pandora FMS dashboard" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_6966.png 1004w, https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_6966-300x159.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_6966-768x406.png 768w" data-sizes="(max-width: 1004px) 100vw, 1004px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/03/IMG_6966.png"/></p><p> </p><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>本文介绍了在Debian 10上安装Pandora FMS的教程。要从Pandora FMS开始监控，您可以添加客户端系统。如果你有兴趣了解更多，请参考<a href="https://blog.eldernode.com/install-pandora-fms-on-windows-10/" target="_blank" rel="noopener">如何在Windows 10 RDP上安装潘多拉FMS</a>。</p></div></div>    
</body>
</html>