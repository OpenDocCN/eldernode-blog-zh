<html>
<head>
<title>Introducing LogCheck for Linux Log Monitoring - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>介绍用于Linux日志监控的Log check-elder node博客</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/logcheck-for-linux-log-monitoring/#0001-01-01">https://blog.eldernode.com/logcheck-for-linux-log-monitoring/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/3b960a4eefb4187a4c857c0100a92728.png" data-src="https://blog.eldernode.com/wp-content/uploads/2021/02/Introducing-Logcheck-for-Linux-Log-Monitoring.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="Introducing Logcheck for Linux Log Monitoring" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/02/Introducing-Logcheck-for-Linux-Log-Monitoring.png 2069w, https://blog.eldernode.com/wp-content/uploads/2021/02/Introducing-Logcheck-for-Linux-Log-Monitoring-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/02/Introducing-Logcheck-for-Linux-Log-Monitoring-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2021/02/Introducing-Logcheck-for-Linux-Log-Monitoring-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2021/02/Introducing-Logcheck-for-Linux-Log-Monitoring-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2021/02/Introducing-Logcheck-for-Linux-Log-Monitoring-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/02/Introducing-Logcheck-for-Linux-Log-Monitoring.png"/><p>在下面的Linux系统日志活动监控工具介绍中，本文将介绍用于Linux日志监控的LogCheck。您需要软件来记录文件，并检查它们是否违反了安全规定和异常活动。为了达到这个目标，LogCheck被设计为一个自动化工具，它还会记住它从日志文件中读取的最后一个位置。LogCheck每小时运行并检查日志文件，并在发现问题时向管理员发送电子邮件。它是由Debian LogCheck团队开发的。因为它包含在Debian/Ubuntu Linux发行版的稳定库中，所以您可以很容易地安装它。<a href="https://eldernode.com/" target="_blank" rel="noopener"> Eldernode </a>的可用软件包是根据各种需要设计的，购买您自己的<a href="https://eldernode.com/linux-vps/" target="_blank" rel="noopener"> Linux VPS </a>并享受它。</p><h2><span class="ez-toc-section" id="What_is_Logcheck_And_How_It_Works"/> <strong>什么是Logcheck，它是如何工作的？</strong>T3】</h2><p>作为管理员，您需要一个简单的实用程序来帮助您查看由您控制的主机上生成的日志文件。LogCheck是一个广泛使用的工具，用于分析系统日志，并在过滤“正常”条目时发送日志文件摘要。LogCheck从<strong><em>/etc/log check/log check . log files</em></strong>中指定的文件中读取每个日志条目。在本例中，日志文件<strong> <em> /var/log/syslog </em> </strong>和<strong><em>/var/log/auth . log</em></strong>。为了跟踪读取的消息，它使用了一个名为“logtail”的Perl实用程序。它可以标记它在日志中的位置。这样，事件就不会在连续的日志检查运行中报告两次。</p><p> </p><p><img data-lazyloaded="1" src="../Images/0e6ffc678dfa12f2afe207c63657e24d.png" decoding="async" loading="lazy" class="size-full wp-image-25519 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/02/Logcheck-2.png" alt="LogCheck" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/02/Logcheck-2.png 646w, https://blog.eldernode.com/wp-content/uploads/2021/02/Logcheck-2-300x217.png 300w" data-sizes="(max-width: 646px) 100vw, 646px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/02/Logcheck-2.png"/></p><p> </p><p>LogCheck扫描您的系统日志文件，并通过电子邮件发送可疑问题。由于它是通过<a href="https://blog.eldernode.com/list-cron-jobs-on-ubuntu-20-04/" target="_blank" rel="noopener"> cron </a>运行的，它可能藏在几个不同的地方:</p><p>1英寸标准根crontab条目。</p><p>2英寸<em> /etc/crontab </em></p><p>3-作为<em> /etc/cron.d </em>下的一个条目</p><p>4-在一个“运行部件”子目录下，如<em> /etc/cron.daily </em></p><p>日志检查支持3级过滤，如偏执，服务器和工作站。</p><p><strong>偏执</strong>:这个级别支持运行尽可能少服务的高安全性机器。它有详细的信息，你应该考虑它是否容易处理。</p><p><strong>服务器</strong>:默认级别是包含许多不同守护进程规则的服务器。</p><p><strong>工作站</strong>:工作站级包含上述规则，偏执规则包含在服务器级。它适用于受保护的机器，可以过滤大部分信息。</p><p>报告的消息分为三层，即系统事件、安全事件和攻击警报，并具有以下功能:</p><p>1-具有预定义的报告模板</p><p>2-使用正则表达式的简单日志过滤机制</p><p>3-即时电子邮件通知</p><p>4-具有基于云的调度处理系统</p><p>5-即时安全问题警报</p><h3><span class="ez-toc-section" id="LogCheck_Email_Reports"/> <strong>日志检查邮件报告</strong> <span class="ez-toc-section-end"/></h3><p>下面，我们将快速回顾一下更易于阅读的<strong>新</strong> <strong>日志检查电子邮件报告</strong>。</p><p><strong>指标部分</strong>让您对日志中值得注意的日常活动一目了然。</p><p> </p><p><img data-lazyloaded="1" src="../Images/7e92378a469884017aea9e148f0fd22f.png" decoding="async" loading="lazy" class="size-full wp-image-25492 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/02/Screen-Shot-2015-08-09-at-7.55.44-PM.png" alt="Metric Section" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/02/Screen-Shot-2015-08-09-at-7.55.44-PM.png 519w, https://blog.eldernode.com/wp-content/uploads/2021/02/Screen-Shot-2015-08-09-at-7.55.44-PM-300x52.png 300w" data-sizes="(max-width: 519px) 100vw, 519px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/02/Screen-Shot-2015-08-09-at-7.55.44-PM.png"/></p><p> </p><p><strong>笔记部分</strong>可以列出现场记录的所有笔记。您将能够使用笔记部分与您的团队进行交流。</p><p> </p><p><img data-lazyloaded="1" src="../Images/cd543fa28d729f066157b72a4d08c36f.png" decoding="async" loading="lazy" class="size-full wp-image-25511 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/02/note.png" alt="Note section" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/02/note.png 609w, https://blog.eldernode.com/wp-content/uploads/2021/02/note-300x88.png 300w" data-sizes="(max-width: 609px) 100vw, 609px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/02/note.png"/></p><p> </p><p>使用<strong>照片部分</strong>有助于您的团队确保正在执行关键检查。因此，您可以查看在现场拍摄的所有照片。</p><p> </p><p><img data-lazyloaded="1" src="../Images/df164fb615b4d22469e09728bde1e500.png" decoding="async" loading="lazy" class="size-full wp-image-25512 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/02/photo.png" alt="Photos section" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/02/photo.png 371w, https://blog.eldernode.com/wp-content/uploads/2021/02/photo-300x256.png 300w" data-sizes="(max-width: 371px) 100vw, 371px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/02/photo.png"/></p><p><b>报警区</b>将列出所有数值超出范围的记录，让您轻松识别/预防潜在问题。</p><p> </p><p><img data-lazyloaded="1" src="../Images/22fdc69bd034a892fa6867fd1183a8cc.png" decoding="async" loading="lazy" class="size-full wp-image-25513 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/02/alert.png" alt="Alert section - LogCheck for Linux Log Monitoring" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/02/alert.png 395w, https://blog.eldernode.com/wp-content/uploads/2021/02/alert-300x114.png 300w" data-sizes="(max-width: 395px) 100vw, 395px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/02/alert.png"/></p><p> </p><p><strong>更新的记录</strong>部分帮助您识别时间戳被修改的记录。</p><p> </p><p><img data-lazyloaded="1" src="../Images/d32f1e9f514ed38222e010bed5ae9694.png" decoding="async" loading="lazy" class="size-full wp-image-25514 aligncenter" data-src="https://blog.eldernode.com/wp-content/uploads/2021/02/rec.png" alt="Redated Records - LogCheck for Linux Log Monitoring" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/02/rec.png 434w, https://blog.eldernode.com/wp-content/uploads/2021/02/rec-300x128.png 300w" data-sizes="(max-width: 434px) 100vw, 434px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/02/rec.png"/></p><p> </p><h3><span class="ez-toc-section" id="LogCheck_Advantages"/> <strong> LogCheck优势</strong> <span class="ez-toc-section-end"/></h3><p>–基于云的调度管理系统。</p><p>–开发人员也可以使用他们的手机访问该工具。</p><p>–提供有关安全问题的即时信息。</p><p>–使用正则表达式可以轻松过滤日志。</p><p>–通过电子邮件发送即时通知。</p><p>–具有重要的预制报告模板，可制作即时报告。</p><p>–log check易于设置，可在许多系统上运行。</p><p>–使员工能够节省时间并降低风险。</p><h3><span class="ez-toc-section" id="LogCheck_Disadvantages"/> <strong> LogCheck缺点</strong> <span class="ez-toc-section-end"/></h3><p>日志检查不灵活。它将所有日志文件合并成一个文件，这意味着如果一个字符串在一个日志文件中是问题，而在另一个日志文件中不是问题，那么处理起来会很困难。它在某些配置中速度较慢，并且限制了通过电子邮件向系统管理员发送报告。</p><h3><span class="ez-toc-section" id="LogCheck_Options_LogCheck_for_Linux_Log_Monitoring"/> <strong>【日志检查选项(LogCheck for Linux Log Monitoring)</strong><span class="ez-toc-section-end"/></h3><p>让我们看看一些日志检查选项</p><p><b> -c CFG </b>:否决默认配置文件。</p><p><b> -d </b>:调试模式。</p><p><b> -h </b>:显示使用信息。</p><p><b> -H </b>:在logCheck邮件的主题中使用这个主机名字符串。</p><p><b> -l LOG </b>:通过logCheck运行日志文件。</p><p><b> -L CFG </b>:否决默认日志文件列表。</p><p><b> -m </b>:邮件报告给收件人。</p><p><b> -o </b> : STDOUT模式，不发送邮件。</p><p><b> -p </b>:将报告级别设置为“偏执”。</p><p><b> -r目录</b>:否决默认规则目录。</p><p><b> -R:在邮件主题行添加“重启”:</b>。</p><p><b> -s </b>:将报告级别设置为“服务器”。</p><p><b> -S目录</b>:否决默认状态目录。</p><p><b> -t </b>:测试模式不更新偏移量。</p><p><b> -T </b>:不要拆下TMPDIR。</p><p><b> -u </b>:启用Syslog-summary。</p><p><b> -v </b>:打印当前版本。</p><p><b> -w </b>:设置报告级别为“工作站”。</p><h3><span class="ez-toc-section" id="LogCheck_Usage_Introducing_LogCheck_for_Linux_Log"/><strong>【Log check用法(Linux日志介绍)</strong> <span class="ez-toc-section-end"/></h3><p>让我们看一些如何使用logCheck命令的例子。如你所知，logCheck默认定期发送电子邮件。因此，您可以使用<em> -m </em>选项来强制它立即发送一个。请看下面的命令:</p><pre><code class="language-bash">logcheck -m</code></pre><p><b> <em>注</em> : </b> <br/> 1。您可以使用<b> -h </b>选项，后跟一个主机名，以便在电子邮件的主题中使用该主机名。</p><p>2.您可以使用<strong> -o </strong>选项将报告发送到stdout，而不是电子邮件。</p><h3><span class="ez-toc-section" id="Linux_Log_Monitoring_using_LogCheck"/> <strong> Linux使用LogCheck进行日志监控</strong> <span class="ez-toc-section-end"/></h3><p>大多数<a href="https://blog.eldernode.com/tag/linux/"> Linux </a>发行版的系统管理员经常检查日志文件生产环境，以确保系统健康、应用程序的运行状态、潜在的内存问题、高优先级事件等等。因此，各种问题可能会影响用户及其应用程序，因此整个系统的性能将会下降。它说明了需要使用工具来查看和分析日志文件，以<a href="https://blog.eldernode.com/linux-server-monitoring-commands/">监控</a>日志文件。LogCheck作为cronjob每小时运行一次，并在每次启动后运行。然而，用户可以通过命令行和从项目网站下载来安装LogCheck。</p><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>本文介绍了用于Linux日志监控的LogCheck。LogCheck使用简单，可定制性极强。毫无疑问，LogCheck是最好的Linux日志文件管理工具的前10名。系统管理员发现这个工具是主要工具，并喜欢它的功能。在<a href="https://community.eldernode.com/"> Eldernode Community </a>上与你的朋友讨论，如果你使用过LogCheck，提及它的利与弊。</p></div></div>    
</body>
</html>