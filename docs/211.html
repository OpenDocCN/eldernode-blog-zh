<html>
<head>
<title>NIC teaming in CentOS 7 - Bonding NIC on centos 7</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>centos 7中的网卡绑定-在CentOS 7上绑定网卡</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/nic-teaming-centos-7/#0001-01-01">https://blog.eldernode.com/nic-teaming-centos-7/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/afaf858ce13ad2876e143008ec313a0d.png" data-src="https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2174.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="NIC teaming in CentOS 7" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2174.png 2069w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2174-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2174-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2174-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2174-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2174-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2020/07/IMG_2174.png"/><p>在下面的<span> <a href="https://eldernode.com/tag/learning-linux/" target="_blank" rel="noopener noreferrer"> Linux </a> </span>教程中，在这篇文章中，你将了解到CentOS 7 中的<strong>网卡绑定。但是首先，什么是NIC？网络接口卡也称为<strong>网络绑定</strong>，可以定义为将多个NIC聚合或组合成一个绑定接口。网卡的主要目的是提供高可用性和冗余。</strong></p><p> </p><h4 class="fittexted_for_content_h2"><span class="ez-toc-section" id="Prerequisite"/>先决条件:<span class="ez-toc-section-end"/></h4><p>您的绑定模块必须加载到您的Linux机器上。如果不是，请使用下面的命令。</p><pre><code class="language-bash">[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="9deff2f2e9ddf8f1f9f8efeeefeb">[email protected]</a> ~]# modprobe bonding</code></pre><h2><span class="ez-toc-section" id="NIC_teaming_in_CentOS_7"/> <span> NIC组队在CentOS 7 </span> <span class="ez-toc-section-end"/></h2><p>遵循本指南，了解如何在CentOS 7和RHEL 7中配置网卡或网络绑定。我们从两个<span> <a href="https://en.wikipedia.org/wiki/Network_interface_controller" target="_blank" rel="noopener noreferrer">接口卡</a> </span> (enp0s3 &amp; enp0s8)开始，将形成一个bond接口(bond0)。</p><p>列出焊接模块信息:</p><pre><code class="language-bash">[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="33415c5c4773565f575641404145">[email protected]</a> ~]# modinfo bonding</code></pre><p><span class="ez-toc-section" id="1-_Create_a_bond_interface_file"/> <span> 1-创建债券接口文件</span> <span class="ez-toc-section-end"/></p><h3 class="fittexted_for_content_h5">首先，在文件夹“<strong>/etc/sys config/network-scripts/</strong>”<span id="ezoic-pub-ad-placeholder-109" class="ezoic-adpicker-ad"/><span id="div-gpt-ad-linuxtechi_com-medrectangle-3-0" class="ezoic-ad ezoic-adl" data-google-query-id="COXh_u-Q8uoCFQLI1QodwS0IZw"/>下创建一个绑定接口文件(<strong> ifcfg-bond0 </strong>)</h3><p>您现在可以保存并关闭文件。</p><pre><code class="language-bash">[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="89fbe6e6fdc9ece5edecfbfafbff">[email protected]</a> network-scripts]# vi ifcfg-bond0  DEVICE=bond0  TYPE=Bond  NAME=bond0  BONDING_MASTER=yes  BOOTPROTO=none  ONBOOT=yes  IPADDR=192.168.10.70  NETMASK=255.255.255.0  GATEWAY=192.168.10.1  BONDING_OPTS="mode=5 miimon=100"</code></pre><p>接下来，指定IP地址、网络掩码和绑定模式。这里我们选择'<strong>mode = 5 '</strong>，它用于提供容错和负载平衡。</p><p> </p><p><span class="ez-toc-section" id="2-_Edit_the_NIC_interface_files"/> <span> 2-编辑网卡接口文件</span> <span class="ez-toc-section-end"/></p><h3 class="fittexted_for_content_h5"><span> <strong>为ifcfg-eno1 </strong> </span></h3><p><span> <strong>为ifcfg-eno2 </strong> </span> <span id="div-gpt-ad-linuxtechi_com-medrectangle-4-0" class="ezoic-ad ezfound" data-google-query-id="CIGXm8Gt8uoCFdkaBgAdF5gM_Q"/></p><pre><code class="language-bash">[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="a7d5c8c8d3e7c2cbc3c2d5d4d5d1">[email protected]</a> ~]# vi /etc/sysconfig/network-scripts/ifcfg-eno1  TYPE=Ethernet  BOOTPROTO=none  DEVICE=eno1  ONBOOT=yes  HWADDR="08:00:26:79:60:b9"  MASTER=bond0  SLAVE=yes    </code></pre><p> </p><pre><code class="language-bash">[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e5978a8a91a58089818097969793">[email protected]</a> ~]# cat /etc/sysconfig/network-scripts/ifcfg-eno2  TYPE=Ethernet  BOOTPROTO=none  DEVICE=eno2  ONBOOT=yes  HWADDR="08:00:26:ed:71:2d"  MASTER=bond0  SLAVE=yes</code></pre><p><span> <a href="https://eldernode.com/linux-hosting/" target="_blank" rel="noopener noreferrer">购买Linux虚拟主机</a> </span></p><p> </p><p><span class="ez-toc-section" id="3-_Restart_the_Network_Service"/> <span> 3-重启网络服务</span> <span class="ez-toc-section-end"/></p><h3 class="fittexted_for_content_h5">通过以下命令，您可以重新启动网络服务并使上述更改生效。</h3><p> </p><pre><code class="language-bash">[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="92e0fdfde6d2f7fef6f7e0e1e0e4">[email protected]</a> ~]# systemctl restart network.service</code></pre><p><span class="ez-toc-section" id="4-_Test_and_verify_the_bond_interface"/> <span> 4-验证键接口</span> <span class="ez-toc-section-end"/></p><h3 class="fittexted_for_content_h5">要检查绑定接口及其从属接口，请使用'<strong>ifconfig</strong>'&amp;'<strong>IP add</strong>命令。</h3><p> </p><p>要查看焊接接口设置，如焊接模式和从属接口:</p><p>To view bond interface settings like bonding mode and slave interface:</p><pre><code class="language-bash">[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="3d4f5252497d585159584f4e4f4b">[email protected]</a> ~]# cat /proc/net/bonding/bond0</code></pre><h3><span class="ez-toc-section" id="5-_Fault_tolerance_testing"/> <span> 5-容错测试</span>T3】</h3><h3 class="fittexted_for_content_h5">您可以关闭一个接口，检查您是否仍然能够访问服务器，以测试容错能力</h3><p>[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="13617c7c6753767f777661606165">[电子邮件保护] </a> ~]# ifdown eno1设备' eno1 '已成功断开连接。[ <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="45372a2a31052029212037363733">【邮件保护】</a> ~]#</p><p> </p><p><span>干得好！<span>你在CentOS 7 / RHEL 7中学会了如何c </span> </span>配置NIC( <strong>网卡</strong>)绑定。</p><p>亲爱的用户，我们希望你能喜欢CentOS 7 中的<strong> NIC teaming这个教程，你可以在评论区提出关于这个培训的问题，或者要解决<span> <a href="https://eldernode.com/"> Eldernode </a> </span>培训领域的其他问题，请参考<span> <a href="https://eldernode.com/ask" target="_blank" rel="noopener noreferrer">提问页面</a> </span>部分并在其中提出你的问题。</strong></p><p>Dear user, we hope you would enjoy this tutorial<strong> NIC teaming in CentOS 7</strong>, you can ask questions about this training in the comments section, or to solve other problems in the field of <span><a href="https://eldernode.com/">Eldernode</a></span> training, refer to the <span><a href="https://eldernode.com/ask" target="_blank" rel="noopener noreferrer">Ask page</a></span> section and raise your problems in it.</p></div></div>    
</body>
</html>