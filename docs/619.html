<html>
<head>
<title>How to Install NTP server on Fedora [New Release] - Eldernode Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在Fedora[新发布] - Eldernode博客上安装NTP服务器</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/install-ntp-server-on-fedora/#0001-01-01">https://blog.eldernode.com/install-ntp-server-on-fedora/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/a35c1cc8d7e6ed362cc73cb444c12548.png" data-src="https://blog.eldernode.com/wp-content/uploads/2021/02/How-to-Install-NTP-server-on-Fedora.png" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="How to Install NTP server on Fedora" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/02/How-to-Install-NTP-server-on-Fedora.png 2069w, https://blog.eldernode.com/wp-content/uploads/2021/02/How-to-Install-NTP-server-on-Fedora-300x164.png 300w, https://blog.eldernode.com/wp-content/uploads/2021/02/How-to-Install-NTP-server-on-Fedora-1024x561.png 1024w, https://blog.eldernode.com/wp-content/uploads/2021/02/How-to-Install-NTP-server-on-Fedora-768x421.png 768w, https://blog.eldernode.com/wp-content/uploads/2021/02/How-to-Install-NTP-server-on-Fedora-1536x842.png 1536w, https://blog.eldernode.com/wp-content/uploads/2021/02/How-to-Install-NTP-server-on-Fedora-2048x1122.png 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/02/How-to-Install-NTP-server-on-Fedora.png"/><p>NTP代表网络时间协议，用于微调和同步系统和设备的时钟与原子钟。NTP服务器遵循一种称为Stratum的分层结构。该协议使用UDP 123端口，并允许网络设备同步它们的时间。理想情况下，这些设备应该与可信的服务器同步时间。您可以将路由器配置为本地网络的NTP服务器。另一方面，该路由器必须是互联网上的另一个NTP服务器或另一个接入点，作为NTP客户端，以便与其同步时间。在这篇文章中，我们试图学习如何在Fedora 上安装NTP服务器。你也可以访问<a href="https://eldernode.com/" target="_blank" rel="noopener"> Eldernode </a>中的套装来购买<a href="https://eldernode.com/vps/" target="_blank" rel="noopener"> VPS服务器</a>。</p><h2><span class="ez-toc-section" id="Tutorial_Install_NTP_server_on_Fedora_33"/> <strong>教程在Fedora上安装NTP服务器33 </strong> <span class="ez-toc-section-end"/></h2><p>网络时间协议是用于同步操作系统操作时间的默认算法。该协议具有容错功能。它也是一种基于特定和设计的时间源执行时间统一的协议。NTP协议的时间同步在一段时间内执行，并涉及NTP数据包的传输。NTP数据包包含一个时间戳，它就像一个标签，包含用户的时间模式和参与服务器的模式。</p><p>NTP依靠时钟源来为系统的其余部分设置时间，以指定通用时间。该协议使用UTC(协调世界时)作为时间标准的精确来源。UTC使NTP算法能够在全球范围内使用，而不受时区设置的影响。时区是从英国格林威治开始将世界分成15个部分的地理划分，它的作用是显示世界不同地区的时钟。</p><h3><span class="ez-toc-section" id="How_does_NTP_work"/><strong>NTP是如何工作的？</strong>T3】</h3><p>世界上有成千上万的NTP服务器可以访问原子钟和GPS时钟服务。如果我们打算为任何一台计算机配备这些服务器，这是没有意义的，也是不经济的。但是通过实现NTP协议，您可以创建这种同步。例如，在<a href="https://blog.eldernode.com/tag/windows/"> Windows </a>版本中，此功能可用，但默认情况下不启用。</p><p>NTP客户端请求与<a href="https://blog.eldernode.com/ntp-server-configuration-via-powershell/"> NTP服务器</a>进行时间交换。由于这种交换，客户能够计算链路延迟和本地偏移，并设置自己的本地时钟以匹配服务器上的时钟。通常，需要在大约5到10分钟内进行六次交换来确定初始时间。同步后，NTP客户端每10分钟更新一次，通常只需要一次消息交换。该事务通过UDP协议的端口123完成。</p><h3><span class="ez-toc-section" id="NTP_features_In_article_Install_NTP_server_on_Fedora_33"/> <strong> NTP特性(在Fedora 33上安装NTP服务器一文)</strong> <span class="ez-toc-section-end"/></h3><p>1.NTP提供一个参考时钟，作为所有同步过程的固定点。所有的时钟都根据这个时间同步。从一开始，协调世界时(UTC)，即众所周知的全球统一时钟，就被用于这一目的。</p><p>2.NTP是一种自动搜索最佳同步时间源的协议。多个来源可以结合起来，以尽量减少协调中的任何累积误差。在可能的情况下，网络时间协议会检测并忽略临时或永久提供非常强的偏移值的时间源。</p><p>3.NTP是高度可扩展的。每个同步网络可以有几个参考小时。此外，每个网络节点能够以双向(点对点)或单向分层结构传输时间信息。</p><p>4.NTP非常准确。由于选择最佳同步候选的可能性，正确的结果可能高达一纳秒。</p><p>5.NTP可以修复临时网络连接问题。</p><p>在本文的后续部分，请加入我们，学习如何在Fedora上安装NTP服务器。</p><h3><span class="ez-toc-section" id="Install_NTP_server_on_Fedora"/> <strong>在Fedora </strong>上安装NTP服务器<span class="ez-toc-section-end"/></h3><p>在这一节中，我们试图教你如何在Fedora上使用<strong> NTPd </strong>安装NTP服务器。跟随我们在本教程中设置您的NTP服务器来自动设置时间。由于NTP守护程序是由NTP软件包提供的，因此您必须使用以下命令来安装NTPd:</p><pre><code class="language-bash">dnf install ntp -y</code></pre><p>接下来，要从用户的默认空间守护进程chronyd使用NTPd，必须停止并禁用它。因此，你应该使用以下命令<strong>停止</strong>和<strong>禁止</strong>重启系统。</p><pre><code class="language-bash">systemctl stop chronyd</code></pre><pre><code class="language-bash">systemctl disable chronyd</code></pre><p>执行上述命令后，现在应该使用以下命令在启动系统时<strong>启动</strong>和<strong>使能</strong> NTPd:</p><pre><code class="language-bash">systemctl start ntpd</code></pre><pre><code class="language-bash">systemctl enable ntpd</code></pre><h3><span class="ez-toc-section" id="How_to_Configure_NTP_server_on_Fedora"/> <strong>如何在Fedora</strong>T3上配置NTP服务器</h3><p>注意，NTP的主配置文件是<strong> /etc/ntp.conf </strong>。应该注意的是，这个配置文件是随NTPd一起安装的，并且默认配置为使用Fedora池中的时间服务器。</p><p>您可以使用<strong> ntp.conf </strong>文件中的<strong> restrict </strong>命令配置或<strong>限制对ntp服务的访问</strong>，以配置NTP服务访问控制。您还可以使用以下命令编辑<strong> /etc/ntp.conf </strong>，以限制对服务器的本地访问。通过这样做，您可以添加允许服务器接收请求的网络域。</p><pre><code class="language-bash">vim /etc/ntp.conf</code></pre><p> </p><p><img data-lazyloaded="1" src="../Images/9cce4957b5e967414baf0d50d4128fd7.png" decoding="async" loading="lazy" class="aligncenter wp-image-24809 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2021/02/how-to-Configure-Access-control-to-NTP-service.png" alt="how to Configure Access control to NTP service" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/02/how-to-Configure-Access-control-to-NTP-service.png 600w, https://blog.eldernode.com/wp-content/uploads/2021/02/how-to-Configure-Access-control-to-NTP-service-300x66.png 300w" data-sizes="(max-width: 600px) 100vw, 600px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/02/how-to-Configure-Access-control-to-NTP-service.png"/></p><p> </p><p>您还可以配置<strong>时间服务器</strong>。应该注意的是，NTP默认配置为使用Fedora池中的时间服务器。您可以通过将时间服务器替换为靠近您所在区域的服务器来轻松改变这一点。</p><p> </p><p><img data-lazyloaded="1" src="../Images/ba08770a69f82b9126ddf3ba04e22259.png" decoding="async" loading="lazy" class="aligncenter wp-image-24811 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2021/02/how-to-Configure-time-servers.png" alt="how to Configure time servers" data-srcset="https://blog.eldernode.com/wp-content/uploads/2021/02/how-to-Configure-time-servers.png 686w, https://blog.eldernode.com/wp-content/uploads/2021/02/how-to-Configure-time-servers-300x101.png 300w" data-sizes="(max-width: 686px) 100vw, 686px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2021/02/how-to-Configure-time-servers.png"/></p><p> </p><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>世界上有成千上万的NTP服务器可以访问原子钟和GPS时钟服务。如果我们打算为任何一台计算机配备这些服务器，这是没有意义的，也是不经济的。您可以通过实现NTP协议来创建这种同步。在本文中，我们试图了解如何在Fedora上安装NTP服务器。如果你想在<a href="https://blog.eldernode.com/setup-ntp-server-on-ubuntu-20-04/"> Ubuntu </a>、<a href="https://blog.eldernode.com/install-ntp-server-on-linux-centos/"> CentOS </a>、<a href="https://blog.eldernode.com/install-ntp-debian/"> Debian </a>上安装配置NTP服务器，可以参考这些文章。</p></div></div>    
</body>
</html>