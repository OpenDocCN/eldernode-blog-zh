<html>
<head>
<title>How to Backup on with Timeshift on Ubuntu 22.04</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在Ubuntu 22.04上使用Timeshift备份</h1>
<blockquote>原文：<a href="https://blog.eldernode.com/backup-on-with-timeshift-on-ubuntu-22-04/#0001-01-01">https://blog.eldernode.com/backup-on-with-timeshift-on-ubuntu-22-04/#0001-01-01</a></blockquote><div><div class="blog-details">                                  <img data-lazyloaded="1" src="../Images/ac99f5804ddb7c70542f8dd712ee36ae.png" data-src="https://blog.eldernode.com/wp-content/uploads/2022/05/How-to-Backup-on-with-Timeshift-on-Ubuntu-22.04.webp" class="img-fluid mb-3 shadow-sm round-10 wp-post-image" alt="How to Backup on with Timeshift on Ubuntu 22.04" decoding="async" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/05/How-to-Backup-on-with-Timeshift-on-Ubuntu-22.04.webp 2069w, https://blog.eldernode.com/wp-content/uploads/2022/05/How-to-Backup-on-with-Timeshift-on-Ubuntu-22.04-300x164.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/05/How-to-Backup-on-with-Timeshift-on-Ubuntu-22.04-1024x561.webp 1024w, https://blog.eldernode.com/wp-content/uploads/2022/05/How-to-Backup-on-with-Timeshift-on-Ubuntu-22.04-768x421.webp 768w, https://blog.eldernode.com/wp-content/uploads/2022/05/How-to-Backup-on-with-Timeshift-on-Ubuntu-22.04-1536x842.webp 1536w, https://blog.eldernode.com/wp-content/uploads/2022/05/How-to-Backup-on-with-Timeshift-on-Ubuntu-22.04-2048x1122.webp 2048w" data-sizes="(max-width: 2069px) 100vw, 2069px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/05/How-to-Backup-on-with-Timeshift-on-Ubuntu-22.04.webp"/><p>有时你需要在你的操作系统上备份一些文件。Windows有一个名为“系统还原”的工具，您可以用它将Windows还原到以前的状态。但是Linux发行版通常没有用于这个目的的默认应用程序。在本教程中，我们将教你如何在Ubuntu 22.04 上使用Timeshift进行备份。如果您想购买一台<a href="https://eldernode.com/ubuntu-vps/"> <strong> Ubuntu VPS </strong> </a>服务器，我们建议您访问<a href="https://eldernode.com/"> Eldernode </a>网站上提供的软件包。</p><h2><span class="ez-toc-section" id="Tutorial_Backup_on_with_Timeshift_on_Ubuntu_2204"/><strong>Ubuntu 22.04上带Timeshift的教程备份</strong> <span class="ez-toc-section-end"/></h2><h3><span class="ez-toc-section" id="What_is_Timeshift"/> <strong>什么是时移？</strong>T3】</h3><p>Timeshift是一款软件，它提供的功能类似于Windows上的系统还原或Mac上的Time machine。Timeshift通过定期拍摄快照来保护您的系统。可以恢复这些快照，并将系统恢复到记录时的准确状态。</p><p>该软件在某些方面类似于rsnapshot、Backln Time和Timevault，但方法不同。该程序仅用于保护系统文件和系统设置，不包括文档、照片和音乐等用户文件。</p><p><em> Timeshift使用两种模式创建文件系统的快照:</em></p><p><strong> 1) BTRFS </strong>:在这种模式下，使用BTRFS文件系统拍摄快照。</p><p><strong> 2) RSync </strong>:在这种模式下，使用RSync和硬链接拍摄快照，并且在快照之间共享公共文件以节省磁盘空间。Rsync也可以在任何地方存储数据。</p><p>跟随我们这篇文章，一步步教你如何在<a href="https://blog.eldernode.com/tag/ubuntu/"> Ubuntu </a> 22.04上安装Timeshift。</p><p><img data-lazyloaded="1" src="../Images/a61635d28e5211180ea37a102c6e75cb.png" decoding="async" loading="lazy" class="aligncenter wp-image-36881 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/05/1How-to-Backup-on-with-Timeshift-on-Ubuntu-22.04.webp" alt="How-to-Backup-on-with-Timeshift-on-Ubuntu-22.04" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/05/1How-to-Backup-on-with-Timeshift-on-Ubuntu-22.04.webp 1024w, https://blog.eldernode.com/wp-content/uploads/2022/05/1How-to-Backup-on-with-Timeshift-on-Ubuntu-22.04-300x124.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/05/1How-to-Backup-on-with-Timeshift-on-Ubuntu-22.04-768x317.webp 768w" data-sizes="(max-width: 1024px) 100vw, 1024px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/05/1How-to-Backup-on-with-Timeshift-on-Ubuntu-22.04.webp"/></p><p> </p><h3><span class="ez-toc-section" id="How_to_Install_Timeshift_on_Ubuntu_2204"/> <strong>如何在Ubuntu 22.04上安装Timeshift</strong><span class="ez-toc-section-end"/></h3><p>首先<strong>使用以下终端命令更新您的系统</strong>:</p><pre><code class="language-bash">sudo apt update</code></pre><pre><code class="language-bash">sudo apt upgrade -y</code></pre><p>您不需要添加额外的存储库来安装Timeshift，因为它的包已经存在于Ubuntu的默认系统存储库中。因此，<strong>使用以下命令开始安装</strong>:</p><pre><code class="language-bash">sudo apt install timeshift</code></pre><p>要有最新的稳定版本，还有另外一个安装Timeshift的选项，就是使用<strong>发射台</strong> <strong> PPA </strong>。为此，首先<strong>使用以下命令进入PPA </strong>:</p><pre><code class="language-bash">sudo add-apt-repository ppa:teejee2008/timeshift -y</code></pre><p>然后执行以下<strong>更新</strong>以反映新添加的PPA:</p><pre><code class="language-bash">sudo apt-get update</code></pre><p>现在运行以下命令来<strong>安装最新版本的Timeshift </strong>:</p><pre><code class="language-bash">sudo apt install timeshift</code></pre><p>这就完成了Timeshift的安装。您可以在以下路径中找到该软件:</p><p><strong>活动&gt;展示应用&gt;时移</strong></p><h2><span class="ez-toc-section" id="How_to_Create_Backup_Using_Timeshift"/> <strong>如何使用Timeshift </strong> <span class="ez-toc-section-end"/>创建备份</h2><p>您可以使用以下两种方法来备份Ubuntu 22.04系统:</p><p>–&gt; Timeshift图形用户界面(GUI)</p><p>–&gt; Timeshift的命令行</p><h3><span class="ez-toc-section" id="Using_Timeshift_GUI_to_Create_Backups"/> <strong>使用Timeshift GUI创建备份</strong> <span class="ez-toc-section-end"/></h3><p>设置Timeshift后，您有两种选择:</p><p>–&gt;使用<strong> Rsync </strong>协议作为主要备份工具。</p><p>–&gt;使用<strong>brtf</strong>内部文件系统功能。</p><p>在本教程中，我们将研究如何使用<strong> Rsync </strong>进行备份。为此，只需遵循以下步骤。第一步是<strong>运行时移</strong>。</p><p>然后，选择<strong> RSYNC </strong>并点击<strong>下一步</strong>:</p><p> </p><p><img data-lazyloaded="1" src="../Images/1563d253dd0c6837ec6e5e96cfcc3727.png" decoding="async" loading="lazy" class="aligncenter wp-image-36882 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/05/2-snapshot-type.webp" alt="snapshot-type" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/05/2-snapshot-type.webp 620w, https://blog.eldernode.com/wp-content/uploads/2022/05/2-snapshot-type-273x300.webp 273w" data-sizes="(max-width: 620px) 100vw, 620px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/05/2-snapshot-type.webp"/></p><p> </p><p>Timeshift在检查文件系统分区后，会为备份文件的位置提供适当的选项。选择后点击<strong>下一个</strong>:</p><p> </p><p><img data-lazyloaded="1" src="../Images/b16871e06a1e4f5e065755b06febd20a.png" decoding="async" loading="lazy" class="aligncenter wp-image-36883 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/05/3-how-to-select-snapshot-location.webp" alt="how to select snapshot-location" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/05/3-how-to-select-snapshot-location.webp 620w, https://blog.eldernode.com/wp-content/uploads/2022/05/3-how-to-select-snapshot-location-273x300.webp 273w" data-sizes="(max-width: 620px) 100vw, 620px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/05/3-how-to-select-snapshot-location.webp"/></p><p> </p><p>现在选择您希望备份系统的频率，这将根据选定的快照级别自动创建快照，然后选择<strong>下一步</strong>:</p><p> </p><p><img data-lazyloaded="1" src="../Images/39ee6216b84d1316fa13bbf8825e54e0.png" decoding="async" loading="lazy" class="aligncenter wp-image-36884 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/05/4-how-to-select-snapshot-levels.webp" alt="how to select snapshot-levels" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/05/4-how-to-select-snapshot-levels.webp 620w, https://blog.eldernode.com/wp-content/uploads/2022/05/4-how-to-select-snapshot-levels-273x300.webp 273w" data-sizes="(max-width: 620px) 100vw, 620px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/05/4-how-to-select-snapshot-levels.webp"/></p><p> </p><p>如下图所示，默认情况下，主目录已被删除。选择是否要备份主目录，然后点击<strong>下一步</strong>:</p><p> </p><p><img data-lazyloaded="1" src="../Images/624e87fe0b909e0d3ce68ee6a3065e49.png" decoding="async" loading="lazy" class="aligncenter wp-image-36885 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/05/5-timeshift-home-directories.webp" alt="timeshift-home-directories" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/05/5-timeshift-home-directories.webp 620w, https://blog.eldernode.com/wp-content/uploads/2022/05/5-timeshift-home-directories-273x300.webp 273w" data-sizes="(max-width: 620px) 100vw, 620px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/05/5-timeshift-home-directories.webp"/></p><p> </p><p>您的初始设置现在已经完成。点击<strong>结束</strong>:</p><p> </p><p><img data-lazyloaded="1" src="../Images/7ac5285d8d15a9cfecd773dab408a11f.png" decoding="async" loading="lazy" class="aligncenter wp-image-36886 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/05/6-finish-timeshift-setup.webp" alt="finish-timeshift-setup" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/05/6-finish-timeshift-setup.webp 620w, https://blog.eldernode.com/wp-content/uploads/2022/05/6-finish-timeshift-setup-273x300.webp 273w" data-sizes="(max-width: 620px) 100vw, 620px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/05/6-finish-timeshift-setup.webp"/></p><p> </p><p>点击<strong>创建</strong>按钮，让Timeshift开始创建备份快照:</p><p> </p><p><img data-lazyloaded="1" src="../Images/8e7773e0de4098c5aa86d48116dc49cc.png" decoding="async" loading="lazy" class="aligncenter wp-image-36887 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/05/7-create-backup-snapshots.webp" alt="create-backup-snapshots" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/05/7-create-backup-snapshots.webp 881w, https://blog.eldernode.com/wp-content/uploads/2022/05/7-create-backup-snapshots-300x128.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/05/7-create-backup-snapshots-768x327.webp 768w" data-sizes="(max-width: 881px) 100vw, 881px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/05/7-create-backup-snapshots.webp"/></p><p> </p><p>现在，您应该会在列表中看到您的第一个备份快照。选择需要恢复的<strong>备份快照</strong>，点击<strong>恢复</strong>按钮:</p><p> </p><p><img data-lazyloaded="1" src="../Images/a055fb0518ab97110182bcd530864c63.png" decoding="async" loading="lazy" class="aligncenter wp-image-36888 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/05/8-restore-from-backup.webp" alt="restore-from-backup - How to Backup on with Timeshift on Ubuntu 22.04" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/05/8-restore-from-backup.webp 1024w, https://blog.eldernode.com/wp-content/uploads/2022/05/8-restore-from-backup-300x195.webp 300w, https://blog.eldernode.com/wp-content/uploads/2022/05/8-restore-from-backup-768x500.webp 768w" data-sizes="(max-width: 1024px) 100vw, 1024px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/05/8-restore-from-backup.webp"/></p><p> </p><p>Timeshift为您提供了如何从备份中恢复的选项。点击下一个的<strong>进入默认设置:</strong></p><p> </p><p><img data-lazyloaded="1" src="../Images/5ef2a2606f5093a1a5f5a6bf96f5e81c.png" decoding="async" loading="lazy" class="aligncenter wp-image-36889 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/05/9-restore-snapshot-target-device.webp" alt="restore snapshot-target-device" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/05/9-restore-snapshot-target-device.webp 749w, https://blog.eldernode.com/wp-content/uploads/2022/05/9-restore-snapshot-target-device-262x300.webp 262w" data-sizes="(max-width: 749px) 100vw, 749px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/05/9-restore-snapshot-target-device.webp"/></p><p> </p><p>Timeshift提供了从备份中恢复所需的更改列表，以确保在此过程中不会丢失任何数据。选择<strong>下一个</strong>按钮后，系统将恢复:</p><p> </p><p><img data-lazyloaded="1" src="../Images/e05a916ad04407b841682706c164c2dc.png" decoding="async" loading="lazy" class="aligncenter wp-image-36890 size-full" data-src="https://blog.eldernode.com/wp-content/uploads/2022/05/10-how-to-restore-snapshot.webp" alt="how to restore-snapshot - How to Backup on with Timeshift on Ubuntu 22.04" data-srcset="https://blog.eldernode.com/wp-content/uploads/2022/05/10-how-to-restore-snapshot.webp 754w, https://blog.eldernode.com/wp-content/uploads/2022/05/10-how-to-restore-snapshot-263x300.webp 263w" data-sizes="(max-width: 754px) 100vw, 754px" data-original-src="https://blog.eldernode.com/wp-content/uploads/2022/05/10-how-to-restore-snapshot.webp"/></p><p> </p><h3><span class="ez-toc-section" id="Using_Timeshifts_Command-Line_to_Create_Backups"/> <strong>使用Timeshift的命令行创建备份</strong> <span class="ez-toc-section-end"/></h3><p>您可以使用以下命令轻松创建备份:</p><pre><code class="language-bash">sudo timeshift --create</code></pre><p><strong>输出</strong>将如下所示:</p><pre><code class="language-bash">First run mode (config file not found)  Selected default snapshot type: RSYNC  Mounted /dev/sda2 at /media/root/359151f5-efb9-483d-a738-894d57e2d8c8.  Selected default snapshot device: /dev/sda2  ------------------------------------------------------------------------------  Estimating system size...  Creating new snapshot...(RSYNC)  Saving to device: /dev/sda2, mounted at path: /media/root/359151f5-efb9-483d-a738-894d57e2d8c8  Synching files with rsync...  Created control file: /media/root/359151f5-efb9-483d-a738-894d57e2d8c8/timeshift/snapshots/2020-02-19_18-32-36/info.json  RSYNC Snapshot saved successfully (39s)  Tagged snapshot '2022-02-23_18-32-36': ondemand</code></pre><p><strong>用下面的命令列出系统备份截图</strong>:</p><pre><code class="language-bash">sudo timeshift --list</code></pre><p><strong>输出</strong>将是这样的:</p><pre><code class="language-bash">Device : /dev/sda2  UUID : 359151f5-efb9-483d-a738-894d57e2d8c8  Path : /media/root/359151f5-efb9-483d-a738-894d57e2d8c8  Mode : RSYNC  Device is OK  1 snapshots, 197.7 GB free</code></pre><pre><code class="language-bash">Num Name Tags Description   ------------------------------------------------------------------------------  0 &gt; 2022-02-23_18-32-36 O</code></pre><p>您可以使用以下命令<strong>恢复备份快照</strong>:</p><pre><code class="language-bash">sudo timeshift --restore --snapshot "2022-02-23_18-32-36"</code></pre><p>您可以使用以下命令<strong>删除选定的备份快照</strong>:</p><pre><code class="language-bash">sudo timeshift --delete --snapshot '2022-02-23_18-32-36'</code></pre><h2><span class="ez-toc-section" id="Conclusion"/>结论<span class="ez-toc-section-end"/></h2><p>在本文中，您了解了Timeshift，这是Ubuntu 22.04中备份文件的最佳工具之一。我们还研究了如何在Ubuntu 22.04上连接Timeshift并使用有益的方法备份文件。如果你对这篇文章有任何问题，请在评论区发表。</p></div></div>    
</body>
</html>